(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{142:function(e,t,a){e.exports=a(308)},308:function(e,t,a){"use strict";a.r(t);var n,r,s,i,o,l,c,u,f,g,d,h,p,m,E,v,b,y,S,w,k,O,R,C,x,j,A,I,M,_,T,B,P,F,N,D,L,H,U,Q,W,z,K,V,X,Y,J,q,G,Z,$,ee,te,ae,ne,re,se,ie,oe,le,ce,ue,fe,ge,de,he,pe,me,Ee,ve,be,ye,Se=a(0),we=a.n(Se),ke=a(15),Oe=a.n(ke),Re=a(71),Ce=a(43),xe=a(20),je=a(21),Ae=a(30),Ie=a(29),Me=a(31),_e=a(81),Te=a.n(_e),Be=a(70),Pe=a.n(Be),Fe=a(116),Ne=a.n(Fe),De=a(118),Le=a.n(De),He=a(119),Ue=a.n(He),Qe=a(117),We=a.n(Qe),ze=a(77),Ke=a.n(ze),Ve=a(126),Xe=a.n(Ve),Ye=a(79),Je=a.n(Ye),qe=a(80),Ge=a.n(qe),Ze=a(78),$e=a.n(Ze),et=a(124),tt=a.n(et),at=a(123),nt=a.n(at),rt=a(138),st=a.n(rt),it=a(42),ot=a.n(it),lt=a(58),ct=a.n(lt),ut=a(57),ft=a.n(ut),gt=a(69),dt=a.n(gt),ht=a(113),pt=a.n(ht),mt=a(112),Et=a.n(mt),vt=a(115),bt=a.n(vt),yt=a(111),St=a.n(yt),wt=a(110),kt=a.n(wt),Ot=a(27),Rt=a.n(Ot),Ct=a(44),xt=a(139),jt=a.n(xt),At=a(72),It=a.n(At),Mt=a(128),_t=a.n(Mt),Tt=a(127),Bt=a.n(Tt),Pt=a(129),Ft=a.n(Pt),Nt=a(130),Dt=a.n(Nt),Lt=a(28),Ht=a.n(Lt),Ut=a(16),Qt=a.n(Ut),Wt=a(47),zt=a.n(Wt),Kt=a(18),Vt=a.n(Kt),Xt=a(120),Yt=a.n(Xt),Jt=a(19),qt=a.n(Jt),Gt=a(75),Zt=a.n(Gt),$t=a(59),ea=a.n($t),ta=a(131),aa=a.n(ta),na=a(132),ra=a.n(na),sa=a(76),ia=a.n(sa),oa=a(122),la=a.n(oa),ca=a(125),ua=a.n(ca),fa=a(140),ga=a.n(fa),da=a(141),ha=a.n(da),pa=a(22),ma=a.n(pa),Ea=a(121),va=a.n(Ea),ba=a(74),ya=a.n(ba),Sa=a(46),wa=a.n(Sa),ka=a(73),Oa=a.n(ka),Ra=a(45),Ca=a.n(Ra),xa=a(134),ja=a.n(xa),Aa=a(135),Ia=a.n(Aa),Ma=a(137),_a=a.n(Ma),Ta=a(136),Ba=a.n(Ta),Pa=a(133),Fa=a.n(Pa),Na=["","SAOK","SADR","SINS","SHLT","SBUB"],Da=["HALT","NOP","RRMOVQ","IRMOVQ","RMMOVQ","MRMOVQ","OPQ","JXX","CALL","RET","PUSHQ","IPOPQ"],La=["rax","rcx","rdx","rbx","rsp","rbp","rsi","rdi","r8","r9","r10","r11","r12","r13","r14",""],Ha=new Set,Ua=function(){function e(){Object(xe.a)(this,e),this.Memory=mn}return Object(je.a)(e,[{key:"getRegisterFile",value:function(){var e=[""];e.length=16;for(var t=0;t<16;t++)e[t]=kn(Sn.registers[t]);return e}},{key:"init",value:function(){Nn(),Ha.clear()}},{key:"setCode",value:function(e){!function(e){for(var t=!0,a=0;a<e.length;a++)if("\n"!=e[a])if(t&&a+2<e.length&&"0"==e[a]&&"x"==e[a+1]){t=!1;var n="",r=void 0;for(a++;"0"==e[++a];);for(;":"!=e[a];)n+=e[a++];r=parseInt(n,16),isNaN(r)&&(r=0),a+=2;var s=void 0;for(s=0;a+s<e.length&&" "!=e[a+s];s+=2)mn[r+(s>>1)]=e[a+s],mn[r+(s>>1)]+=e[a+s+1];a+=s-1}else t=!1;else t=!0}(e),Nn()}},{key:"addBreakpoint",value:function(e){Ha.add(e)}},{key:"deleteBreakpoint",value:function(e){Ha.delete(e)}},{key:"hasBreakpoint",value:function(e){return Ha.has(e)}},{key:"stepi",value:function(e){return Dn(e)}},{key:"run",value:function(e){setTimeout(function t(){yn!=ln&&yn!=on&&yn!=cn&&(Dn(1),console.log("step"),setTimeout(t,e))},e)}},{key:"getPC",value:function(){return kn(pn)}},{key:"getStat",value:function(){return yn}},{key:"getMemory",value:function(){for(var e=[],t=["addr","hex_val"],a=Wa-8>>3<<3;a>=0;a-=8){var n=kn(Cn(a));if("0"!=n){t[0]=a.toString(16),t[1]=n,e.push(t.slice())}}return e}},{key:"getStageStuffs",value:function(){return[[["m_stat",Na[de]],["m_icode",Da[he]],["m_valE",kn(ve)],["m_valM",kn(Ee)],["m_dstE",La[pe]],["m_dstM",La[me]]],[["e_stat",Na[ie]],["e_icodes",Da[oe]],["e_Cnd",le?"Y":"N"],["e_valE",kn(ge)],["e_valA",kn(fe)],["e_dstE",La[ce]],["e_dstM",La[ue]]],[["d_stat",Na[q]],["d_icode",Da[G]],["d_ifun",""+Z],["d_valC",kn(te)],["d_valA",kn($)],["d_valB",kn(ee)],["d_dstE",La[ae]],["d_dstM",La[ne]],["d_srcA",La[re]],["d_srcB",La[se]]],[["f_stat",Na[W]],["f_icode",Da[z]],["f_ifun",""+K],["f_rA",La[V]],["f_rB",La[X]],["f_valC",kn(Y)],["f_valP",kn(J)]],[["predPC",kn(pn)]]]}},{key:"getStageRegisters",value:function(){return[[["stat",Na[B]],["icode",Da[P]],["valE",kn(L)],["valM",kn(D)],["dstE",La[F]],["dstM",La[N]]],[["stat",Na[C]],["icodes",Da[x]],["Cnd",j?"Y":"N"],["valE",kn(_)],["valA",kn(M)],["dstE",La[A]],["dstM",La[I]]],[["stat",Na[h]],["icode",Da[p]],["ifun",""+m],["valC",kn(k)],["valA",kn(S)],["valB",kn(w)],["dstE",La[E]],["dstM",La[v]],["srcA",La[b]],["srcB",La[y]]],[["stat",Na[s]],["icode",Da[i]],["ifun",""+o],["rA",La[l]],["rB",La[c]],["valC",kn(u)],["valP",kn(f)]],[["predPC",kn(pn)]]]}}]),e}(),Qa=function(){function e(){Object(xe.a)(this,e),this.A=hn.slice(),this.B=hn.slice(),this.M=hn.slice(),this.E=hn.slice(),this.srcA=this.srcB=this.dstM=this.dstE=an,this.registers=[hn.slice()],this.registers.length=16;for(var t=0;t<16;t++)this.registers[t]=this.A;console.log(this.registers)}return Object(je.a)(e,[{key:"reset",value:function(){this.A=hn.slice(),this.B=hn.slice(),this.M=hn.slice(),this.E=hn.slice();for(var e=0;e<16;e++)this.registers[e]=hn.slice();this.srcA=this.srcB=this.dstM=this.dstE=an}},{key:"read",value:function(){this.A=this.registers[this.srcA].slice(),this.B=this.registers[this.srcB].slice()}},{key:"write",value:function(){this.registers[this.dstE]=this.E.slice(),this.registers[this.dstM]=this.M.slice()}}]),e}(),Wa=800,za=0,Ka=1,Va=2,Xa=3,Ya=4,Ja=5,qa=6,Ga=7,Za=8,$a=9,en=10,tn=11,an=15,nn=4,rn=0,sn=1,on=2,ln=3,cn=4,un=5,fn=4,gn=2,dn=1,hn=["00","00","00","00","00","00","00","00"],pn=hn.slice(),mn=["0"];mn.length=Wa;var En,vn,bn,yn,Sn=new Qa;function wn(e){var t=hn.slice();t.length=8;for(var a=0;a<8;a++){var n=255&e;t[a]=n.toString(16),1==t[a].length&&(t[a]="0"+t[a]),e>>=8}return t}function kn(e){if(void 0==e)return"0";for(var t="",a=7;a>=0&&0==parseInt(e[a],16);)a--;if(a<0)return"0";"0"!=e[a][0]&&(t+=e[a][0]),t+=e[a][1];for(var n=a-1;n>=0;n--)t+=e[n][0]+e[n][1];return t}function On(e,t){var a=hn.slice();a.length=8;for(var n=0,r=0;r<8;r++){var s=parseInt(e[r],16)+parseInt(t[r],16)+n;n=s>>8;var i=(255&s).toString(16);1==i.length?a[r]="0"+i:a[r]=i}return a}function Rn(e,t){var a=hn.slice();a.length=8;for(var n=0;n<8;n++){var r=255&(parseInt(e[n],16)^parseInt(t[n],16));a[n]=r.toString(16),1==a[n].length&&(a[n]="0"+a[n])}return a}function Cn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;if(e+t>Wa||e<0)return null;var a=hn.slice();a.length=t;for(var n=0;n<t;n++)a[n]=mn[e+n],void 0==a[n]&&(a[n]="00");return a}function xn(e,t,a){var n,r,s;switch(a){case 0:n=On(e,t);break;case 1:r=e,s=t,hn.slice(),n=On(r,On(Rn(s,["ff","ff","ff","ff","ff","ff","ff","ff"]),["01","00","00","00","00","00","00","00"]));break;case 2:n=function(e,t){var a=hn.slice();a.length=8;for(var n=0;n<8;n++){var r=parseInt(e[n],16)&parseInt(t[n],16)&255;a[n]=r.toString(16),1==a[n].length&&(a[n]="0"+a[n])}return a}(e,t);break;case 3:n=Rn(e,t);break;default:n=null}var i=parseInt(n[7],16)>>7,o=parseInt(e[7],16)>>7,l=parseInt(t[7],16)>>7;return En=0,0==parseInt(kn(n),16)&&(En|=fn),1==i&&(En|=gn),o==l&&i!=o&&(En|=dn),n}function jn(){var e,t,a,n,r,s,i,o,l,c,u,f,g,d;l=Cn(r=parseInt(kn(x!=Ga||j?P==$a?D:pn:M),16),1),c=Cn(r+1,1),e=function(e,t){switch(e){case Ga:case Va:return t<7;case qa:return t<4;default:return t<1}}(u=parseInt(l[0][0],16),f=parseInt(l[0][1],16)),t=function(e){switch(e){case za:case Ka:case Ga:case Za:case $a:return!1;default:return!0}}(u),a=function(e){switch(e){case Xa:case Ya:case Ja:case Ga:case Za:return!0;default:return!1}}(u),n=function(e,t,a){return 1==e?on:1==!t?ln:a==za?cn:sn}(be,e,u),g=t?parseInt(c[0][0],16):an,d=t?parseInt(c[0][1],16):an,i=a?Cn(r+1+t):hn.slice(),o=wn(r+1+t+(a<<3)),s=u==Ga||u==Za?wn(parseInt(kn(i),16)):o,W=n,z=u,K=f,V=g,X=d,Y=i.slice(),J=o.slice(),Q=s.slice()}function An(){var e,t,a,n,r,g,d,h;return a=function(){switch(i){case Va:case Xa:case qa:return c;case en:case tn:case Za:case $a:return nn;default:return an}}(),n=function(){switch(i){case Ja:case tn:return l;default:return an}}(),d=function(){switch(i){case Va:case Ya:case qa:case en:return l;case tn:case $a:return nn;default:return an}}(),h=function(){switch(i){case Ja:case Ya:case qa:return c;case en:case tn:case Za:case $a:return nn;default:return an}}(),Sn.srcA=d,Sn.srcB=h,Sn.read(),e=Sn.A,t=Sn.B,r=function(e,t){return i==Za||i==Ga?f:e==ce?ge:e==I?Ee:e==A?_:e==N?D:e==F?L:t}(d,e),g=function(e,t){return e==ce?ge:e==I?Ee:e==A?_:e==N?D:e==F?L:t}(h,t),yn=B==un?sn:B,q=s,G=i,Z=o,te=u.slice(),$=r.slice(),ee=g.slice(),ae=a,ne=n,re=d,se=h,console.log("d_stat: "+q),console.log("d_icode: "+G),console.log("d_ifun: "+Z),console.log("d_valC: "+te),console.log("d_valA: "+$),console.log("d_valB: "+ee),console.log("d_dstE: "+ae),0}function In(){var e,t,a,n,r,s;t=p==qa?m:rn,n=function(e,t,a){switch(e){case Va:case qa:return t;case Xa:case Ya:case Ja:return a;case Za:case en:return["f8","ff","ff","ff","ff","ff","ff","ff"];case $a:case tn:return["08","00","00","00","00","00","00","00"];default:return hn}}(p,S,k),r=function(e,t,a){switch(e){case Ya:case Ja:case qa:case Za:case en:case $a:case tn:return t;case Va:case Xa:default:return hn}}(p,w),vn=p==qa&&!(de==on||de==ln||de==cn||B==on||B==ln||B==cn),s=xn(r,n,t),e=!!function(e){switch(e){case 1:return bn&(fn|gn);case 2:return bn&gn;case 3:return bn&fn;case 4:return!(bn&fn);case 5:return!(bn&gn);case 6:return!(bn&(fn|gn));default:return!0}}(m),a=p==Va?e?E:an:E,vn&&(bn=En,console.log("updateCC: "+bn)),ie=h,oe=p,le=e,ge=s.slice(),fe=S.slice(),ce=a,ue=v}function Mn(){var e,t,a,n;ye=!1;var r=hn.slice();e=x==Ja||x==tn||x==$a,t=x==Ya||x==en||x==Za,n=parseInt(kn(function(e,t,a){switch(e){case Ya:case en:case Za:case Ja:return a;case tn:case $a:return t;default:return hn}}(x,M,_)),16),a=M,e&&(r=Cn(n,8));var s=1;t&&(s=function(e,t){var a=t.length;if(e+a>Wa||e<0)return null;for(var n=0;n<a;n++)mn[e+n]=t[n];return!0}(n,a)),null!=r&&null!=s||(ye=!0),de=ye?on:C,he=x,ve=_.slice(),Ee=r.slice(),pe=A,me=I,console.log("")}function _n(){H=!1,U=!0,B=un,P=Ka,L=hn.slice(),D=hn.slice(),F=an,N=an}function Tn(){!1,T=!0,C=un,x=Ka,M=hn.slice(),_=hn.slice(),A=an,I=an,j=0}function Bn(){O=!1,R=!0,h=un,p=Ka,m=0,S=hn.slice(),w=hn.slice(),k=hn.slice(),b=an,y=an,E=an,v=an}function Pn(){g=!1,d=!0,s=un,i=Ka,o=0,l=an,c=an,u=hn.slice(),f=hn.slice()}function Fn(){n=!1,r=!0,pn=hn.slice()}function Nn(){Sn.reset(),Fn(),Pn(),Bn(),Tn(),_n(),bn=fn,yn=sn}function Dn(e){for(var t=0;t<e;t++)Ln();return yn==ln||yn==on||yn==cn?yn:0}function Ln(){return yn==ln||yn==on||yn==cn?1:(U?_n():H||(B=de,P=he,L=ve.slice(),D=Ee.slice(),F=pe,N=me),T?Tn():H||(C=ie,x=oe,M=fe.slice(),_=ge.slice(),A=ce,I=ue,j=le),R?Bn():O||(h=q,p=G,m=Z,S=$.slice(),w=ee.slice(),k=te.slice(),b=re,y=se,E=ae,v=ne),d?Pn():g||(s=W,i=z,o=K,l=V,c=X,u=Y.slice(),f=J.slice()),r?Fn():n||(pn=Q),Sn.write(),yn=B==un?sn:B,Sn.dstE=F,Sn.dstM=N,Sn.E=L.slice(),Sn.M=D.slice(),Mn(),In(),An(),jn(),function(){var e=(p==Ja||p==tn)&&(v==re||v==se);n=e||i==$a||p==$a||x==$a,r=!1,g=e,d=p==Ga&&!le||!((p==Ja||p==tn)&&(v==re||v==se))&&(i==$a||p==$a||x==$a),O=!1,R=p==Ga&&!le||e,H=B==on||B==ln||B==cn,U=!1,!1,T=B==on||B==ln||B==cn||de==on||de==ln||de==cn}(),0)}var Hn=[dt.a[500],kt.a[500],St.a[500],Et.a[500],pt.a[500]],Un=1e3,Qn=[1,5,10,20],Wn=1,zn=new Ua;zn.init();var Kn=new Set,Vn=Object(Ct.createMuiTheme)({palette:{primary:bt.a,background:{default:Rt.a[200]}},typography:{useNextVariants:!0,fontSize:13,fontFamily:["Consolas","Courier New",'"Microsoft Yahei"',"-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")}});console.log(Vn);var Xn=function(e){function t(){var e,a;Object(xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Ae.a)(this,(e=Object(Ie.a)(t)).call.apply(e,[this].concat(r)))).state={grow:[!0,!1,!1,!1,!1,!1],stageRegisters:a.props.stageRegisters,onRefresh:!1,in:!0,x:0,y:0,position:[[0,0],[0,0],[0,0],[0,0],[0,0]],ref:[void 0,void 0,void 0,void 0,void 0]},a}return Object(Me.a)(t,e),Object(je.a)(t,[{key:"changePosition",value:function(e){var t=this.ref[e].getBoundingClientRect(),a=Math.random(),n=Math.random(),r=(window.innerWidth/5-t.width/2)*a+(4*window.innerWidth/5-t.width/2)*(1-a),s=(window.innerHeight/3-t.height/2)*n+(2*window.innerHeight/3-t.height/2)*(1-n),i=this.state.position;i[e][0]=r,i[e][1]=s,this.setState({position:i})}},{key:"componentDidMount",value:function(){for(var e=0;e<5;e++)this.changePosition(e)}},{key:"render",value:function(){var e=this,t=Un/10,a=t>200?t:200,n=a>>2;void 0==this.ref&&(this.ref=[],this.ref.length=5);this.props.classes,this.props.stageRegisters;return["Write-back","Memory","Execute","Decode","Fetch"].map(function(t,r){return we.a.createElement("div",{style:{position:"absolute",zIndex:10,left:e.state.position[r][0],top:e.state.position[r][1]},ref:function(t){e.ref[r]=t}},we.a.createElement(we.a.Fragment,null,we.a.createElement(ot.a,{unmountOnExit:!0,in:0!=r||e.state.onRefresh?e.state.grow[r]:!e.props.hide,timeout:a,onEnter:function(){0==r&&e.setState({onRefresh:!0}),setTimeout(function(){var t=e.state.grow;t[r+1]=!0,e.setState({grow:t})},n)},onEntered:function(){if(4==r){var t=e.state.grow;t[0]=!1,e.setState({grow:t})}},onExit:function(){0==r&&e.setState({onRefresh:!0}),setTimeout(function(){var t=e.state.grow;t[r+1]=!1,e.setState({grow:t})},n)},onExited:function(){if(e.changePosition(r),4==r){if(e.setState({onRefresh:!1,stageRegisters:e.props.stageRegisters}),e.props.hide)return;var t=e.state.grow;t[0]=!0,e.setState({grow:t})}}},we.a.createElement(Ne.a,null,we.a.createElement(We.a,{style:{backgroundColor:"SAOK"===e.state.stageRegisters[r][0][1]||4==r?Hn[r]:Rt.a[500]}},we.a.createElement(Le.a,{avatar:we.a.createElement(It.a,{style:{backgroundColor:"SAOK"===e.state.stageRegisters[r][0][1]||4==r?Hn[r]:Rt.a[500]}},t[0]),title:t})),we.a.createElement(Ue.a,null,e.state.stageRegisters[r].map(function(e,t){return we.a.createElement(qt.a,{component:"p"},""==e[1]?"":"["+e[0]+"] "+e[1]+" "," ")}))))))})}}]),t}(we.a.Component),Yn=function(e){function t(){return Object(xe.a)(this,t),Object(Ae.a)(this,Object(Ie.a)(t).apply(this,arguments))}return Object(Me.a)(t,e),Object(je.a)(t,[{key:"render",value:function(){this.props.classes;var e=this.props.parent,t=this.props.code;zn.getStageRegisters();return we.a.createElement("div",{style:{height:"100%"}},we.a.createElement(ma.a,{style:{padding:2*Vn.spacing.unit,height:"100%",overflow:"auto"}},t.map(function(t,a){var n;if(t.length>=5&&"0"==t[0]&&"x"==t[1]){var r=2;for(n="";"0"==t[r];)r++;for(;":"!=t[r];)n+=t[r++];0==n.length&&(n="0")}return we.a.createElement("div",null,we.a.createElement(qt.a,{addr:n,style:{fontSize:15},onContextMenu:function(){},onDoubleClick:function(t){var a=t.target.attributes;void 0!=a.addr&&(t.target.isbreakpoint?(t.target.isbreakpoint=!1,zn.deleteBreakpoint(a.addr.value),Kn.delete(a.addr.value),e.toast("Delete breakpoint at: 0x"+a.addr.value),t.target.style.fontWeight="normal"):(t.target.isbreakpoint=!0,zn.addBreakpoint(a.addr.value),Kn.add(a.addr.value),e.toast("Add breakpoint at: 0x"+a.addr.value),t.target.style.fontWeight="bold"))},onMouseEnter:function(e){e.target.style.fontWeight="bold"},onMouseOut:function(e){e.target.isbreakpoint||(e.target.style.fontWeight="normal")}},t))})," "))}}]),t}(we.a.Component),Jn=function(e){function t(){var e,a;Object(xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Ae.a)(this,(e=Object(Ie.a)(t)).call.apply(e,[this].concat(r)))).state={grow:[!0,!1,!1,!1,!1,!1],stageRegisters:a.props.stageRegisters,stageStuffs:a.props.stageStuffs,onRefresh:!1,in:!0,anchorEl:null,popText:""},a}return Object(Me.a)(t,e),Object(je.a)(t,[{key:"render",value:function(){var e=this,t=this.props.classes,a=(this.props.stageRegisters,this.props.stageStuffs,this.state.anchorEl);return we.a.createElement("div",{style:{height:"100%",width:"100%"}},we.a.createElement(ma.a,{style:{height:"100%",overflow:"auto"}},we.a.createElement(Ht.a,{className:t.list},we.a.createElement(Yt.a,{className:t.subHeader},"Stage Registers"),we.a.createElement(Pe.a,{id:"simple-popper",open:Boolean(a),anchorEl:a,onClose:function(){e.setState({anchorEl:null})},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},we.a.createElement(qt.a,{style:{margin:2*Vn.spacing.unit}},this.state.popText)),["Write-back","Memory","Execute","Decode","Fetch"].map(function(t,a){return we.a.createElement(we.a.Fragment,null,we.a.createElement(ot.a,{in:0!=a||e.state.onRefresh?e.state.grow[a]:!e.props.hide&&e.props.in,timeout:200,onEnter:function(){setTimeout(function(){var t=e.state.grow;t[a+1]=!0,e.setState({grow:t})},10)},onEntered:function(){4==a&&(e.setState({onRefresh:!1}),e.setState({in:!1}))},onExit:function(){if(0==a){var t=e.state.grow;t[0]=!1,e.setState({grow:t}),e.setState({onRefresh:!0})}setTimeout(function(){var t=e.state.grow;t[a+1]=!1,e.setState({grow:t})},10)},onExited:function(){if(4==a){var t=e.state.grow;t[0]=!0,e.setState({grow:t}),e.setState({stageRegisters:e.props.stageRegisters})}}},we.a.createElement(Qt.a,{button:!0,onClick:function(t){e.setState({popText:e.props.stageStuffs[a].map(function(e,t){return""==e[1]||void 0==e[1]?"":"["+e[0]+"] "+e[1]+" "}),anchorEl:t.currentTarget})}},we.a.createElement(It.a,{style:{backgroundColor:"SAOK"===e.state.stageRegisters[a][0][1]||4==a?Hn[a]:Rt.a[500]}}," ",t[0]),we.a.createElement(Vt.a,{primary:e.state.stageRegisters[a].map(function(e,t){return""==e[1]?"":"["+e[0]+"] "+e[1]+" "})}))))}))))}}]),t}(we.a.Component),qn=function(e){function t(){var e,a;Object(xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Ae.a)(this,(e=Object(Ie.a)(t)).call.apply(e,[this].concat(r)))).regs=["rax","rcx","rdx","rbx","rsp","rbp","rsi","rdi","r8","r9","r10","r11","r12","r13","r14","rnone"],a}return Object(Me.a)(t,e),Object(je.a)(t,[{key:"render",value:function(){var e=this.props.classes,t=zn.getRegisterFile();return we.a.createElement("div",{style:{width:"100%"}},we.a.createElement(va.a,{className:e.table},we.a.createElement(Oa.a,null,we.a.createElement(Ca.a,{className:e.row},this.regs.map(function(e,t){return t<8&&we.a.createElement(wa.a,{style:{textAlign:"center",flexGrow:1}},e)}))),we.a.createElement(ya.a,null,we.a.createElement(Ca.a,{className:e.row},t.map(function(e,t){return t<8&&we.a.createElement(wa.a,{style:{textAlign:"center"}},e)}))),we.a.createElement(Oa.a,null,we.a.createElement(Ca.a,{className:e.row},this.regs.map(function(e,t){return t>=8&&we.a.createElement(wa.a,{style:{textAlign:"center"}},e)}))),we.a.createElement(ya.a,null,we.a.createElement(Ca.a,{className:e.row},t.map(function(e,t){return t>=8&&we.a.createElement(wa.a,{style:{textAlign:"center"}},e)})))))}}]),t}(we.a.Component),Gn=function(e){function t(){var e,a;Object(xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Ae.a)(this,(e=Object(Ie.a)(t)).call.apply(e,[this].concat(r)))).state={settingExpanded:!1,openMemory:!1,openAbout:!1,memory:[],speedMenuOpen:!1,anchorEl:null,speedIndex:0},a}return Object(Me.a)(t,e),Object(je.a)(t,[{key:"Transition",value:function(e){return we.a.createElement(ft.a,Object.assign({direction:"up"},e))}},{key:"render",value:function(){var e=this,t=this.state.anchorEl;return we.a.createElement("div",null,we.a.createElement(Ht.a,null,we.a.createElement(Qt.a,null,we.a.createElement(Vt.a,{primary:"HELLO"})),we.a.createElement(Qt.a,{button:!0,onClick:function(){e.setState({settingExpanded:!e.state.settingExpanded})}},we.a.createElement(zt.a,null,we.a.createElement(la.a,null)),we.a.createElement(Vt.a,{primary:"Setting"})),we.a.createElement(ct.a,{in:this.state.settingExpanded,timeout:"auto",unmountOnExit:!0},we.a.createElement(Ht.a,{component:"div",disablePadding:!0},we.a.createElement(Qt.a,{button:!0,onClick:function(t){e.setState({anchorEl:t.currentTarget})}},we.a.createElement(Vt.a,{inset:!0,primary:"Speed"}))),we.a.createElement(nt.a,{id:"speed-menu",anchorEl:t,open:Boolean(t),onClose:function(){e.setState({anchorEl:null})}},Qn.map(function(t,a){return we.a.createElement(tt.a,{key:t,selected:a===e.state.speedIndex,onClick:function(t){Un=1e3/Qn[a],console.log("runtimeout:"+Un),e.setState({speedIndex:a,anchorEl:null})}},Qn[a])}))),we.a.createElement(Qt.a,{button:!0,onClick:function(){e.setState({openMemory:!0,memory:zn.getMemory()})}},we.a.createElement(zt.a,null,we.a.createElement(ua.a,null)),we.a.createElement(Vt.a,{primary:"Memory"}))),we.a.createElement(Zt.a,null),we.a.createElement(Ht.a,null,we.a.createElement(Qt.a,{button:!0,key:"About",onClick:function(){e.setState({openAbout:!0})}},we.a.createElement(zt.a,null,we.a.createElement(ia.a,null)),we.a.createElement(Vt.a,{primary:"About"}))),we.a.createElement(Ke.a,{open:this.state.openMemory,onClose:function(){e.setState({openMemory:!1})},scroll:"paper",keepMounted:!0,TransitionComponent:this.Transition},we.a.createElement($e.a,null,"Memory"),we.a.createElement(Je.a,null,we.a.createElement(Ge.a,null,this.state.memory.map(function(e,t){return we.a.createElement(qt.a,null,"0x"+e[0]+": "+e[1])})))),we.a.createElement(Ke.a,{open:this.state.openAbout,onClose:function(){e.setState({openAbout:!1})},scroll:"paper",keepMounted:!0,TransitionComponent:this.Transition},we.a.createElement($e.a,null,"About"),we.a.createElement(Je.a,null,we.a.createElement(Ge.a,null,"A Pipe-line Y86-64 CPU Simulator using React and Matreial-ui by Leehq")),we.a.createElement(Xe.a,null)))}}]),t}(we.a.Component),Zn=function(e){function t(e){var a;return Object(xe.a)(this,t),(a=Object(Ae.a)(this,Object(Ie.a)(t).call(this,e))).handleUpload=a.handleUpload.bind(Object(Ce.a)(Object(Ce.a)(a))),a.state={colorDeg:45,colorL:350,colorR:25,code:["Please upload a .yo file"],textHeight:"100%",cardsHide:!1,cardsHalt:!1,fabIn:!0,onFabTransit:!1,fabTooltipOpen:!1,run:!1,drawerOpen:!1,onStageAnimation:!1,stageIn:!0,refreshStage:!1,messageQueue:[],snackbarOpen:!1,anchorEl:null,stageRegisters:zn.getStageRegisters(),stageStuffs:zn.getStageStuffs(),registerFile:zn.getRegisterFile()},a.textFieldDiv=we.a.createRef(),a}return Object(Me.a)(t,e),Object(je.a)(t,[{key:"toast",value:function(e){var t=this.state.messageQueue;t.push(e),this.setState({messageQueue:t,snackbarOpen:!this.state.snackbarOpen})}},{key:"handleUpload",value:function(e){var t,a=new FileReader,n=this;a.onload=function(e){t=e.target.result,zn.init(),zn.setCode(t),n.setState({stageRegisters:zn.getStageRegisters()}),n.setState({stageRegisters:zn.getRegisterFile()}),n.setState({stageRegisters:zn.getStageRegisters()}),n.setState({registerFile:zn.getRegisterFile()}),n.setState({stageIn:!1}),setTimeout(function(){n.setState({stageIn:!0})},10);for(var a=[],r="",s=0;s<t.length;)"\n"!=t[s]?" "==t[s]?r+="\xa0":r+=t[s]:(a.push(r),r=""),s++;n.setState({code:a})},e.target.files.length&&a.readAsText(e.target.files[0])}},{key:"componentDidMount",value:function(){var e=this;setTimeout(function t(){e.setState({colorL:e.state.colorL+Wn,colorR:e.state.colorR+Wn}),setTimeout(t,20)},20)}},{key:"refreshStageRegisters",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.setState({stageRegisters:zn.getStageRegisters()}),this.setState({registerFile:zn.getRegisterFile()}),this.setState({stageStuffs:zn.getStageStuffs()}),t&&(this.setState({stageIn:!1}),setTimeout(function(){e.setState({stageIn:!0})},100))}},{key:"runPipe",value:function(){var e=this,t=Wn;Wn=10,setTimeout(function a(){var n=e.stepPipe(1,0),r=zn.getPC();if(!e.state.run||n||Kn.has(r))return e.toast("Stop at: 0x"+r),e.state.run&&e.setState({fabIn:!1}),Wn=t,void e.refreshStageRegisters();setTimeout(a,Un)},Un)}},{key:"stepPipe",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=zn.stepi(e);switch(a){case 2:return this.toast("Address Error!"),a;case 3:return this.toast("Instruction Invalid!"),a;case 4:return this.toast("Halt!"),a}return this.refreshStageRegisters(t),a}},{key:"render",value:function(){var e=this,t=this.props.classes;this.state.anchorEl,we.a.createElement("div",{className:t.list},we.a.createElement(Ht.a,null,we.a.createElement(Qt.a,null,we.a.createElement(Vt.a,{primary:"HELLO"})),we.a.createElement(Qt.a,{button:!0},we.a.createElement(Vt.a,{primary:"Setting"})),we.a.createElement(ct.a,{in:this.state.expanded,timeout:"auto",unmountOnExit:!0},we.a.createElement(Qt.a,null,we.a.createElement(Vt.a,{primary:"Speed",onClick:function(e){}})),we.a.createElement(Qt.a,null,we.a.createElement(Vt.a,{primary:"Speed",onClick:function(e){}}))),we.a.createElement(Qt.a,null,we.a.createElement(Vt.a,{primary:""}))),we.a.createElement(Zt.a,null),we.a.createElement(Ht.a,null,we.a.createElement(Qt.a,{button:!0,key:"About"},we.a.createElement(zt.a,null,we.a.createElement(ia.a,null)),we.a.createElement(Vt.a,{primary:"About"}))));return we.a.createElement("div",{className:t.root},we.a.createElement(Bt.a,null),we.a.createElement(Ct.MuiThemeProvider,{theme:Vn},we.a.createElement(_t.a,{open:this.state.drawerOpen,onClose:function(){e.setState({drawerOpen:!1})}},we.a.createElement(Gn,null),we.a.createElement("div",{tabIndex:0,role:"button",onClick:function(){e.setState({drawerOpen:!1})},onKeyDown:function(){e.setState({drawerOpen:!1})}})),we.a.createElement(Ft.a,{position:"fixed",className:t.appBar,style:{display:"flex",alignContent:"center",background:"linear-gradient("+this.state.colorDeg+"deg, hsl("+this.state.colorL+",50%,60%) 30%, hsl("+this.state.colorR+",50%,60%)  90%)"}},we.a.createElement(Dt.a,{style:{height:"100%"}},we.a.createElement(ea.a,{color:"inherit","aria-label":"Open drawer",onClick:function(){e.setState({drawerOpen:!0})}},we.a.createElement(aa.a,null)),we.a.createElement(Te.a,{title:"Upload",enterDelay:1e3,leaveDelay:200},we.a.createElement(ea.a,{color:"inherit",onClick:function(){return e.fileUpload.click()}},we.a.createElement(ra.a,null))),we.a.createElement("input",{type:"file",accept:".yo",ref:function(t){return e.fileUpload=t},style:{visibility:"hidden"},onInput:this.handleUpload}),we.a.createElement(qt.a,{variant:"h6",color:"inherit",noWrap:!0,style:{position:"absolute",right:30}},"COLORFUL CPU"))),we.a.createElement(Fa.a,{key:0,anchorOrigin:{vertical:"bottom",horizontal:"left"},open:this.state.snackbarOpen,autoHideDuration:1e3,onClose:function(){e.setState({snackbarOpen:!1})},onExited:function(){var t=e.state.messageQueue;t.shift(),t.length>0&&e.setState({messageQueue:t,snackbarOpen:!0})},ContentProps:{"aria-describedby":"message-id"},message:we.a.createElement("span",{id:"message-id"},this.state.messageQueue[0])}),we.a.createElement("main",{className:t.content},we.a.createElement("div",null,we.a.createElement(Xn,{stageRegisters:this.state.stageRegisters,classes:t,hide:!this.state.run})),we.a.createElement("div",{style:{width:"100%",height:window.innerHeight-20*Vn.spacing.unit,display:"flex",alignItems:"stretch",marginBottom:3*Vn.spacing.unit}},we.a.createElement("div",{style:{marginRight:3*Vn.spacing.unit,width:"60%"}},we.a.createElement(Yn,{classes:t,code:this.state.code,parent:this})),we.a.createElement("div",{style:{width:"40%"}},we.a.createElement(Jn,{stageRegisters:this.state.stageRegisters,stageStuffs:this.state.stageStuffs,classes:t,in:this.state.stageIn}))),we.a.createElement("div",{style:{marginBottom:3*Vn.spacing.unit}},we.a.createElement(ja.a,{defaultExpanded:!1,onMouseEnter:function(e){}},we.a.createElement(Ia.a,{expandIcon:we.a.createElement(Ba.a,null)},we.a.createElement(qt.a,null,"RegisterFile")),we.a.createElement(_a.a,{className:t.details},we.a.createElement(qn,{classes:t}))))),we.a.createElement("div",{style:{zIndex:1,position:"fixed",bottom:0,right:0}},we.a.createElement($n,{title:"Double Click to Run"},we.a.createElement(st.a,{in:this.state.fabIn,onEntered:function(){e.setState({onFabTransit:!1}),e.state.run&&e.runPipe()},onExit:function(){e.setState({onFabTransit:!0})},onExited:function(){e.setState({fabIn:!0,run:!e.state.run})}},we.a.createElement(jt.a,{color:"secondary",style:{margin:3*Vn.spacing.unit}},this.state.run?we.a.createElement(ga.a,{onClick:function(){e.setState({fabIn:!1})}}):we.a.createElement(ha.a,{onClick:function(){e.stepPipe(1)},onDoubleClick:function(){e.state.onFabTransit||(e.toast("Run"),e.setState({fabIn:!1}))}})))))))}}]),t}(we.a.Component),$n=function(e){function t(){var e,a;Object(xe.a)(this,t);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(a=Object(Ae.a)(this,(e=Object(Ie.a)(t)).call.apply(e,[this].concat(r)))).state={open:!1,cnt:3},a}return Object(Me.a)(t,e),Object(je.a)(t,[{key:"render",value:function(){var e,t=this,a=this.props;return we.a.createElement(Te.a,(e={title:this.props.title,enterDelay:500,leaveDelay:200,onOpen:function(){t.state.cnt&&(t.setState({cnt:t.state.cnt-1}),t.setState({open:!0}))},onClose:function(){t.setState({open:!1})},open:this.state.open},Object(Re.a)(e,"enterDelay",500),Object(Re.a)(e,"leaveDelay",200),e),a.children)}}]),t}(we.a.Component),er=Object(Ct.withStyles)(function(e){return{root:{display:"flex",width:"100%",height:"100%",backgroundColor:Rt.a[200]},appBar:{height:70},toolbar:{alignItems:"center",justifyContent:"space-between"},drawer:{width:240,flexShrink:0},content:{height:"100%",width:"100%",backgroundColor:Rt.a[200],paddingTop:70+3*e.spacing.unit,padding:3*e.spacing.unit},table:{width:"100%"},row:{},paper:{overflow:"auto",padding:10,height:"100%",width:"100%"},details:{width:"100%",overflowX:"auto"},textField:{width:"100%",rows:10,rowsMax:10},panel:{paddingLeft:10,overflowX:"auto",width:"100%"},subHeader:{backgroundColor:e.palette.background.paper},text:{paddingTop:2*e.spacing.unit,paddingLeft:2*e.spacing.unit,paddingRight:2*e.spacing.unit}}})(Zn),tr=document.getElementById("root");Oe.a.render(we.a.createElement(er,null),tr)}},[[142,2,1]]]);
//# sourceMappingURL=main.90664125.chunk.js.map