{"ast":null,"code":"import _defineProperty from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _assertThisInitialized from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _classCallCheck from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/lhq/Workspace/sim-cpu/src/layout.js\";\nimport React, { Fragment } from \"react\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Slide from \"@material-ui/core/Slide\";\nimport red from \"@material-ui/core/colors/red\";\nimport blue from \"@material-ui/core/colors/blue\";\nimport green from \"@material-ui/core/colors/green\";\nimport brown from \"@material-ui/core/colors/brown\";\nimport yellow from \"@material-ui/core/colors/yellow\";\nimport orange from \"@material-ui/core/colors/orange\";\nimport deepOrange from \"@material-ui/core/colors/deepOrange\";\nimport purple from \"@material-ui/core/colors/purple\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport PropTypes from \"prop-types\";\nimport { MuiThemeProvider, createMuiTheme, withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport ReorderIcon from \"@material-ui/icons/Reorder\";\nimport PauseIcon from \"@material-ui/icons/Pause\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport { Pipe } from \"./pipe.js\";\nvar appBarTitle = \"COLORFUL CPU\";\nvar stats = [\"\", \"SAOK\", \"SADR\", \"SINS\", \"SHLT\", \"SBUB\"];\nvar aboutText = \"A Pipe-line Y86-64 CPU Simulator using React and Matreial-ui by Leehq\";\nvar stageColor = [red[500], purple[500], orange[500], green[500], blue[500]];\nvar stageRefreshTimeout = 500;\nvar runTimeout = 1000;\nvar speedOpt = [1, 5, 10, 20];\nvar colorDel = 1;\nvar pipe = new Pipe();\npipe.init();\nvar breakPoints = new Set();\nvar appBarHeight = 70;\nvar theme = createMuiTheme({\n  palette: {\n    primary: brown,\n    //secondary: ,\n    background: {\n      default: grey[200]\n    }\n  },\n  typography: {\n    useNextVariants: true,\n    fontSize: 13,\n    fontFamily: [\"Consolas\", \"Courier New\", '\"Microsoft Yahei\"', \"-apple-system\", \"BlinkMacSystemFont\", '\"Segoe UI\"', \"Roboto\", '\"Helvetica Neue\"', \"Arial\", \"sans-serif\", '\"Apple Color Emoji\"', '\"Segoe UI Emoji\"', '\"Segoe UI Symbol\"'].join(\",\")\n  }\n});\nconsole.log(theme);\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      display: \"flex\",\n      width: \"100%\",\n      height: \"100%\",\n      backgroundColor: grey[200]\n    },\n    appBar: {\n      height: appBarHeight\n    },\n    toolbar: {\n      alignItems: \"center\",\n      justifyContent: \"space-between\"\n    },\n    drawer: {\n      width: 240,\n      flexShrink: 0\n    },\n    content: {\n      height: \"100%\",\n      width: \"100%\",\n      backgroundColor: grey[200],\n      paddingTop: appBarHeight + theme.spacing.unit * 3,\n      padding: theme.spacing.unit * 3\n    },\n    table: {\n      width: \"100%\"\n    },\n    row: {},\n    paper: {\n      overflow: \"auto\",\n      padding: 10,\n      height: \"100%\",\n      width: \"100%\"\n    },\n    details: {\n      //justifyItems: \"center\",\n      width: \"100%\",\n      overflowX: \"auto\"\n    },\n    textField: {\n      width: \"100%\",\n      rows: 10,\n      rowsMax: 10\n    },\n    panel: {\n      paddingLeft: 10,\n      overflowX: \"auto\",\n      width: \"100%\" //height: \"100%\"\n\n    },\n    subHeader: {\n      //backgroundColor:\n      backgroundColor: theme.palette.background.paper\n    },\n    text: {\n      paddingTop: theme.spacing.unit * 2,\n      paddingLeft: theme.spacing.unit * 2,\n      paddingRight: theme.spacing.unit * 2\n    }\n  };\n};\n\nvar StageCards =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(StageCards, _React$Component);\n\n  function StageCards() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, StageCards);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(StageCards)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      grow: [true, false, false, false, false, false],\n      stageRegisters: _this.props.stageRegisters,\n      onRefresh: false,\n      in: true,\n      x: 0,\n      y: 0,\n      position: [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],\n      ref: [undefined, undefined, undefined, undefined, undefined]\n    };\n    return _this;\n  }\n\n  _createClass(StageCards, [{\n    key: \"changePosition\",\n    value: function changePosition(index) {\n      var rect = this.ref[index].getBoundingClientRect();\n      var randX = Math.random();\n      var randY = Math.random();\n      var x = (window.innerWidth / 5 - rect.width / 2) * randX + (window.innerWidth * 4 / 5 - rect.width / 2) * (1 - randX);\n      var y = (window.innerHeight / 3 - rect.height / 2) * randY + (window.innerHeight * 2 / 3 - rect.height / 2) * (1 - randY);\n      var newPos = this.state.position;\n      newPos[index][0] = x;\n      newPos[index][1] = y;\n      this.setState({\n        position: newPos\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      for (var i = 0; i < 5; i++) {\n        this.changePosition(i);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var time = runTimeout / 10;\n      var timeout = time > 200 ? time : 200;\n      var delay = timeout >> 2;\n\n      if (this.ref == undefined) {\n        this.ref = [];\n        this.ref.length = 5;\n      }\n\n      var classes = this.props.classes;\n      var stages = [\"Write-back\", \"Memory\", \"Execute\", \"Decode\", \"Fetch\"]; //console.log(\"render\");\n\n      var stageRegisters = this.props.stageRegisters; //this.setState({refresh:this.props.refresh});\n\n      return stages.map(function (name, index) {\n        return React.createElement(\"div\", {\n          style: {\n            position: \"absolute\",\n            zIndex: 10,\n            left: _this2.state.position[index][0],\n            top: _this2.state.position[index][1]\n          },\n          ref: function ref(_ref) {\n            _this2.ref[index] = _ref;\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 250\n          },\n          __self: this\n        }, React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 261\n          },\n          __self: this\n        }, React.createElement(Grow, {\n          unmountOnExit: true //mountOnEnter\n          ,\n          in: index == 0 && !_this2.state.onRefresh ? !_this2.props.hide : _this2.state.grow[index],\n          timeout: timeout,\n          onEnter: function onEnter() {\n            //console.log(index+\" enter\");\n            if (index == 0) _this2.setState({\n              onRefresh: true\n            });\n            setTimeout(function () {\n              var newGrow = _this2.state.grow;\n              newGrow[index + 1] = true;\n\n              _this2.setState({\n                grow: newGrow\n              });\n            }, delay);\n          },\n          onEntered: function onEntered() {\n            if (index == 4) {\n              var newGrow = _this2.state.grow;\n              newGrow[0] = false;\n\n              _this2.setState({\n                grow: newGrow\n              });\n            }\n          },\n          onExit: function onExit() {\n            //console.log(index+\" exit\");\n            if (index == 0) {\n              _this2.setState({\n                onRefresh: true\n              });\n            }\n\n            setTimeout(function () {\n              var newGrow = _this2.state.grow;\n              newGrow[index + 1] = false;\n\n              _this2.setState({\n                grow: newGrow\n              });\n            }, delay);\n          },\n          onExited: function onExited() {\n            //console.log(index + \" exited\");\n            //console.log(\"******set state\");\n            _this2.changePosition(index);\n\n            if (index == 4) {\n              _this2.setState({\n                onRefresh: false,\n                stageRegisters: _this2.props.stageRegisters\n              });\n\n              if (_this2.props.hide) return;\n              var newGrow = _this2.state.grow;\n              newGrow[0] = true;\n\n              _this2.setState({\n                grow: newGrow\n              }); //this.setState({ in: true });\n\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 262\n          },\n          __self: this\n        }, React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 316\n          },\n          __self: this\n        }, React.createElement(CardActionArea, {\n          style: {\n            backgroundColor: _this2.state.stageRegisters[index][0][1] === \"SAOK\" || index == 4 ? stageColor[index] : grey[500]\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 317\n          },\n          __self: this\n        }, React.createElement(CardHeader, {\n          avatar: React.createElement(Avatar, {\n            style: {\n              backgroundColor: _this2.state.stageRegisters[index][0][1] === \"SAOK\" || index == 4 ? stageColor[index] : grey[500]\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 328\n            },\n            __self: this\n          }, name[0]),\n          title: name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 326\n          },\n          __self: this\n        })), React.createElement(CardContent, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 343\n          },\n          __self: this\n        }, _this2.state.stageRegisters[index].map(function (prop, index) {\n          return React.createElement(Typography, {\n            component: \"p\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 345\n            },\n            __self: this\n          }, prop[1] == \"\" ? \"\" : \"[\" + prop[0] + \"] \" + prop[1] + \" \", \" \");\n        }))))));\n      });\n    }\n  }]);\n\n  return StageCards;\n}(React.Component);\n\nvar CodeLayout =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(CodeLayout, _React$Component2);\n\n  function CodeLayout() {\n    _classCallCheck(this, CodeLayout);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CodeLayout).apply(this, arguments));\n  }\n\n  _createClass(CodeLayout, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var parent = this.props.parent;\n      var code = this.props.code;\n      var stageRegisters = pipe.getStageRegisters(); //displace begin\n\n      return React.createElement(\"div\", {\n        style: {\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 367\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        style: {\n          padding: theme.spacing.unit * 2,\n          height: \"100%\",\n          overflow: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 368\n        },\n        __self: this\n      }, code.map(function (line, index) {\n        var address;\n\n        if (line.length >= 5 && line[0] == \"0\" && line[1] == \"x\") {\n          var i = 2;\n          address = \"\";\n\n          while (line[i] == \"0\") {\n            i++;\n          }\n\n          while (line[i] != \":\") {\n            address += line[i++];\n          }\n\n          if (address.length == 0) address = \"0\";\n        }\n\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 390\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          addr: address //classes={addr}\n          ,\n          style: {\n            //border: \"1px blue solid\",\n            fontSize: 15\n          },\n          onContextMenu: function onContextMenu() {},\n          onDoubleClick: function onDoubleClick(event) {\n            var nameMap = event.target.attributes;\n            if (nameMap.addr == undefined) return;\n\n            if (event.target.isbreakpoint) {\n              event.target.isbreakpoint = false; //delete breakpoint\n\n              pipe.deleteBreakpoint(nameMap.addr.value);\n              breakPoints.delete(nameMap.addr.value);\n              parent.toast(\"Delete breakpoint at: 0x\" + nameMap.addr.value);\n              event.target.style.fontWeight = \"normal\";\n            } else {\n              event.target.isbreakpoint = true; //add in break point;\n\n              pipe.addBreakpoint(nameMap.addr.value);\n              breakPoints.add(nameMap.addr.value);\n              parent.toast(\"Add breakpoint at: 0x\" + nameMap.addr.value);\n              event.target.style.fontWeight = \"bold\";\n            }\n          },\n          onMouseEnter: function onMouseEnter(event) {\n            //console.log(\"mouse in\");\n            //console.log(event.clientX);\n            event.target.style.fontWeight = \"bold\";\n          },\n          onMouseOut: function onMouseOut(event) {\n            if (!event.target.isbreakpoint) event.target.style.fontWeight = \"normal\";\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 391\n          },\n          __self: this\n        }, line));\n      }), \" \"));\n    }\n  }]);\n\n  return CodeLayout;\n}(React.Component);\n\nvar StageRegistersLayout =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(StageRegistersLayout, _React$Component3);\n\n  function StageRegistersLayout() {\n    var _getPrototypeOf3;\n\n    var _this3;\n\n    _classCallCheck(this, StageRegistersLayout);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this3 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(StageRegistersLayout)).call.apply(_getPrototypeOf3, [this].concat(args)));\n    _this3.state = {\n      grow: [true, false, false, false, false, false],\n      stageRegisters: _this3.props.stageRegisters,\n      stageStuffs: _this3.props.stageStuffs,\n      onRefresh: false,\n      in: true,\n      anchorEl: null,\n      popText: \"\"\n    };\n    return _this3;\n  }\n\n  _createClass(StageRegistersLayout, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var delay = 10;\n      var timeout = 200;\n      var classes = this.props.classes;\n      var stages = [\"Write-back\", \"Memory\", \"Execute\", \"Decode\", \"Fetch\"]; //console.log(\"render\");\n\n      var stageRegisters = this.props.stageRegisters;\n      var stageStuffs = this.props.stageStuffs;\n      var anchorEl = this.state.anchorEl; //this.setState({refresh:this.props.refresh});\n\n      return React.createElement(\"div\", {\n        style: {\n          height: \"100%\",\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 469\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        style: {\n          height: \"100%\",\n          overflow: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 470\n        },\n        __self: this\n      }, React.createElement(List, {\n        className: classes.list,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 471\n        },\n        __self: this\n      }, React.createElement(ListSubheader, {\n        className: classes.subHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 472\n        },\n        __self: this\n      }, \"Stage Registers\"), React.createElement(Popover, {\n        id: \"simple-popper\",\n        open: Boolean(anchorEl),\n        anchorEl: anchorEl,\n        onClose: function onClose() {\n          _this4.setState({\n            anchorEl: null\n          });\n        },\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"center\"\n        },\n        transformOrigin: {\n          vertical: \"top\",\n          horizontal: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        style: {\n          margin: theme.spacing.unit * 2\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 494\n        },\n        __self: this\n      }, this.state.popText)), stages.map(function (name, index) {\n        return React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 500\n          },\n          __self: this\n        }, React.createElement(Grow, {\n          in: index == 0 && !_this4.state.onRefresh ? _this4.props.hide ? false : _this4.props.in : _this4.state.grow[index],\n          timeout: timeout,\n          onEnter: function onEnter() {\n            //console.log(index+\" enter\");\n            setTimeout(function () {\n              var newGrow = _this4.state.grow;\n              newGrow[index + 1] = true;\n\n              _this4.setState({\n                grow: newGrow\n              });\n            }, delay);\n          },\n          onEntered: function onEntered() {\n            //console.log(index + \" entered \");\n            //console.log(\" onrefresh\"+this.state.onRefresh);\n            //console.log(\"props in \"+this.props.in);\n            if (index == 4) {\n              _this4.setState({\n                onRefresh: false\n              });\n\n              _this4.setState({\n                in: false\n              });\n            }\n          },\n          onExit: function onExit() {\n            //console.log(index+\" exit\");\n            if (index == 0) {\n              var newGrow = _this4.state.grow;\n              newGrow[0] = false;\n\n              _this4.setState({\n                grow: newGrow\n              });\n\n              _this4.setState({\n                onRefresh: true\n              });\n            }\n\n            setTimeout(function () {\n              var newGrow = _this4.state.grow;\n              newGrow[index + 1] = false;\n\n              _this4.setState({\n                grow: newGrow\n              });\n            }, delay);\n          },\n          onExited: function onExited() {\n            //console.log(index + \" exited\");\n            //console.log(\"******set state\");\n            if (index == 4) {\n              var newGrow = _this4.state.grow;\n              newGrow[0] = true;\n\n              _this4.setState({\n                grow: newGrow\n              });\n\n              _this4.setState({\n                stageRegisters: _this4.props.stageRegisters\n              }); //this.setState({ in: true });\n\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 501\n          },\n          __self: this\n        }, React.createElement(ListItem, {\n          button: true,\n          onClick: function onClick(event) {\n            _this4.setState({\n              popText: _this4.props.stageStuffs[index].map(function (prop, index) {\n                return prop[1] == \"\" || prop[1] == undefined ? \"\" : \"[\" + prop[0] + \"] \" + prop[1] + \" \";\n              }),\n              anchorEl: event.currentTarget\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 555\n          },\n          __self: this\n        }, React.createElement(Avatar, {\n          style: {\n            backgroundColor: _this4.state.stageRegisters[index][0][1] === \"SAOK\" || index == 4 ? stageColor[index] : grey[500]\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 569\n          },\n          __self: this\n        }, \" \", name[0]), React.createElement(ListItemText, {\n          primary: _this4.state.stageRegisters[index].map(function (prop, index) {\n            return prop[1] == \"\" ? \"\" : \"[\" + prop[0] + \"] \" + prop[1] + \" \";\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 582\n          },\n          __self: this\n        }))));\n      }))));\n    }\n  }]);\n\n  return StageRegistersLayout;\n}(React.Component);\n\nvar RegisterFileLayout =\n/*#__PURE__*/\nfunction (_React$Component4) {\n  _inherits(RegisterFileLayout, _React$Component4);\n\n  function RegisterFileLayout() {\n    var _getPrototypeOf4;\n\n    var _this5;\n\n    _classCallCheck(this, RegisterFileLayout);\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    _this5 = _possibleConstructorReturn(this, (_getPrototypeOf4 = _getPrototypeOf(RegisterFileLayout)).call.apply(_getPrototypeOf4, [this].concat(args)));\n    _this5.regs = [\"rax\", \"rcx\", \"rdx\", \"rbx\", \"rsp\", \"rbp\", \"rsi\", \"rdi\", \"r8\", \"r9\", \"r10\", \"r11\", \"r12\", \"r13\", \"r14\", \"rnone\"];\n    return _this5;\n  }\n\n  _createClass(RegisterFileLayout, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var r = pipe.getRegisterFile();\n      return React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 624\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: classes.table,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 625\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 626\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        className: classes.row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 627\n        },\n        __self: this\n      }, this.regs.map(function (name, index) {\n        return index < 8 && React.createElement(TableCell, {\n          style: {\n            textAlign: \"center\",\n            flexGrow: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 631\n          },\n          __self: this\n        }, name);\n      }))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 638\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        className: classes.row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 639\n        },\n        __self: this\n      }, r.map(function (val, index) {\n        return index < 8 && React.createElement(TableCell, {\n          style: {\n            textAlign: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 643\n          },\n          __self: this\n        }, val);\n      }))), React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 648\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        className: classes.row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 649\n        },\n        __self: this\n      }, this.regs.map(function (name, index) {\n        return index >= 8 && React.createElement(TableCell, {\n          style: {\n            textAlign: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 653\n          },\n          __self: this\n        }, name);\n      }))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 660\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        className: classes.row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 661\n        },\n        __self: this\n      }, r.map(function (val, index) {\n        return index >= 8 && React.createElement(TableCell, {\n          style: {\n            textAlign: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 665\n          },\n          __self: this\n        }, val);\n      })))));\n    }\n  }]);\n\n  return RegisterFileLayout;\n}(React.Component);\n\nvar MenuLayout =\n/*#__PURE__*/\nfunction (_React$Component5) {\n  _inherits(MenuLayout, _React$Component5);\n\n  function MenuLayout() {\n    var _getPrototypeOf5;\n\n    var _this6;\n\n    _classCallCheck(this, MenuLayout);\n\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    _this6 = _possibleConstructorReturn(this, (_getPrototypeOf5 = _getPrototypeOf(MenuLayout)).call.apply(_getPrototypeOf5, [this].concat(args)));\n    _this6.state = {\n      settingExpanded: false,\n      openMemory: false,\n      openAbout: false,\n      memory: [],\n      speedMenuOpen: false,\n      anchorEl: null,\n      speedIndex: 0\n    };\n    return _this6;\n  }\n\n  _createClass(MenuLayout, [{\n    key: \"Transition\",\n    value: function Transition(props) {\n      return React.createElement(Slide, Object.assign({\n        direction: \"up\"\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 687\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var anchorEl = this.state.anchorEl;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 693\n        },\n        __self: this\n      }, React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 694\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 695\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: \"HELLO\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 696\n        },\n        __self: this\n      })), React.createElement(ListItem, {\n        button: true,\n        onClick: function onClick() {\n          _this7.setState({\n            settingExpanded: !_this7.state.settingExpanded\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 698\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 704\n        },\n        __self: this\n      }, React.createElement(SettingsIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 705\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: \"Setting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 707\n        },\n        __self: this\n      })), React.createElement(Collapse, {\n        in: this.state.settingExpanded,\n        timeout: \"auto\",\n        unmountOnExit: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 709\n        },\n        __self: this\n      }, React.createElement(List, {\n        component: \"div\",\n        disablePadding: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 714\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        button: true,\n        onClick: function onClick(event) {\n          _this7.setState({\n            anchorEl: event.currentTarget\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 715\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        inset: true,\n        primary: \"Speed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 721\n        },\n        __self: this\n      }))), React.createElement(Menu, {\n        id: \"speed-menu\",\n        anchorEl: anchorEl,\n        open: Boolean(anchorEl),\n        onClose: function onClose() {\n          //runTimeout = 1000/ speedOpt[this.state.speedIndex];\n          //console.log(\"runtimeout:\"+runTimeout);\n          _this7.setState({\n            anchorEl: null\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 724\n        },\n        __self: this\n      }, speedOpt.map(function (option, index) {\n        return React.createElement(MenuItem, {\n          key: option,\n          selected: index === _this7.state.speedIndex,\n          onClick: function onClick(event) {\n            runTimeout = 1000 / speedOpt[index];\n            console.log(\"runtimeout:\" + runTimeout);\n\n            _this7.setState({\n              speedIndex: index,\n              anchorEl: null\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 735\n          },\n          __self: this\n        }, speedOpt[index]);\n      }))), React.createElement(ListItem, {\n        button: true,\n        onClick: function onClick() {\n          //show stack\n          _this7.setState({\n            openMemory: true,\n            memory: pipe.getMemory()\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 750\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 760\n        },\n        __self: this\n      }, React.createElement(ReorderIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 761\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: \"Memory\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 763\n        },\n        __self: this\n      }))), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 766\n        },\n        __self: this\n      }), React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 767\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        button: true,\n        key: \"About\",\n        onClick: function onClick() {\n          _this7.setState({\n            openAbout: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 768\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 777\n        },\n        __self: this\n      }, React.createElement(InfoIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 778\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: \"About\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 780\n        },\n        __self: this\n      }))), React.createElement(Dialog, {\n        open: this.state.openMemory,\n        onClose: function onClose() {\n          _this7.setState({\n            openMemory: false\n          });\n        },\n        scroll: \"paper\",\n        keepMounted: true,\n        TransitionComponent: this.Transition,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 784\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 793\n        },\n        __self: this\n      }, \"Memory\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 794\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 795\n        },\n        __self: this\n      }, this.state.memory.map(function (pair, index) {\n        return React.createElement(Typography, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 798\n          },\n          __self: this\n        }, \"0x\" + pair[0] + \": \" + pair[1]);\n      })))), React.createElement(Dialog, {\n        open: this.state.openAbout,\n        onClose: function onClose() {\n          _this7.setState({\n            openAbout: false\n          });\n        },\n        scroll: \"paper\",\n        keepMounted: true,\n        TransitionComponent: this.Transition,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 804\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 813\n        },\n        __self: this\n      }, \"About\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 814\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 815\n        },\n        __self: this\n      }, aboutText)), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 817\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return MenuLayout;\n}(React.Component);\n\nvar MainLayout =\n/*#__PURE__*/\nfunction (_React$Component6) {\n  _inherits(MainLayout, _React$Component6);\n\n  function MainLayout(props) {\n    var _this8;\n\n    _classCallCheck(this, MainLayout);\n\n    _this8 = _possibleConstructorReturn(this, _getPrototypeOf(MainLayout).call(this, props));\n    _this8.handleUpload = _this8.handleUpload.bind(_assertThisInitialized(_assertThisInitialized(_this8)));\n    _this8.state = {\n      colorDeg: 45,\n      colorL: 350,\n      colorR: 25,\n      code: [\"Please upload a .yo file\"],\n      textHeight: \"100%\",\n      cardsHide: false,\n      cardsHalt: false,\n      fabIn: true,\n      onFabTransit: false,\n      fabTooltipOpen: false,\n      run: false,\n      drawerOpen: false,\n      onStageAnimation: false,\n      stageIn: true,\n      refreshStage: false,\n      messageQueue: [],\n      snackbarOpen: false,\n      anchorEl: null,\n      stageRegisters: pipe.getStageRegisters(),\n      stageStuffs: pipe.getStageStuffs(),\n      registerFile: pipe.getRegisterFile()\n    };\n    _this8.textFieldDiv = React.createRef();\n    return _this8;\n  }\n\n  _createClass(MainLayout, [{\n    key: \"toast\",\n    value: function toast(msg) {\n      var msgQueue = this.state.messageQueue;\n      msgQueue.push(msg);\n      this.setState({\n        messageQueue: msgQueue,\n        snackbarOpen: !this.state.snackbarOpen\n      });\n    }\n  }, {\n    key: \"handleUpload\",\n    value: function handleUpload(event) {\n      //console.log(event);\n      var fileReader = new FileReader();\n      var str;\n      var t = this;\n\n      fileReader.onload = function (event) {\n        //console.log(\"fileReader onload: \" + event);\n        //alert(\"onload\");\n        str = event.target.result;\n        pipe.init();\n        pipe.setCode(str); //console.log(\"init get:\");\n        //console.log(pipe.getStageRegisters);\n        //pipe.stepi(1);\n\n        t.setState({\n          stageRegisters: pipe.getStageRegisters()\n        });\n        t.setState({\n          stageRegisters: pipe.getRegisterFile()\n        });\n        t.setState({\n          stageRegisters: pipe.getStageRegisters()\n        });\n        t.setState({\n          registerFile: pipe.getRegisterFile()\n        });\n        t.setState({\n          stageIn: false\n        });\n        setTimeout(function () {\n          t.setState({\n            stageIn: true\n          });\n        }, 10);\n        var codeLines = [];\n        var line = \"\";\n        var i = 0;\n\n        while (i < str.length) {\n          if (str[i] != \"\\n\") {\n            if (str[i] == \" \") line += \"\\xa0\";else line += str[i];\n          } else {\n            codeLines.push(line);\n            line = \"\";\n          }\n\n          i++;\n        }\n\n        t.setState({\n          code: codeLines\n        }); //alert(pipe.Memory);\n      };\n\n      if (event.target.files.length) fileReader.readAsText(event.target.files[0]);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // this.setState({ textHeight: this.textFieldDiv.clientHeight });\n      var t = this;\n      setTimeout(function f() {\n        t.setState({\n          colorL: t.state.colorL + colorDel,\n          colorR: t.state.colorR + colorDel\n        });\n        setTimeout(f, 20);\n      }, 20);\n    }\n  }, {\n    key: \"refreshStageRegisters\",\n    value: function refreshStageRegisters() {\n      var _this9 = this;\n\n      var flag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this.setState({\n        stageRegisters: pipe.getStageRegisters()\n      });\n      this.setState({\n        registerFile: pipe.getRegisterFile()\n      });\n      this.setState({\n        stageStuffs: pipe.getStageStuffs()\n      });\n\n      if (flag) {\n        this.setState({\n          stageIn: false\n        });\n        setTimeout(function () {\n          _this9.setState({\n            stageIn: true\n          });\n        }, 100);\n      }\n    }\n    /* run til breakpoint */\n\n  }, {\n    key: \"runPipe\",\n    value: function runPipe() {\n      var t = this;\n      var temp = colorDel;\n      colorDel = 10; //t.setState({run:true});\n\n      setTimeout(function func() {\n        var stat = t.stepPipe(1, 0);\n        var PC = pipe.getPC();\n\n        if (!t.state.run || stat || breakPoints.has(PC)) {\n          t.toast(\"Stop at: 0x\" + PC);\n\n          if (t.state.run) {\n            t.setState({\n              fabIn: false\n            });\n          }\n\n          colorDel = temp;\n          t.refreshStageRegisters();\n          return;\n        }\n\n        setTimeout(func, runTimeout);\n      }, runTimeout);\n    }\n  }, {\n    key: \"stepPipe\",\n    value: function stepPipe(i) {\n      var flag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var rtn = pipe.stepi(i);\n\n      switch (rtn) {\n        case 2:\n          this.toast(\"Address Error!\");\n          return rtn;\n\n        case 3:\n          this.toast(\"Instruction Invalid!\");\n          return rtn;\n\n        case 4:\n          this.toast(\"Halt!\");\n          return rtn;\n      }\n\n      this.refreshStageRegisters(flag);\n      return rtn;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this10 = this;\n\n      var classes = this.props.classes;\n      var anchorEl = this.state.anchorEl;\n      var drawerList = React.createElement(\"div\", {\n        className: classes.list,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 978\n        },\n        __self: this\n      }, React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 979\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 980\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: \"HELLO\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 981\n        },\n        __self: this\n      })), React.createElement(ListItem, {\n        button: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 983\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: \"Setting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 984\n        },\n        __self: this\n      })), React.createElement(Collapse, {\n        in: this.state.expanded,\n        timeout: \"auto\",\n        unmountOnExit: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 986\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 987\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: \"Speed\",\n        onClick: function onClick(e) {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 988\n        },\n        __self: this\n      })), React.createElement(ListItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 990\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: \"Speed\",\n        onClick: function onClick(e) {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 991\n        },\n        __self: this\n      }))), React.createElement(ListItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 995\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: \"\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 996\n        },\n        __self: this\n      }))), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 999\n        },\n        __self: this\n      }), React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1000\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        button: true,\n        key: \"About\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1001\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1002\n        },\n        __self: this\n      }, React.createElement(InfoIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1003\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: \"About\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1005\n        },\n        __self: this\n      }))));\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1011\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1012\n        },\n        __self: this\n      }), React.createElement(MuiThemeProvider, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1013\n        },\n        __self: this\n      }, React.createElement(Drawer, {\n        open: this.state.drawerOpen,\n        onClose: function onClose() {\n          _this10.setState({\n            drawerOpen: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1014\n        },\n        __self: this\n      }, React.createElement(MenuLayout, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1020\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        tabIndex: 0,\n        role: \"button\",\n        onClick: function onClick() {\n          _this10.setState({\n            drawerOpen: false\n          });\n        },\n        onKeyDown: function onKeyDown() {\n          _this10.setState({\n            drawerOpen: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1021\n        },\n        __self: this\n      })), React.createElement(AppBar, {\n        position: \"fixed\",\n        className: classes.appBar,\n        style: {\n          display: \"flex\",\n          alignContent: \"center\",\n          background: \"linear-gradient(\" + this.state.colorDeg + \"deg, hsl(\" + this.state.colorL + \",50%,60%) 30%, hsl(\" + this.state.colorR + \",50%,60%)  90%)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1032\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        style: {\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1048\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        color: \"inherit\",\n        \"aria-label\": \"Open drawer\",\n        onClick: function onClick() {\n          _this10.setState({\n            drawerOpen: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1049\n        },\n        __self: this\n      }, React.createElement(MenuIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1056\n        },\n        __self: this\n      })), React.createElement(Tooltip, {\n        title: \"Upload\",\n        enterDelay: 1000,\n        leaveDelay: 200,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1058\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        color: \"inherit\",\n        onClick: function onClick() {\n          return _this10.fileUpload.click();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1059\n        },\n        __self: this\n      }, React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1063\n        },\n        __self: this\n      }))), React.createElement(\"input\", {\n        type: \"file\",\n        accept: \".yo\",\n        ref: function ref(_ref2) {\n          return _this10.fileUpload = _ref2;\n        },\n        style: {\n          visibility: \"hidden\"\n        },\n        onInput: this.handleUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1066\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h6\",\n        color: \"inherit\",\n        noWrap: true,\n        style: {\n          position: \"absolute\",\n          right: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1074\n        },\n        __self: this\n      }, appBarTitle))), React.createElement(Snackbar, {\n        key: 0,\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"left\"\n        },\n        open: this.state.snackbarOpen,\n        autoHideDuration: 1000,\n        onClose: function onClose() {\n          _this10.setState({\n            snackbarOpen: false\n          });\n        },\n        onExited: function onExited() {\n          var msg = _this10.state.messageQueue;\n          msg.shift();\n\n          if (msg.length > 0) {\n            _this10.setState({\n              messageQueue: msg,\n              snackbarOpen: true\n            });\n          }\n        },\n        ContentProps: {\n          \"aria-describedby\": \"message-id\"\n        },\n        message: React.createElement(\"span\", {\n          id: \"message-id\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1114\n          },\n          __self: this\n        }, this.state.messageQueue[0]),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1088\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        className: classes.content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1117\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1118\n        },\n        __self: this\n      }, React.createElement(StageCards, {\n        stageRegisters: this.state.stageRegisters,\n        classes: classes,\n        hide: !this.state.run,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1119\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          width: \"100%\",\n          height: window.innerHeight - theme.spacing.unit * 20,\n          display: \"flex\",\n          alignItems: \"stretch\",\n          marginBottom: theme.spacing.unit * 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1125\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          //flex: 1,\n          //flexBasis:10000,\n          marginRight: theme.spacing.unit * 3,\n          width: \"60%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1135\n        },\n        __self: this\n      }, React.createElement(CodeLayout, {\n        classes: classes,\n        code: this.state.code,\n        parent: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1143\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          //flex:1,\n          width: \"40%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1150\n        },\n        __self: this\n      }, React.createElement(StageRegistersLayout, {\n        stageRegisters: this.state.stageRegisters,\n        stageStuffs: this.state.stageStuffs,\n        classes: classes,\n        in: this.state.stageIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1156\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        style: {\n          marginBottom: theme.spacing.unit * 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1164\n        },\n        __self: this\n      }, React.createElement(ExpansionPanel, {\n        defaultExpanded: false,\n        onMouseEnter: function onMouseEnter(e) {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1165\n        },\n        __self: this\n      }, React.createElement(ExpansionPanelSummary, {\n        expandIcon: React.createElement(ExpandMoreIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1166\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1166\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1167\n        },\n        __self: this\n      }, \"RegisterFile\")), React.createElement(ExpansionPanelDetails, {\n        className: classes.details,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1169\n        },\n        __self: this\n      }, React.createElement(RegisterFileLayout, {\n        classes: classes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1173\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        style: {\n          zIndex: 1,\n          position: \"fixed\",\n          bottom: 0,\n          right: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1178\n        },\n        __self: this\n      }, React.createElement(TriTooltip, {\n        title: \"Double Click to Run\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1186\n        },\n        __self: this\n      }, React.createElement(Zoom, {\n        in: this.state.fabIn,\n        onEntered: function onEntered() {\n          _this10.setState({\n            onFabTransit: false\n          });\n\n          if (_this10.state.run) {\n            _this10.runPipe();\n          }\n        },\n        onExit: function onExit() {\n          _this10.setState({\n            onFabTransit: true\n          });\n        },\n        onExited: function onExited() {\n          _this10.setState({\n            fabIn: true,\n            run: !_this10.state.run\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1187\n        },\n        __self: this\n      }, React.createElement(Fab, {\n        color: \"secondary\",\n        style: {\n          margin: theme.spacing.unit * 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1209\n        },\n        __self: this\n      }, this.state.run ? React.createElement(PauseIcon, {\n        onClick: function onClick() {\n          //this.toast(\"stepi\");\n          _this10.setState({\n            fabIn: false\n          }); //this.refreshStageRegisters();\n\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1214\n        },\n        __self: this\n      }) : React.createElement(ChevronRightIcon, {\n        onClick: function onClick() {\n          //this.toast(\"stepi\");\n          _this10.stepPipe(1);\n        },\n        onDoubleClick: function onDoubleClick() {\n          if (_this10.state.onFabTransit) {\n            return;\n          }\n\n          _this10.toast(\"Run\");\n\n          _this10.setState({\n            fabIn: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1224\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return MainLayout;\n}(React.Component);\n\nvar TriTooltip =\n/*#__PURE__*/\nfunction (_React$Component7) {\n  _inherits(TriTooltip, _React$Component7);\n\n  function TriTooltip() {\n    var _getPrototypeOf6;\n\n    var _this11;\n\n    _classCallCheck(this, TriTooltip);\n\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    _this11 = _possibleConstructorReturn(this, (_getPrototypeOf6 = _getPrototypeOf(TriTooltip)).call.apply(_getPrototypeOf6, [this].concat(args)));\n    _this11.state = {\n      open: false,\n      cnt: 3\n    };\n    return _this11;\n  }\n\n  _createClass(TriTooltip, [{\n    key: \"render\",\n    value: function render() {\n      var _this12 = this,\n          _React$createElement;\n\n      var props = this.props;\n      return React.createElement(Tooltip, (_React$createElement = {\n        title: this.props.title,\n        enterDelay: 500,\n        leaveDelay: 200,\n        onOpen: function onOpen() {\n          if (!_this12.state.cnt) return;\n\n          _this12.setState({\n            cnt: _this12.state.cnt - 1\n          });\n\n          _this12.setState({\n            open: true\n          });\n        },\n        onClose: function onClose() {\n          _this12.setState({\n            open: false\n          });\n        },\n        open: this.state.open\n      }, _defineProperty(_React$createElement, \"enterDelay\", 500), _defineProperty(_React$createElement, \"leaveDelay\", 200), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 1257\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), props.children);\n    }\n  }]);\n\n  return TriTooltip;\n}(React.Component);\n\nMainLayout.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(MainLayout);","map":{"version":3,"sources":["/home/lhq/Workspace/sim-cpu/src/layout.js"],"names":["React","Fragment","Tooltip","Popover","Card","CardHeader","CardMedia","CardContent","CardActions","CardActionArea","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","MenuItem","Menu","Zoom","Grow","Collapse","Slide","red","blue","green","brown","yellow","orange","deepOrange","purple","grey","PropTypes","MuiThemeProvider","createMuiTheme","withStyles","Button","Fab","Avatar","Drawer","CssBaseline","AppBar","Toolbar","List","ListItem","ListItemIcon","ListItemText","ListSubheader","Typography","Divider","InboxIcon","IconButton","MenuIcon","AddIcon","InfoIcon","CloseIcon","SettingsIcon","ReorderIcon","PauseIcon","ChevronRightIcon","TextField","MailIcon","Paper","Table","TableBody","TableCell","TableHead","TableRow","Grid","InputBase","ExpansionPanel","ExpansionPanelSummary","ExpansionPanelDetails","ExpandMoreIcon","Snackbar","Pipe","appBarTitle","stats","aboutText","stageColor","stageRefreshTimeout","runTimeout","speedOpt","colorDel","pipe","init","breakPoints","Set","appBarHeight","theme","palette","primary","background","default","typography","useNextVariants","fontSize","fontFamily","join","console","log","styles","root","display","width","height","backgroundColor","appBar","toolbar","alignItems","justifyContent","drawer","flexShrink","content","paddingTop","spacing","unit","padding","table","row","paper","overflow","details","overflowX","textField","rows","rowsMax","panel","paddingLeft","subHeader","text","paddingRight","StageCards","state","grow","stageRegisters","props","onRefresh","in","x","y","position","ref","undefined","index","rect","getBoundingClientRect","randX","Math","random","randY","window","innerWidth","innerHeight","newPos","setState","i","changePosition","time","timeout","delay","length","classes","stages","map","name","zIndex","left","top","hide","setTimeout","newGrow","prop","Component","CodeLayout","parent","code","getStageRegisters","line","address","event","nameMap","target","attributes","addr","isbreakpoint","deleteBreakpoint","value","delete","toast","style","fontWeight","addBreakpoint","add","StageRegistersLayout","stageStuffs","anchorEl","popText","list","Boolean","vertical","horizontal","margin","currentTarget","RegisterFileLayout","regs","r","getRegisterFile","textAlign","flexGrow","val","MenuLayout","settingExpanded","openMemory","openAbout","memory","speedMenuOpen","speedIndex","option","getMemory","Transition","pair","MainLayout","handleUpload","bind","colorDeg","colorL","colorR","textHeight","cardsHide","cardsHalt","fabIn","onFabTransit","fabTooltipOpen","run","drawerOpen","onStageAnimation","stageIn","refreshStage","messageQueue","snackbarOpen","getStageStuffs","registerFile","textFieldDiv","createRef","msg","msgQueue","push","fileReader","FileReader","str","t","onload","result","setCode","codeLines","files","readAsText","f","flag","temp","func","stat","stepPipe","PC","getPC","has","refreshStageRegisters","rtn","stepi","drawerList","expanded","e","alignContent","fileUpload","click","visibility","right","shift","marginBottom","marginRight","bottom","runPipe","TriTooltip","open","cnt","title","children","propTypes","object","isRequired"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AAEA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AAEA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,cAAP,MAA2B,kCAA3B;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AAEA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AAEA,OAAOC,GAAP,MAAgB,8BAAhB;AACA,OAAOC,IAAP,MAAiB,+BAAjB;AACA,OAAOC,KAAP,MAAkB,gCAAlB;AACA,OAAOC,KAAP,MAAkB,gCAAlB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AACA,OAAOC,UAAP,MAAuB,qCAAvB;AACA,OAAOC,MAAP,MAAmB,iCAAnB;AAEA,OAAOC,IAAP,MAAiB,+BAAjB;AAEA,OAAOC,SAAP,MAAsB,YAAtB;AACA,SACEC,gBADF,EAEEC,cAFF,EAGEC,UAHF,QAIO,0BAJP;AAKA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,GAAP,MAAgB,uBAAhB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AAEA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AAEA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,SAAP,MAAsB,gCAAtB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,WAAP,MAAwB,4BAAxB;AACA,OAAOC,SAAP,MAAsB,0BAAtB;AACA,OAAOC,gBAAP,MAA6B,iCAA7B;AAEA,OAAOC,SAAP,MAAsB,6BAAtB;AAEA,OAAOC,QAAP,MAAqB,yBAArB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AAEA,OAAOC,cAAP,MAA2B,kCAA3B;AACA,OAAOC,qBAAP,MAAkC,yCAAlC;AACA,OAAOC,qBAAP,MAAkC,yCAAlC;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AAEA,OAAOC,QAAP,MAAqB,4BAArB;AAEA,SAASC,IAAT,QAAqB,WAArB;AACA,IAAMC,WAAW,GAAG,cAApB;AAEA,IAAMC,KAAK,GAAG,CAAC,EAAD,EAAK,MAAL,EAAa,MAAb,EAAqB,MAArB,EAA6B,MAA7B,EAAqC,MAArC,CAAd;AACA,IAAMC,SAAS,GACb,uEADF;AAEA,IAAIC,UAAU,GAAG,CAACxD,GAAG,CAAC,GAAD,CAAJ,EAAWO,MAAM,CAAC,GAAD,CAAjB,EAAwBF,MAAM,CAAC,GAAD,CAA9B,EAAqCH,KAAK,CAAC,GAAD,CAA1C,EAAiDD,IAAI,CAAC,GAAD,CAArD,CAAjB;AAEA,IAAIwD,mBAAmB,GAAG,GAA1B;AAEA,IAAIC,UAAU,GAAG,IAAjB;AACA,IAAMC,QAAQ,GAAG,CAAC,CAAD,EAAI,CAAJ,EAAO,EAAP,EAAW,EAAX,CAAjB;AAEA,IAAIC,QAAQ,GAAG,CAAf;AACA,IAAIC,IAAI,GAAG,IAAIT,IAAJ,EAAX;AACAS,IAAI,CAACC,IAAL;AACA,IAAIC,WAAW,GAAG,IAAIC,GAAJ,EAAlB;AAEA,IAAMC,YAAY,GAAG,EAArB;AAEA,IAAMC,KAAK,GAAGvD,cAAc,CAAC;AAC3BwD,EAAAA,OAAO,EAAE;AACPC,IAAAA,OAAO,EAAEjE,KADF;AAEP;AACAkE,IAAAA,UAAU,EAAE;AACVC,MAAAA,OAAO,EAAE9D,IAAI,CAAC,GAAD;AADH;AAHL,GADkB;AAQ3B+D,EAAAA,UAAU,EAAE;AACVC,IAAAA,eAAe,EAAE,IADP;AAEVC,IAAAA,QAAQ,EAAE,EAFA;AAGVC,IAAAA,UAAU,EAAE,CACV,UADU,EAEV,aAFU,EAGV,mBAHU,EAIV,eAJU,EAKV,oBALU,EAMV,YANU,EAOV,QAPU,EAQV,kBARU,EASV,OATU,EAUV,YAVU,EAWV,qBAXU,EAYV,kBAZU,EAaV,mBAbU,EAcVC,IAdU,CAcL,GAdK;AAHF;AARe,CAAD,CAA5B;AA4BAC,OAAO,CAACC,GAAR,CAAYX,KAAZ;;AACA,IAAMY,MAAM,GAAG,SAATA,MAAS,CAAAZ,KAAK;AAAA,SAAK;AACvBa,IAAAA,IAAI,EAAE;AACJC,MAAAA,OAAO,EAAE,MADL;AAEJC,MAAAA,KAAK,EAAE,MAFH;AAGJC,MAAAA,MAAM,EAAE,MAHJ;AAIJC,MAAAA,eAAe,EAAE3E,IAAI,CAAC,GAAD;AAJjB,KADiB;AAOvB4E,IAAAA,MAAM,EAAE;AACNF,MAAAA,MAAM,EAAEjB;AADF,KAPe;AAUvBoB,IAAAA,OAAO,EAAE;AACPC,MAAAA,UAAU,EAAE,QADL;AAEPC,MAAAA,cAAc,EAAE;AAFT,KAVc;AAcvBC,IAAAA,MAAM,EAAE;AACNP,MAAAA,KAAK,EAAE,GADD;AAENQ,MAAAA,UAAU,EAAE;AAFN,KAde;AAmBvBC,IAAAA,OAAO,EAAE;AACPR,MAAAA,MAAM,EAAE,MADD;AAEPD,MAAAA,KAAK,EAAE,MAFA;AAGPE,MAAAA,eAAe,EAAE3E,IAAI,CAAC,GAAD,CAHd;AAIPmF,MAAAA,UAAU,EAAE1B,YAAY,GAAGC,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB,CAJzC;AAKPC,MAAAA,OAAO,EAAE5B,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB;AALvB,KAnBc;AA0BvBE,IAAAA,KAAK,EAAE;AACLd,MAAAA,KAAK,EAAE;AADF,KA1BgB;AA6BvBe,IAAAA,GAAG,EAAE,EA7BkB;AA8BvBC,IAAAA,KAAK,EAAE;AACLC,MAAAA,QAAQ,EAAE,MADL;AAELJ,MAAAA,OAAO,EAAE,EAFJ;AAGLZ,MAAAA,MAAM,EAAE,MAHH;AAILD,MAAAA,KAAK,EAAE;AAJF,KA9BgB;AAoCvBkB,IAAAA,OAAO,EAAE;AACP;AACAlB,MAAAA,KAAK,EAAE,MAFA;AAGPmB,MAAAA,SAAS,EAAE;AAHJ,KApCc;AAyCvBC,IAAAA,SAAS,EAAE;AACTpB,MAAAA,KAAK,EAAE,MADE;AAETqB,MAAAA,IAAI,EAAE,EAFG;AAGTC,MAAAA,OAAO,EAAE;AAHA,KAzCY;AA8CvBC,IAAAA,KAAK,EAAE;AACLC,MAAAA,WAAW,EAAE,EADR;AAELL,MAAAA,SAAS,EAAE,MAFN;AAGLnB,MAAAA,KAAK,EAAE,MAHF,CAIL;;AAJK,KA9CgB;AAoDvByB,IAAAA,SAAS,EAAE;AACT;AACAvB,MAAAA,eAAe,EAAEjB,KAAK,CAACC,OAAN,CAAcE,UAAd,CAAyB4B;AAFjC,KApDY;AAwDvBU,IAAAA,IAAI,EAAE;AACJhB,MAAAA,UAAU,EAAEzB,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB,CAD7B;AAEJY,MAAAA,WAAW,EAAEvC,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB,CAF9B;AAGJe,MAAAA,YAAY,EAAE1C,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB;AAH/B;AAxDiB,GAAL;AAAA,CAApB;;IA+DMgB,U;;;;;;;;;;;;;;;;;UACJC,K,GAAQ;AACNC,MAAAA,IAAI,EAAE,CAAC,IAAD,EAAO,KAAP,EAAc,KAAd,EAAqB,KAArB,EAA4B,KAA5B,EAAmC,KAAnC,CADA;AAENC,MAAAA,cAAc,EAAE,MAAKC,KAAL,CAAWD,cAFrB;AAGNE,MAAAA,SAAS,EAAE,KAHL;AAINC,MAAAA,EAAE,EAAE,IAJE;AAKNC,MAAAA,CAAC,EAAE,CALG;AAMNC,MAAAA,CAAC,EAAE,CANG;AAONC,MAAAA,QAAQ,EAAE,CAAC,CAAC,CAAD,EAAI,CAAJ,CAAD,EAAS,CAAC,CAAD,EAAI,CAAJ,CAAT,EAAiB,CAAC,CAAD,EAAI,CAAJ,CAAjB,EAAyB,CAAC,CAAD,EAAI,CAAJ,CAAzB,EAAiC,CAAC,CAAD,EAAI,CAAJ,CAAjC,CAPJ;AAQNC,MAAAA,GAAG,EAAE,CAACC,SAAD,EAAYA,SAAZ,EAAuBA,SAAvB,EAAkCA,SAAlC,EAA6CA,SAA7C;AARC,K;;;;;;mCAUOC,K,EAAO;AACpB,UAAIC,IAAI,GAAG,KAAKH,GAAL,CAASE,KAAT,EAAgBE,qBAAhB,EAAX;AACA,UAAIC,KAAK,GAAGC,IAAI,CAACC,MAAL,EAAZ;AACA,UAAIC,KAAK,GAAGF,IAAI,CAACC,MAAL,EAAZ;AAEA,UAAIV,CAAC,GACH,CAACY,MAAM,CAACC,UAAP,GAAoB,CAApB,GAAwBP,IAAI,CAACzC,KAAL,GAAa,CAAtC,IAA2C2C,KAA3C,GACA,CAAEI,MAAM,CAACC,UAAP,GAAoB,CAArB,GAA0B,CAA1B,GAA8BP,IAAI,CAACzC,KAAL,GAAa,CAA5C,KAAkD,IAAI2C,KAAtD,CAFF;AAGA,UAAIP,CAAC,GACH,CAACW,MAAM,CAACE,WAAP,GAAqB,CAArB,GAAyBR,IAAI,CAACxC,MAAL,GAAc,CAAxC,IAA6C6C,KAA7C,GACA,CAAEC,MAAM,CAACE,WAAP,GAAqB,CAAtB,GAA2B,CAA3B,GAA+BR,IAAI,CAACxC,MAAL,GAAc,CAA9C,KAAoD,IAAI6C,KAAxD,CAFF;AAGA,UAAII,MAAM,GAAG,KAAKrB,KAAL,CAAWQ,QAAxB;AACAa,MAAAA,MAAM,CAACV,KAAD,CAAN,CAAc,CAAd,IAAmBL,CAAnB;AACAe,MAAAA,MAAM,CAACV,KAAD,CAAN,CAAc,CAAd,IAAmBJ,CAAnB;AACA,WAAKe,QAAL,CAAc;AACZd,QAAAA,QAAQ,EAAEa;AADE,OAAd;AAGD;;;wCAEmB;AAClB,WAAK,IAAIE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,CAApB,EAAuBA,CAAC,EAAxB;AAA4B,aAAKC,cAAL,CAAoBD,CAApB;AAA5B;AACD;;;6BACQ;AAAA;;AACP,UAAME,IAAI,GAAG7E,UAAU,GAAG,EAA1B;AACA,UAAM8E,OAAO,GAAGD,IAAI,GAAG,GAAP,GAAaA,IAAb,GAAoB,GAApC;AACA,UAAME,KAAK,GAAGD,OAAO,IAAI,CAAzB;;AACA,UAAI,KAAKjB,GAAL,IAAYC,SAAhB,EAA2B;AACzB,aAAKD,GAAL,GAAW,EAAX;AACA,aAAKA,GAAL,CAASmB,MAAT,GAAkB,CAAlB;AACD;;AAPM,UASCC,OATD,GASa,KAAK1B,KATlB,CASC0B,OATD;AAUP,UAAMC,MAAM,GAAG,CAAC,YAAD,EAAe,QAAf,EAAyB,SAAzB,EAAoC,QAApC,EAA8C,OAA9C,CAAf,CAVO,CAWP;;AACA,UAAM5B,cAAc,GAAG,KAAKC,KAAL,CAAWD,cAAlC,CAZO,CAcP;;AACA,aAAO4B,MAAM,CAACC,GAAP,CAAW,UAACC,IAAD,EAAOrB,KAAP;AAAA,eAChB;AACE,UAAA,KAAK,EAAE;AACLH,YAAAA,QAAQ,EAAE,UADL;AAELyB,YAAAA,MAAM,EAAE,EAFH;AAGLC,YAAAA,IAAI,EAAE,MAAI,CAAClC,KAAL,CAAWQ,QAAX,CAAoBG,KAApB,EAA2B,CAA3B,CAHD;AAILwB,YAAAA,GAAG,EAAE,MAAI,CAACnC,KAAL,CAAWQ,QAAX,CAAoBG,KAApB,EAA2B,CAA3B;AAJA,WADT;AAOE,UAAA,GAAG,EAAE,aAAAF,IAAG,EAAI;AACV,YAAA,MAAI,CAACA,GAAL,CAASE,KAAT,IAAkBF,IAAlB;AACD,WATH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAWE,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AACE,UAAA,aAAa,MADf,CAEE;AAFF;AAIE,UAAA,EAAE,EACAE,KAAK,IAAI,CAAT,IAAc,CAAC,MAAI,CAACX,KAAL,CAAWI,SAA1B,GACI,CAAC,MAAI,CAACD,KAAL,CAAWiC,IADhB,GAEI,MAAI,CAACpC,KAAL,CAAWC,IAAX,CAAgBU,KAAhB,CAPR;AASE,UAAA,OAAO,EAAEe,OATX;AAUE,UAAA,OAAO,EAAE,mBAAM;AACb;AACA,gBAAIf,KAAK,IAAI,CAAb,EAAgB,MAAI,CAACW,QAAL,CAAc;AAAElB,cAAAA,SAAS,EAAE;AAAb,aAAd;AAChBiC,YAAAA,UAAU,CAAC,YAAM;AACf,kBAAIC,OAAO,GAAG,MAAI,CAACtC,KAAL,CAAWC,IAAzB;AACAqC,cAAAA,OAAO,CAAC3B,KAAK,GAAG,CAAT,CAAP,GAAqB,IAArB;;AACA,cAAA,MAAI,CAACW,QAAL,CAAc;AAAErB,gBAAAA,IAAI,EAAEqC;AAAR,eAAd;AACD,aAJS,EAIPX,KAJO,CAAV;AAKD,WAlBH;AAmBE,UAAA,SAAS,EAAE,qBAAM;AACf,gBAAIhB,KAAK,IAAI,CAAb,EAAgB;AACd,kBAAI2B,OAAO,GAAG,MAAI,CAACtC,KAAL,CAAWC,IAAzB;AACAqC,cAAAA,OAAO,CAAC,CAAD,CAAP,GAAa,KAAb;;AACA,cAAA,MAAI,CAAChB,QAAL,CAAc;AAAErB,gBAAAA,IAAI,EAAEqC;AAAR,eAAd;AACD;AACF,WAzBH;AA0BE,UAAA,MAAM,EAAE,kBAAM;AACZ;AACA,gBAAI3B,KAAK,IAAI,CAAb,EAAgB;AACd,cAAA,MAAI,CAACW,QAAL,CAAc;AAAElB,gBAAAA,SAAS,EAAE;AAAb,eAAd;AACD;;AACDiC,YAAAA,UAAU,CAAC,YAAM;AACf,kBAAIC,OAAO,GAAG,MAAI,CAACtC,KAAL,CAAWC,IAAzB;AACAqC,cAAAA,OAAO,CAAC3B,KAAK,GAAG,CAAT,CAAP,GAAqB,KAArB;;AACA,cAAA,MAAI,CAACW,QAAL,CAAc;AAAErB,gBAAAA,IAAI,EAAEqC;AAAR,eAAd;AACD,aAJS,EAIPX,KAJO,CAAV;AAKD,WApCH;AAqCE,UAAA,QAAQ,EAAE,oBAAM;AACd;AACA;AACA,YAAA,MAAI,CAACH,cAAL,CAAoBb,KAApB;;AACA,gBAAIA,KAAK,IAAI,CAAb,EAAgB;AACd,cAAA,MAAI,CAACW,QAAL,CAAc;AACZlB,gBAAAA,SAAS,EAAE,KADC;AAEZF,gBAAAA,cAAc,EAAE,MAAI,CAACC,KAAL,CAAWD;AAFf,eAAd;;AAIA,kBAAI,MAAI,CAACC,KAAL,CAAWiC,IAAf,EAAqB;AACrB,kBAAIE,OAAO,GAAG,MAAI,CAACtC,KAAL,CAAWC,IAAzB;AACAqC,cAAAA,OAAO,CAAC,CAAD,CAAP,GAAa,IAAb;;AACA,cAAA,MAAI,CAAChB,QAAL,CAAc;AAAErB,gBAAAA,IAAI,EAAEqC;AAAR,eAAd,EARc,CASd;;AACD;AACF,WApDH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAsDE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,cAAD;AACE,UAAA,KAAK,EAAE;AACLjE,YAAAA,eAAe,EACb,MAAI,CAAC2B,KAAL,CAAWE,cAAX,CAA0BS,KAA1B,EAAiC,CAAjC,EAAoC,CAApC,MAA2C,MAA3C,IACAA,KAAK,IAAI,CADT,GAEIjE,UAAU,CAACiE,KAAD,CAFd,GAGIjH,IAAI,CAAC,GAAD;AALL,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WASE,oBAAC,UAAD;AACE,UAAA,MAAM,EACJ,oBAAC,MAAD;AACE,YAAA,KAAK,EAAE;AACL2E,cAAAA,eAAe,EACb,MAAI,CAAC2B,KAAL,CAAWE,cAAX,CAA0BS,KAA1B,EAAiC,CAAjC,EAAoC,CAApC,MAA2C,MAA3C,IACAA,KAAK,IAAI,CADT,GAEIjE,UAAU,CAACiE,KAAD,CAFd,GAGIjH,IAAI,CAAC,GAAD;AALL,aADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aASGsI,IAAI,CAAC,CAAD,CATP,CAFJ;AAcE,UAAA,KAAK,EAAEA,IAdT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UATF,CADF,EA2BE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG,MAAI,CAAChC,KAAL,CAAWE,cAAX,CAA0BS,KAA1B,EAAiCoB,GAAjC,CAAqC,UAACQ,IAAD,EAAO5B,KAAP;AAAA,iBACpC,oBAAC,UAAD;AAAY,YAAA,SAAS,EAAC,GAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aACG4B,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAX,GAAgB,EAAhB,GAAqB,MAAMA,IAAI,CAAC,CAAD,CAAV,GAAgB,IAAhB,GAAuBA,IAAI,CAAC,CAAD,CAA3B,GAAiC,GADzD,EAC8D,GAD9D,CADoC;AAAA,SAArC,CADH,CA3BF,CAtDF,CADF,CAXF,CADgB;AAAA,OAAX,CAAP;AA0GD;;;;EA1JsB1K,KAAK,CAAC2K,S;;IA6JzBC,U;;;;;;;;;;;;;6BACK;AAAA,UACCZ,OADD,GACa,KAAK1B,KADlB,CACC0B,OADD;AAEP,UAAMa,MAAM,GAAG,KAAKvC,KAAL,CAAWuC,MAA1B;AACA,UAAIC,IAAI,GAAG,KAAKxC,KAAL,CAAWwC,IAAtB;AACA,UAAIzC,cAAc,GAAGnD,IAAI,CAAC6F,iBAAL,EAArB,CAJO,CAMP;;AACA,aACE;AAAK,QAAA,KAAK,EAAE;AAAExE,UAAAA,MAAM,EAAE;AAAV,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AACE,QAAA,KAAK,EAAE;AACLY,UAAAA,OAAO,EAAE5B,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB,CADzB;AAELX,UAAAA,MAAM,EAAE,MAFH;AAGLgB,UAAAA,QAAQ,EAAE;AAHL,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOGuD,IAAI,CAACZ,GAAL,CAAS,UAACc,IAAD,EAAOlC,KAAP,EAAiB;AACzB,YAAImC,OAAJ;;AACA,YAAID,IAAI,CAACjB,MAAL,IAAe,CAAf,IAAoBiB,IAAI,CAAC,CAAD,CAAJ,IAAW,GAA/B,IAAsCA,IAAI,CAAC,CAAD,CAAJ,IAAW,GAArD,EAA0D;AACxD,cAAItB,CAAC,GAAG,CAAR;AACAuB,UAAAA,OAAO,GAAG,EAAV;;AACA,iBAAOD,IAAI,CAACtB,CAAD,CAAJ,IAAW,GAAlB,EAAuB;AACrBA,YAAAA,CAAC;AACF;;AACD,iBAAOsB,IAAI,CAACtB,CAAD,CAAJ,IAAW,GAAlB,EAAuB;AACrBuB,YAAAA,OAAO,IAAID,IAAI,CAACtB,CAAC,EAAF,CAAf;AACD;;AACD,cAAIuB,OAAO,CAAClB,MAAR,IAAkB,CAAtB,EAAyBkB,OAAO,GAAG,GAAV;AAC1B;;AAED,eACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,UAAD;AACE,UAAA,IAAI,EAAEA,OADR,CAEE;AAFF;AAGE,UAAA,KAAK,EAAE;AACL;AACAnF,YAAAA,QAAQ,EAAE;AAFL,WAHT;AAOE,UAAA,aAAa,EAAE,yBAAM,CAAE,CAPzB;AAQE,UAAA,aAAa,EAAE,uBAAAoF,KAAK,EAAI;AACtB,gBAAIC,OAAO,GAAGD,KAAK,CAACE,MAAN,CAAaC,UAA3B;AACA,gBAAIF,OAAO,CAACG,IAAR,IAAgBzC,SAApB,EAA+B;;AAC/B,gBAAIqC,KAAK,CAACE,MAAN,CAAaG,YAAjB,EAA+B;AAC7BL,cAAAA,KAAK,CAACE,MAAN,CAAaG,YAAb,GAA4B,KAA5B,CAD6B,CAE7B;;AACArG,cAAAA,IAAI,CAACsG,gBAAL,CAAsBL,OAAO,CAACG,IAAR,CAAaG,KAAnC;AACArG,cAAAA,WAAW,CAACsG,MAAZ,CAAmBP,OAAO,CAACG,IAAR,CAAaG,KAAhC;AACAZ,cAAAA,MAAM,CAACc,KAAP,CACE,6BAA6BR,OAAO,CAACG,IAAR,CAAaG,KAD5C;AAGAP,cAAAA,KAAK,CAACE,MAAN,CAAaQ,KAAb,CAAmBC,UAAnB,GAAgC,QAAhC;AACD,aATD,MASO;AACLX,cAAAA,KAAK,CAACE,MAAN,CAAaG,YAAb,GAA4B,IAA5B,CADK,CAEL;;AACArG,cAAAA,IAAI,CAAC4G,aAAL,CAAmBX,OAAO,CAACG,IAAR,CAAaG,KAAhC;AACArG,cAAAA,WAAW,CAAC2G,GAAZ,CAAgBZ,OAAO,CAACG,IAAR,CAAaG,KAA7B;AACAZ,cAAAA,MAAM,CAACc,KAAP,CACE,0BAA0BR,OAAO,CAACG,IAAR,CAAaG,KADzC;AAGAP,cAAAA,KAAK,CAACE,MAAN,CAAaQ,KAAb,CAAmBC,UAAnB,GAAgC,MAAhC;AACD;AACF,WA9BH;AA+BE,UAAA,YAAY,EAAE,sBAAAX,KAAK,EAAI;AACrB;AACA;AACAA,YAAAA,KAAK,CAACE,MAAN,CAAaQ,KAAb,CAAmBC,UAAnB,GAAgC,MAAhC;AACD,WAnCH;AAoCE,UAAA,UAAU,EAAE,oBAAAX,KAAK,EAAI;AACnB,gBAAI,CAACA,KAAK,CAACE,MAAN,CAAaG,YAAlB,EACEL,KAAK,CAACE,MAAN,CAAaQ,KAAb,CAAmBC,UAAnB,GAAgC,QAAhC;AACH,WAvCH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAyCGb,IAzCH,CADF,CADF;AA+CD,OA7DA,CAPH,EAuEI,GAvEJ,CADF,CADF;AA6ED;;;;EArFsBhL,KAAK,CAAC2K,S;;IAwFzBqB,oB;;;;;;;;;;;;;;;;;WACJ7D,K,GAAQ;AACNC,MAAAA,IAAI,EAAE,CAAC,IAAD,EAAO,KAAP,EAAc,KAAd,EAAqB,KAArB,EAA4B,KAA5B,EAAmC,KAAnC,CADA;AAENC,MAAAA,cAAc,EAAE,OAAKC,KAAL,CAAWD,cAFrB;AAGN4D,MAAAA,WAAW,EAAE,OAAK3D,KAAL,CAAW2D,WAHlB;AAIN1D,MAAAA,SAAS,EAAE,KAJL;AAKNC,MAAAA,EAAE,EAAE,IALE;AAMN0D,MAAAA,QAAQ,EAAE,IANJ;AAONC,MAAAA,OAAO,EAAE;AAPH,K;;;;;;6BAUC;AAAA;;AACP,UAAMrC,KAAK,GAAG,EAAd;AACA,UAAMD,OAAO,GAAG,GAAhB;AAFO,UAICG,OAJD,GAIa,KAAK1B,KAJlB,CAIC0B,OAJD;AAKP,UAAMC,MAAM,GAAG,CAAC,YAAD,EAAe,QAAf,EAAyB,SAAzB,EAAoC,QAApC,EAA8C,OAA9C,CAAf,CALO,CAMP;;AACA,UAAM5B,cAAc,GAAG,KAAKC,KAAL,CAAWD,cAAlC;AACA,UAAM4D,WAAW,GAAG,KAAK3D,KAAL,CAAW2D,WAA/B;AARO,UASCC,QATD,GASc,KAAK/D,KATnB,CASC+D,QATD,EAUP;;AACA,aACE;AAAK,QAAA,KAAK,EAAE;AAAE3F,UAAAA,MAAM,EAAE,MAAV;AAAkBD,UAAAA,KAAK,EAAE;AAAzB,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAE,MAAV;AAAkBgB,UAAAA,QAAQ,EAAE;AAA5B,SAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAEyC,OAAO,CAACoC,IAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,aAAD;AAAe,QAAA,SAAS,EAAEpC,OAAO,CAACjC,SAAlC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,2BADF,EAKE,oBAAC,OAAD;AACE,QAAA,EAAE,EAAC,eADL;AAEE,QAAA,IAAI,EAAEsE,OAAO,CAACH,QAAD,CAFf;AAGE,QAAA,QAAQ,EAAEA,QAHZ;AAIE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,MAAI,CAACzC,QAAL,CAAc;AACZyC,YAAAA,QAAQ,EAAE;AADE,WAAd;AAGD,SARH;AASE,QAAA,YAAY,EAAE;AACZI,UAAAA,QAAQ,EAAE,QADE;AAEZC,UAAAA,UAAU,EAAE;AAFA,SAThB;AAaE,QAAA,eAAe,EAAE;AACfD,UAAAA,QAAQ,EAAE,KADK;AAEfC,UAAAA,UAAU,EAAE;AAFG,SAbnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAkBE,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAE;AAAEC,UAAAA,MAAM,EAAEjH,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB;AAA/B,SAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKiB,KAAL,CAAWgE,OADd,CAlBF,CALF,EA4BGlC,MAAM,CAACC,GAAP,CAAW,UAACC,IAAD,EAAOrB,KAAP;AAAA,eACV,oBAAC,KAAD,CAAO,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,IAAD;AACE,UAAA,EAAE,EACAA,KAAK,IAAI,CAAT,IAAc,CAAC,MAAI,CAACX,KAAL,CAAWI,SAA1B,GACI,MAAI,CAACD,KAAL,CAAWiC,IAAX,GACE,KADF,GAEE,MAAI,CAACjC,KAAL,CAAWE,EAHjB,GAII,MAAI,CAACL,KAAL,CAAWC,IAAX,CAAgBU,KAAhB,CANR;AAQE,UAAA,OAAO,EAAEe,OARX;AASE,UAAA,OAAO,EAAE,mBAAM;AACb;AACAW,YAAAA,UAAU,CAAC,YAAM;AACf,kBAAIC,OAAO,GAAG,MAAI,CAACtC,KAAL,CAAWC,IAAzB;AACAqC,cAAAA,OAAO,CAAC3B,KAAK,GAAG,CAAT,CAAP,GAAqB,IAArB;;AACA,cAAA,MAAI,CAACW,QAAL,CAAc;AAAErB,gBAAAA,IAAI,EAAEqC;AAAR,eAAd;AACD,aAJS,EAIPX,KAJO,CAAV;AAKD,WAhBH;AAiBE,UAAA,SAAS,EAAE,qBAAM;AACf;AACA;AACA;AACA,gBAAIhB,KAAK,IAAI,CAAb,EAAgB;AACd,cAAA,MAAI,CAACW,QAAL,CAAc;AAAElB,gBAAAA,SAAS,EAAE;AAAb,eAAd;;AACA,cAAA,MAAI,CAACkB,QAAL,CAAc;AAAEjB,gBAAAA,EAAE,EAAE;AAAN,eAAd;AACD;AACF,WAzBH;AA0BE,UAAA,MAAM,EAAE,kBAAM;AACZ;AACA,gBAAIM,KAAK,IAAI,CAAb,EAAgB;AACd,kBAAI2B,OAAO,GAAG,MAAI,CAACtC,KAAL,CAAWC,IAAzB;AACAqC,cAAAA,OAAO,CAAC,CAAD,CAAP,GAAa,KAAb;;AACA,cAAA,MAAI,CAAChB,QAAL,CAAc;AAAErB,gBAAAA,IAAI,EAAEqC;AAAR,eAAd;;AACA,cAAA,MAAI,CAAChB,QAAL,CAAc;AAAElB,gBAAAA,SAAS,EAAE;AAAb,eAAd;AACD;;AACDiC,YAAAA,UAAU,CAAC,YAAM;AACf,kBAAIC,OAAO,GAAG,MAAI,CAACtC,KAAL,CAAWC,IAAzB;AACAqC,cAAAA,OAAO,CAAC3B,KAAK,GAAG,CAAT,CAAP,GAAqB,KAArB;;AACA,cAAA,MAAI,CAACW,QAAL,CAAc;AAAErB,gBAAAA,IAAI,EAAEqC;AAAR,eAAd;AACD,aAJS,EAIPX,KAJO,CAAV;AAKD,WAvCH;AAwCE,UAAA,QAAQ,EAAE,oBAAM;AACd;AACA;AACA,gBAAIhB,KAAK,IAAI,CAAb,EAAgB;AACd,kBAAI2B,OAAO,GAAG,MAAI,CAACtC,KAAL,CAAWC,IAAzB;AACAqC,cAAAA,OAAO,CAAC,CAAD,CAAP,GAAa,IAAb;;AACA,cAAA,MAAI,CAAChB,QAAL,CAAc;AAAErB,gBAAAA,IAAI,EAAEqC;AAAR,eAAd;;AACA,cAAA,MAAI,CAAChB,QAAL,CAAc;AACZpB,gBAAAA,cAAc,EAAE,MAAI,CAACC,KAAL,CAAWD;AADf,eAAd,EAJc,CAOd;;AACD;AACF,WApDH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAsDE,oBAAC,QAAD;AACE,UAAA,MAAM,MADR;AAEE,UAAA,OAAO,EAAE,iBAAA6C,KAAK,EAAI;AAChB,YAAA,MAAI,CAACzB,QAAL,CAAc;AACZ0C,cAAAA,OAAO,EAAE,MAAI,CAAC7D,KAAL,CAAW2D,WAAX,CAAuBnD,KAAvB,EAA8BoB,GAA9B,CACP,UAACQ,IAAD,EAAO5B,KAAP;AAAA,uBACE4B,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAX,IAAiBA,IAAI,CAAC,CAAD,CAAJ,IAAW7B,SAA5B,GACI,EADJ,GAEI,MAAM6B,IAAI,CAAC,CAAD,CAAV,GAAgB,IAAhB,GAAuBA,IAAI,CAAC,CAAD,CAA3B,GAAiC,GAHvC;AAAA,eADO,CADG;AAOZwB,cAAAA,QAAQ,EAAEhB,KAAK,CAACuB;AAPJ,aAAd;AASD,WAZH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAcE,oBAAC,MAAD;AACE,UAAA,KAAK,EAAE;AACLjG,YAAAA,eAAe,EACb,MAAI,CAAC2B,KAAL,CAAWE,cAAX,CAA0BS,KAA1B,EAAiC,CAAjC,EAAoC,CAApC,MAA2C,MAA3C,IACAA,KAAK,IAAI,CADT,GAEIjE,UAAU,CAACiE,KAAD,CAFd,GAGIjH,IAAI,CAAC,GAAD;AALL,WADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WASG,GATH,EAUGsI,IAAI,CAAC,CAAD,CAVP,CAdF,EA2BE,oBAAC,YAAD;AACE,UAAA,OAAO,EAAE,MAAI,CAAChC,KAAL,CAAWE,cAAX,CAA0BS,KAA1B,EAAiCoB,GAAjC,CACP,UAACQ,IAAD,EAAO5B,KAAP;AAAA,mBACE4B,IAAI,CAAC,CAAD,CAAJ,IAAW,EAAX,GACI,EADJ,GAEI,MAAMA,IAAI,CAAC,CAAD,CAAV,GAAgB,IAAhB,GAAuBA,IAAI,CAAC,CAAD,CAA3B,GAAiC,GAHvC;AAAA,WADO,CADX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UA3BF,CAtDF,CADF,CADU;AAAA,OAAX,CA5BH,CADF,CADF,CADF;AAkID;;;;EAxJgC1K,KAAK,CAAC2K,S;;IA2JnC+B,kB;;;;;;;;;;;;;;;;;WACJC,I,GAAO,CACL,KADK,EAEL,KAFK,EAGL,KAHK,EAIL,KAJK,EAKL,KALK,EAML,KANK,EAOL,KAPK,EAQL,KARK,EASL,IATK,EAUL,IAVK,EAWL,KAXK,EAYL,KAZK,EAaL,KAbK,EAcL,KAdK,EAeL,KAfK,EAgBL,OAhBK,C;;;;;;6BAkBE;AAAA,UACC3C,OADD,GACa,KAAK1B,KADlB,CACC0B,OADD;AAEP,UAAI4C,CAAC,GAAG1H,IAAI,CAAC2H,eAAL,EAAR;AACA,aACE;AAAK,QAAA,KAAK,EAAE;AAAEvG,UAAAA,KAAK,EAAE;AAAT,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAE0D,OAAO,CAAC5C,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAE4C,OAAO,CAAC3C,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKsF,IAAL,CAAUzC,GAAV,CACC,UAACC,IAAD,EAAOrB,KAAP;AAAA,eACEA,KAAK,GAAG,CAAR,IACE,oBAAC,SAAD;AAAW,UAAA,KAAK,EAAE;AAAEgE,YAAAA,SAAS,EAAE,QAAb;AAAuBC,YAAAA,QAAQ,EAAE;AAAjC,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG5C,IADH,CAFJ;AAAA,OADD,CADH,CADF,CADF,EAaE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAEH,OAAO,CAAC3C,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGuF,CAAC,CAAC1C,GAAF,CACC,UAAC8C,GAAD,EAAMlE,KAAN;AAAA,eACEA,KAAK,GAAG,CAAR,IACE,oBAAC,SAAD;AAAW,UAAA,KAAK,EAAE;AAAEgE,YAAAA,SAAS,EAAE;AAAb,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA4CE,GAA5C,CAFJ;AAAA,OADD,CADH,CADF,CAbF,EAuBE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAEhD,OAAO,CAAC3C,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKsF,IAAL,CAAUzC,GAAV,CACC,UAACC,IAAD,EAAOrB,KAAP;AAAA,eACEA,KAAK,IAAI,CAAT,IACE,oBAAC,SAAD;AAAW,UAAA,KAAK,EAAE;AAAEgE,YAAAA,SAAS,EAAE;AAAb,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACG3C,IADH,CAFJ;AAAA,OADD,CADH,CADF,CAvBF,EAmCE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,SAAS,EAAEH,OAAO,CAAC3C,GAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACGuF,CAAC,CAAC1C,GAAF,CACC,UAAC8C,GAAD,EAAMlE,KAAN;AAAA,eACEA,KAAK,IAAI,CAAT,IACE,oBAAC,SAAD;AAAW,UAAA,KAAK,EAAE;AAAEgE,YAAAA,SAAS,EAAE;AAAb,WAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA4CE,GAA5C,CAFJ;AAAA,OADD,CADH,CADF,CAnCF,CADF,CADF;AAkDD;;;;EAxE8BhN,KAAK,CAAC2K,S;;IA2EjCsC,U;;;;;;;;;;;;;;;;;WACJ9E,K,GAAQ;AACN+E,MAAAA,eAAe,EAAE,KADX;AAENC,MAAAA,UAAU,EAAE,KAFN;AAGNC,MAAAA,SAAS,EAAE,KAHL;AAINC,MAAAA,MAAM,EAAE,EAJF;AAKNC,MAAAA,aAAa,EAAE,KALT;AAMNpB,MAAAA,QAAQ,EAAE,IANJ;AAONqB,MAAAA,UAAU,EAAE;AAPN,K;;;;;;+BASGjF,K,EAAO;AAChB,aAAO,oBAAC,KAAD;AAAO,QAAA,SAAS,EAAC;AAAjB,SAA0BA,KAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAP;AACD;;;6BAEQ;AAAA;;AAAA,UACC4D,QADD,GACc,KAAK/D,KADnB,CACC+D,QADD;AAEP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE,oBAAC,QAAD;AACE,QAAA,MAAM,MADR;AAEE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,MAAI,CAACzC,QAAL,CAAc;AAAEyD,YAAAA,eAAe,EAAE,CAAC,MAAI,CAAC/E,KAAL,CAAW+E;AAA/B,WAAd;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CANF,EASE,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QATF,CAJF,EAeE,oBAAC,QAAD;AACE,QAAA,EAAE,EAAE,KAAK/E,KAAL,CAAW+E,eADjB;AAEE,QAAA,OAAO,EAAC,MAFV;AAGE,QAAA,aAAa,MAHf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAKE,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAC,KAAhB;AAAsB,QAAA,cAAc,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AACE,QAAA,MAAM,MADR;AAEE,QAAA,OAAO,EAAE,iBAAAhC,KAAK,EAAI;AAChB,UAAA,MAAI,CAACzB,QAAL,CAAc;AAAEyC,YAAAA,QAAQ,EAAEhB,KAAK,CAACuB;AAAlB,WAAd;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME,oBAAC,YAAD;AAAc,QAAA,KAAK,MAAnB;AAAoB,QAAA,OAAO,EAAC,OAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CADF,CALF,EAeE,oBAAC,IAAD;AACE,QAAA,EAAE,EAAC,YADL;AAEE,QAAA,QAAQ,EAAEP,QAFZ;AAGE,QAAA,IAAI,EAAEG,OAAO,CAACH,QAAD,CAHf;AAIE,QAAA,OAAO,EAAE,mBAAM;AACb;AACA;AACA,UAAA,MAAI,CAACzC,QAAL,CAAc;AAAEyC,YAAAA,QAAQ,EAAE;AAAZ,WAAd;AACD,SARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUGlH,QAAQ,CAACkF,GAAT,CAAa,UAACsD,MAAD,EAAS1E,KAAT;AAAA,eACZ,oBAAC,QAAD;AACE,UAAA,GAAG,EAAE0E,MADP;AAEE,UAAA,QAAQ,EAAE1E,KAAK,KAAK,MAAI,CAACX,KAAL,CAAWoF,UAFjC;AAGE,UAAA,OAAO,EAAE,iBAAArC,KAAK,EAAI;AAChBnG,YAAAA,UAAU,GAAG,OAAOC,QAAQ,CAAC8D,KAAD,CAA5B;AACA7C,YAAAA,OAAO,CAACC,GAAR,CAAY,gBAAgBnB,UAA5B;;AACA,YAAA,MAAI,CAAC0E,QAAL,CAAc;AAAE8D,cAAAA,UAAU,EAAEzE,KAAd;AAAqBoD,cAAAA,QAAQ,EAAE;AAA/B,aAAd;AACD,WAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WASGlH,QAAQ,CAAC8D,KAAD,CATX,CADY;AAAA,OAAb,CAVH,CAfF,CAfF,EAwDE,oBAAC,QAAD;AACE,QAAA,MAAM,MADR;AAEE,QAAA,OAAO,EAAE,mBAAM;AACb;AACA,UAAA,MAAI,CAACW,QAAL,CAAc;AACZ0D,YAAAA,UAAU,EAAE,IADA;AAEZE,YAAAA,MAAM,EAAEnI,IAAI,CAACuI,SAAL;AAFI,WAAd;AAID,SARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAVF,EAaE,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAC,QAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,CAxDF,CADF,EAyEE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAzEF,EA0EE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AACE,QAAA,MAAM,MADR;AAEE,QAAA,GAAG,EAAC,OAFN;AAGE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,MAAI,CAAChE,QAAL,CAAc;AACZ2D,YAAAA,SAAS,EAAE;AADC,WAAd;AAGD,SAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SASE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CATF,EAYE,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAZF,CADF,CA1EF,EA2FE,oBAAC,MAAD;AACE,QAAA,IAAI,EAAE,KAAKjF,KAAL,CAAWgF,UADnB;AAEE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,MAAI,CAAC1D,QAAL,CAAc;AAAE0D,YAAAA,UAAU,EAAE;AAAd,WAAd;AACD,SAJH;AAKE,QAAA,MAAM,EAAC,OALT;AAME,QAAA,WAAW,MANb;AAOE,QAAA,mBAAmB,EAAE,KAAKO,UAP5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SASE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBATF,EAUE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACG,KAAKvF,KAAL,CAAWkF,MAAX,CAAkBnD,GAAlB,CAAsB,UAACyD,IAAD,EAAO7E,KAAP,EAAiB;AACtC,eACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAa,OAAO6E,IAAI,CAAC,CAAD,CAAX,GAAiB,IAAjB,GAAwBA,IAAI,CAAC,CAAD,CAAzC,CADF;AAGD,OAJA,CADH,CADF,CAVF,CA3FF,EA+GE,oBAAC,MAAD;AACE,QAAA,IAAI,EAAE,KAAKxF,KAAL,CAAWiF,SADnB;AAEE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,MAAI,CAAC3D,QAAL,CAAc;AAAE2D,YAAAA,SAAS,EAAE;AAAb,WAAd;AACD,SAJH;AAKE,QAAA,MAAM,EAAC,OALT;AAME,QAAA,WAAW,MANb;AAOE,QAAA,mBAAmB,EAAE,KAAKM,UAP5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SASE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBATF,EAUE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,iBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAAoB9I,SAApB,CADF,CAVF,EAaE,oBAAC,aAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbF,CA/GF,CADF;AAiID;;;;EAjJsB5E,KAAK,CAAC2K,S;;IAoJzBiD,U;;;;;AACJ,sBAAYtF,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,qFAAMA,KAAN;AACA,WAAKuF,YAAL,GAAoB,OAAKA,YAAL,CAAkBC,IAAlB,wDAApB;AACA,WAAK3F,KAAL,GAAa;AACX4F,MAAAA,QAAQ,EAAE,EADC;AAEXC,MAAAA,MAAM,EAAE,GAFG;AAGXC,MAAAA,MAAM,EAAE,EAHG;AAIXnD,MAAAA,IAAI,EAAE,CAAC,0BAAD,CAJK;AAKXoD,MAAAA,UAAU,EAAE,MALD;AAMXC,MAAAA,SAAS,EAAE,KANA;AAOXC,MAAAA,SAAS,EAAE,KAPA;AAQXC,MAAAA,KAAK,EAAE,IARI;AASXC,MAAAA,YAAY,EAAE,KATH;AAUXC,MAAAA,cAAc,EAAE,KAVL;AAWXC,MAAAA,GAAG,EAAE,KAXM;AAYXC,MAAAA,UAAU,EAAE,KAZD;AAaXC,MAAAA,gBAAgB,EAAE,KAbP;AAcXC,MAAAA,OAAO,EAAE,IAdE;AAeXC,MAAAA,YAAY,EAAE,KAfH;AAgBXC,MAAAA,YAAY,EAAE,EAhBH;AAiBXC,MAAAA,YAAY,EAAE,KAjBH;AAkBX5C,MAAAA,QAAQ,EAAE,IAlBC;AAmBX7D,MAAAA,cAAc,EAAEnD,IAAI,CAAC6F,iBAAL,EAnBL;AAoBXkB,MAAAA,WAAW,EAAE/G,IAAI,CAAC6J,cAAL,EApBF;AAqBXC,MAAAA,YAAY,EAAE9J,IAAI,CAAC2H,eAAL;AArBH,KAAb;AAuBA,WAAKoC,YAAL,GAAoBjP,KAAK,CAACkP,SAAN,EAApB;AA1BiB;AA2BlB;;;;0BACKC,G,EAAK;AACT,UAAIC,QAAQ,GAAG,KAAKjH,KAAL,CAAW0G,YAA1B;AACAO,MAAAA,QAAQ,CAACC,IAAT,CAAcF,GAAd;AACA,WAAK1F,QAAL,CAAc;AACZoF,QAAAA,YAAY,EAAEO,QADF;AAEZN,QAAAA,YAAY,EAAE,CAAC,KAAK3G,KAAL,CAAW2G;AAFd,OAAd;AAID;;;iCAEY5D,K,EAAO;AAClB;AACA,UAAIoE,UAAU,GAAG,IAAIC,UAAJ,EAAjB;AACA,UAAIC,GAAJ;AACA,UAAIC,CAAC,GAAG,IAAR;;AACAH,MAAAA,UAAU,CAACI,MAAX,GAAoB,UAASxE,KAAT,EAAgB;AAClC;AACA;AACAsE,QAAAA,GAAG,GAAGtE,KAAK,CAACE,MAAN,CAAauE,MAAnB;AACAzK,QAAAA,IAAI,CAACC,IAAL;AACAD,QAAAA,IAAI,CAAC0K,OAAL,CAAaJ,GAAb,EALkC,CAMlC;AACA;AACA;;AAEAC,QAAAA,CAAC,CAAChG,QAAF,CAAW;AAAEpB,UAAAA,cAAc,EAAEnD,IAAI,CAAC6F,iBAAL;AAAlB,SAAX;AACA0E,QAAAA,CAAC,CAAChG,QAAF,CAAW;AAAEpB,UAAAA,cAAc,EAAEnD,IAAI,CAAC2H,eAAL;AAAlB,SAAX;AAEA4C,QAAAA,CAAC,CAAChG,QAAF,CAAW;AAAEpB,UAAAA,cAAc,EAAEnD,IAAI,CAAC6F,iBAAL;AAAlB,SAAX;AACA0E,QAAAA,CAAC,CAAChG,QAAF,CAAW;AAAEuF,UAAAA,YAAY,EAAE9J,IAAI,CAAC2H,eAAL;AAAhB,SAAX;AACA4C,QAAAA,CAAC,CAAChG,QAAF,CAAW;AAAEkF,UAAAA,OAAO,EAAE;AAAX,SAAX;AACAnE,QAAAA,UAAU,CAAC,YAAM;AACfiF,UAAAA,CAAC,CAAChG,QAAF,CAAW;AAAEkF,YAAAA,OAAO,EAAE;AAAX,WAAX;AACD,SAFS,EAEP,EAFO,CAAV;AAIA,YAAIkB,SAAS,GAAG,EAAhB;AACA,YAAI7E,IAAI,GAAG,EAAX;AACA,YAAItB,CAAC,GAAG,CAAR;;AACA,eAAOA,CAAC,GAAG8F,GAAG,CAACzF,MAAf,EAAuB;AACrB,cAAIyF,GAAG,CAAC9F,CAAD,CAAH,IAAU,IAAd,EAAoB;AAClB,gBAAI8F,GAAG,CAAC9F,CAAD,CAAH,IAAU,GAAd,EAAmBsB,IAAI,IAAI,MAAR,CAAnB,KACKA,IAAI,IAAIwE,GAAG,CAAC9F,CAAD,CAAX;AACN,WAHD,MAGO;AACLmG,YAAAA,SAAS,CAACR,IAAV,CAAerE,IAAf;AACAA,YAAAA,IAAI,GAAG,EAAP;AACD;;AACDtB,UAAAA,CAAC;AACF;;AACD+F,QAAAA,CAAC,CAAChG,QAAF,CAAW;AAAEqB,UAAAA,IAAI,EAAE+E;AAAR,SAAX,EAjCkC,CAkClC;AACD,OAnCD;;AAoCA,UAAI3E,KAAK,CAACE,MAAN,CAAa0E,KAAb,CAAmB/F,MAAvB,EAA+BuF,UAAU,CAACS,UAAX,CAAsB7E,KAAK,CAACE,MAAN,CAAa0E,KAAb,CAAmB,CAAnB,CAAtB;AAChC;;;wCACmB;AAClB;AACA,UAAIL,CAAC,GAAG,IAAR;AACAjF,MAAAA,UAAU,CAAC,SAASwF,CAAT,GAAa;AACtBP,QAAAA,CAAC,CAAChG,QAAF,CAAW;AACTuE,UAAAA,MAAM,EAAEyB,CAAC,CAACtH,KAAF,CAAQ6F,MAAR,GAAiB/I,QADhB;AAETgJ,UAAAA,MAAM,EAAEwB,CAAC,CAACtH,KAAF,CAAQ8F,MAAR,GAAiBhJ;AAFhB,SAAX;AAIAuF,QAAAA,UAAU,CAACwF,CAAD,EAAI,EAAJ,CAAV;AACD,OANS,EAMP,EANO,CAAV;AAOD;;;4CAE+B;AAAA;;AAAA,UAAVC,IAAU,uEAAH,CAAG;AAC9B,WAAKxG,QAAL,CAAc;AAAEpB,QAAAA,cAAc,EAAEnD,IAAI,CAAC6F,iBAAL;AAAlB,OAAd;AACA,WAAKtB,QAAL,CAAc;AAAEuF,QAAAA,YAAY,EAAE9J,IAAI,CAAC2H,eAAL;AAAhB,OAAd;AACA,WAAKpD,QAAL,CAAc;AACZwC,QAAAA,WAAW,EAAE/G,IAAI,CAAC6J,cAAL;AADD,OAAd;;AAGA,UAAIkB,IAAJ,EAAU;AACR,aAAKxG,QAAL,CAAc;AAAEkF,UAAAA,OAAO,EAAE;AAAX,SAAd;AACAnE,QAAAA,UAAU,CAAC,YAAM;AACf,UAAA,MAAI,CAACf,QAAL,CAAc;AAAEkF,YAAAA,OAAO,EAAE;AAAX,WAAd;AACD,SAFS,EAEP,GAFO,CAAV;AAGD;AACF;AAED;;;;8BACU;AACR,UAAIc,CAAC,GAAG,IAAR;AACA,UAAIS,IAAI,GAAGjL,QAAX;AACAA,MAAAA,QAAQ,GAAG,EAAX,CAHQ,CAIR;;AACAuF,MAAAA,UAAU,CAAC,SAAS2F,IAAT,GAAgB;AACzB,YAAIC,IAAI,GAAGX,CAAC,CAACY,QAAF,CAAW,CAAX,EAAc,CAAd,CAAX;AACA,YAAIC,EAAE,GAAGpL,IAAI,CAACqL,KAAL,EAAT;;AACA,YAAI,CAACd,CAAC,CAACtH,KAAF,CAAQqG,GAAT,IAAgB4B,IAAhB,IAAwBhL,WAAW,CAACoL,GAAZ,CAAgBF,EAAhB,CAA5B,EAAiD;AAC/Cb,UAAAA,CAAC,CAAC9D,KAAF,CAAQ,gBAAgB2E,EAAxB;;AACA,cAAIb,CAAC,CAACtH,KAAF,CAAQqG,GAAZ,EAAiB;AACfiB,YAAAA,CAAC,CAAChG,QAAF,CAAW;AACT4E,cAAAA,KAAK,EAAE;AADE,aAAX;AAGD;;AACDpJ,UAAAA,QAAQ,GAAGiL,IAAX;AACAT,UAAAA,CAAC,CAACgB,qBAAF;AACA;AACD;;AAEDjG,QAAAA,UAAU,CAAC2F,IAAD,EAAOpL,UAAP,CAAV;AACD,OAhBS,EAgBPA,UAhBO,CAAV;AAiBD;;;6BAEQ2E,C,EAAa;AAAA,UAAVuG,IAAU,uEAAH,CAAG;AACpB,UAAIS,GAAG,GAAGxL,IAAI,CAACyL,KAAL,CAAWjH,CAAX,CAAV;;AACA,cAAQgH,GAAR;AACE,aAAK,CAAL;AACE,eAAK/E,KAAL,CAAW,gBAAX;AACA,iBAAO+E,GAAP;;AACF,aAAK,CAAL;AACE,eAAK/E,KAAL,CAAW,sBAAX;AACA,iBAAO+E,GAAP;;AACF,aAAK,CAAL;AACE,eAAK/E,KAAL,CAAW,OAAX;AACA,iBAAO+E,GAAP;AATJ;;AAWA,WAAKD,qBAAL,CAA2BR,IAA3B;AACA,aAAOS,GAAP;AACD;;;6BAEQ;AAAA;;AAAA,UACC1G,OADD,GACa,KAAK1B,KADlB,CACC0B,OADD;AAAA,UAECkC,QAFD,GAEc,KAAK/D,KAFnB,CAEC+D,QAFD;AAIP,UAAM0E,UAAU,GACd;AAAK,QAAA,SAAS,EAAE5G,OAAO,CAACoC,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE,oBAAC,QAAD;AAAU,QAAA,MAAM,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAC,SAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,EAOE,oBAAC,QAAD;AAAU,QAAA,EAAE,EAAE,KAAKjE,KAAL,CAAW0I,QAAzB;AAAmC,QAAA,OAAO,EAAC,MAA3C;AAAkD,QAAA,aAAa,MAA/D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAC,OAAtB;AAA8B,QAAA,OAAO,EAAE,iBAAAC,CAAC,EAAI,CAAE,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAC,OAAtB;AAA8B,QAAA,OAAO,EAAE,iBAAAA,CAAC,EAAI,CAAE,CAA9C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAJF,CAPF,EAgBE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAC,EAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CAhBF,CADF,EAqBE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QArBF,EAsBE,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAU,QAAA,MAAM,MAAhB;AAAiB,QAAA,GAAG,EAAC,OAArB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAIE,oBAAC,YAAD;AAAc,QAAA,OAAO,EAAC,OAAtB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF,CAtBF,CADF;AAiCA,aACE;AAAK,QAAA,SAAS,EAAE9G,OAAO,CAAC5D,IAAxB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,WAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,EAEE,oBAAC,gBAAD;AAAkB,QAAA,KAAK,EAAEb,KAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,MAAD;AACE,QAAA,IAAI,EAAE,KAAK4C,KAAL,CAAWsG,UADnB;AAEE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,OAAI,CAAChF,QAAL,CAAc;AAAEgF,YAAAA,UAAU,EAAE;AAAd,WAAd;AACD,SAJH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,EAOE;AACE,QAAA,QAAQ,EAAE,CADZ;AAEE,QAAA,IAAI,EAAC,QAFP;AAGE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,OAAI,CAAChF,QAAL,CAAc;AAAEgF,YAAAA,UAAU,EAAE;AAAd,WAAd;AACD,SALH;AAME,QAAA,SAAS,EAAE,qBAAM;AACf,UAAA,OAAI,CAAChF,QAAL,CAAc;AAAEgF,YAAAA,UAAU,EAAE;AAAd,WAAd;AACD,SARH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CADF,EAmBE,oBAAC,MAAD;AACE,QAAA,QAAQ,EAAC,OADX;AAEE,QAAA,SAAS,EAAEzE,OAAO,CAACvD,MAFrB;AAGE,QAAA,KAAK,EAAE;AACLJ,UAAAA,OAAO,EAAE,MADJ;AAEL0K,UAAAA,YAAY,EAAE,QAFT;AAGLrL,UAAAA,UAAU,EACR,qBACA,KAAKyC,KAAL,CAAW4F,QADX,GAEA,WAFA,GAGA,KAAK5F,KAAL,CAAW6F,MAHX,GAIA,qBAJA,GAKA,KAAK7F,KAAL,CAAW8F,MALX,GAMA;AAVG,SAHT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAgBE,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAE;AAAE1H,UAAAA,MAAM,EAAE;AAAV,SAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AACE,QAAA,KAAK,EAAC,SADR;AAEE,sBAAW,aAFb;AAGE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,OAAI,CAACkD,QAAL,CAAc;AAAEgF,YAAAA,UAAU,EAAE;AAAd,WAAd;AACD,SALH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAOE,oBAAC,QAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAPF,CADF,EAUE,oBAAC,OAAD;AAAS,QAAA,KAAK,EAAC,QAAf;AAAwB,QAAA,UAAU,EAAE,IAApC;AAA0C,QAAA,UAAU,EAAE,GAAtD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AACE,QAAA,KAAK,EAAC,SADR;AAEE,QAAA,OAAO,EAAE;AAAA,iBAAM,OAAI,CAACuC,UAAL,CAAgBC,KAAhB,EAAN;AAAA,SAFX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CADF,CAVF,EAkBE;AACE,QAAA,IAAI,EAAC,MADP;AAEE,QAAA,MAAM,EAAC,KAFT;AAGE,QAAA,GAAG,EAAE,aAAArI,KAAG;AAAA,iBAAK,OAAI,CAACoI,UAAL,GAAkBpI,KAAvB;AAAA,SAHV;AAIE,QAAA,KAAK,EAAE;AAAEsI,UAAAA,UAAU,EAAE;AAAd,SAJT;AAKE,QAAA,OAAO,EAAE,KAAKrD,YALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAlBF,EA0BE,oBAAC,UAAD;AACE,QAAA,OAAO,EAAC,IADV;AAEE,QAAA,KAAK,EAAC,SAFR;AAGE,QAAA,MAAM,MAHR;AAIE,QAAA,KAAK,EAAE;AAAElF,UAAAA,QAAQ,EAAE,UAAZ;AAAwBwI,UAAAA,KAAK,EAAE;AAA/B,SAJT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAMGzM,WANH,CA1BF,CAhBF,CAnBF,EA2EE,oBAAC,QAAD;AACE,QAAA,GAAG,EAAE,CADP;AAEE,QAAA,YAAY,EAAE;AACZ4H,UAAAA,QAAQ,EAAE,QADE;AAEZC,UAAAA,UAAU,EAAE;AAFA,SAFhB;AAME,QAAA,IAAI,EAAE,KAAKpE,KAAL,CAAW2G,YANnB;AAOE,QAAA,gBAAgB,EAAE,IAPpB;AAQE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,OAAI,CAACrF,QAAL,CAAc;AACZqF,YAAAA,YAAY,EAAE;AADF,WAAd;AAGD,SAZH;AAaE,QAAA,QAAQ,EAAE,oBAAM;AACd,cAAIK,GAAG,GAAG,OAAI,CAAChH,KAAL,CAAW0G,YAArB;AACAM,UAAAA,GAAG,CAACiC,KAAJ;;AACA,cAAIjC,GAAG,CAACpF,MAAJ,GAAa,CAAjB,EAAoB;AAClB,YAAA,OAAI,CAACN,QAAL,CAAc;AACZoF,cAAAA,YAAY,EAAEM,GADF;AAEZL,cAAAA,YAAY,EAAE;AAFF,aAAd;AAID;AACF,SAtBH;AAuBE,QAAA,YAAY,EAAE;AACZ,8BAAoB;AADR,SAvBhB;AA0BE,QAAA,OAAO,EAAE;AAAM,UAAA,EAAE,EAAC,YAAT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAuB,KAAK3G,KAAL,CAAW0G,YAAX,CAAwB,CAAxB,CAAvB,CA1BX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QA3EF,EAwGE;AAAM,QAAA,SAAS,EAAE7E,OAAO,CAACjD,OAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AACE,QAAA,cAAc,EAAE,KAAKoB,KAAL,CAAWE,cAD7B;AAEE,QAAA,OAAO,EAAE2B,OAFX;AAGE,QAAA,IAAI,EAAE,CAAC,KAAK7B,KAAL,CAAWqG,GAHpB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADF,CADF,EAQE;AACE,QAAA,KAAK,EAAE;AACLlI,UAAAA,KAAK,EAAE,MADF;AAELC,UAAAA,MAAM,EAAE8C,MAAM,CAACE,WAAP,GAAqBhE,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB,EAF7C;AAILb,UAAAA,OAAO,EAAE,MAJJ;AAKLM,UAAAA,UAAU,EAAE,SALP;AAML0K,UAAAA,YAAY,EAAE9L,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB;AAN9B,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAUE;AACE,QAAA,KAAK,EAAE;AACL;AACA;AACAoK,UAAAA,WAAW,EAAE/L,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB,CAH7B;AAILZ,UAAAA,KAAK,EAAE;AAJF,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQE,oBAAC,UAAD;AACE,QAAA,OAAO,EAAE0D,OADX;AAEE,QAAA,IAAI,EAAE,KAAK7B,KAAL,CAAW2C,IAFnB;AAGE,QAAA,MAAM,EAAE,IAHV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QARF,CAVF,EAyBE;AACE,QAAA,KAAK,EAAE;AACL;AACAxE,UAAAA,KAAK,EAAE;AAFF,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAME,oBAAC,oBAAD;AACE,QAAA,cAAc,EAAE,KAAK6B,KAAL,CAAWE,cAD7B;AAEE,QAAA,WAAW,EAAE,KAAKF,KAAL,CAAW8D,WAF1B;AAGE,QAAA,OAAO,EAAEjC,OAHX;AAIE,QAAA,EAAE,EAAE,KAAK7B,KAAL,CAAWwG,OAJjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QANF,CAzBF,CARF,EA+CE;AAAK,QAAA,KAAK,EAAE;AAAE0C,UAAAA,YAAY,EAAE9L,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB;AAArC,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,cAAD;AAAgB,QAAA,eAAe,EAAE,KAAjC;AAAwC,QAAA,YAAY,EAAE,sBAAA4J,CAAC,EAAI,CAAE,CAA7D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,qBAAD;AAAuB,QAAA,UAAU,EAAE,oBAAC,cAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,UAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,CADF,EAIE,oBAAC,qBAAD;AAAuB,QAAA,SAAS,EAAE9G,OAAO,CAACxC,OAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIE,oBAAC,kBAAD;AAAoB,QAAA,OAAO,EAAEwC,OAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAJF,CAJF,CADF,CA/CF,CAxGF,EAqKE;AACE,QAAA,KAAK,EAAE;AACLI,UAAAA,MAAM,EAAE,CADH;AAELzB,UAAAA,QAAQ,EAAE,OAFL;AAGL4I,UAAAA,MAAM,EAAE,CAHH;AAILJ,UAAAA,KAAK,EAAE;AAJF,SADT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAQE,oBAAC,UAAD;AAAY,QAAA,KAAK,EAAC,qBAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACE,oBAAC,IAAD;AACE,QAAA,EAAE,EAAE,KAAKhJ,KAAL,CAAWkG,KADjB;AAEE,QAAA,SAAS,EAAE,qBAAM;AACf,UAAA,OAAI,CAAC5E,QAAL,CAAc;AACZ6E,YAAAA,YAAY,EAAE;AADF,WAAd;;AAGA,cAAI,OAAI,CAACnG,KAAL,CAAWqG,GAAf,EAAoB;AAClB,YAAA,OAAI,CAACgD,OAAL;AACD;AACF,SATH;AAUE,QAAA,MAAM,EAAE,kBAAM;AACZ,UAAA,OAAI,CAAC/H,QAAL,CAAc;AACZ6E,YAAAA,YAAY,EAAE;AADF,WAAd;AAGD,SAdH;AAeE,QAAA,QAAQ,EAAE,oBAAM;AACd,UAAA,OAAI,CAAC7E,QAAL,CAAc;AACZ4E,YAAAA,KAAK,EAAE,IADK;AAEZG,YAAAA,GAAG,EAAE,CAAC,OAAI,CAACrG,KAAL,CAAWqG;AAFL,WAAd;AAID,SApBH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAsBE,oBAAC,GAAD;AACE,QAAA,KAAK,EAAC,WADR;AAEE,QAAA,KAAK,EAAE;AAAEhC,UAAAA,MAAM,EAAEjH,KAAK,CAAC0B,OAAN,CAAcC,IAAd,GAAqB;AAA/B,SAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAIG,KAAKiB,KAAL,CAAWqG,GAAX,GACC,oBAAC,SAAD;AACE,QAAA,OAAO,EAAE,mBAAM;AACb;AACA,UAAA,OAAI,CAAC/E,QAAL,CAAc;AACZ4E,YAAAA,KAAK,EAAE;AADK,WAAd,EAFa,CAKb;;AACD,SAPH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,GAWC,oBAAC,gBAAD;AACE,QAAA,OAAO,EAAE,mBAAM;AACb;AACA,UAAA,OAAI,CAACgC,QAAL,CAAc,CAAd;AACD,SAJH;AAKE,QAAA,aAAa,EAAE,yBAAM;AACnB,cAAI,OAAI,CAAClI,KAAL,CAAWmG,YAAf,EAA6B;AAC3B;AACD;;AACD,UAAA,OAAI,CAAC3C,KAAL,CAAW,KAAX;;AACA,UAAA,OAAI,CAAClC,QAAL,CAAc;AACZ4E,YAAAA,KAAK,EAAE;AADK,WAAd;AAGD,SAbH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAfJ,CAtBF,CADF,CARF,CArKF,CAFF,CADF;AA6OD;;;;EAvasBrO,KAAK,CAAC2K,S;;IAyazB8G,U;;;;;;;;;;;;;;;;;YACJtJ,K,GAAQ;AACNuJ,MAAAA,IAAI,EAAE,KADA;AAENC,MAAAA,GAAG,EAAE;AAFC,K;;;;;;6BAIC;AAAA;AAAA;;AACP,UAAMrJ,KAAK,GAAG,KAAKA,KAAnB;AACA,aACE,oBAAC,OAAD;AACE,QAAA,KAAK,EAAE,KAAKA,KAAL,CAAWsJ,KADpB;AAEE,QAAA,UAAU,EAAE,GAFd;AAGE,QAAA,UAAU,EAAE,GAHd;AAIE,QAAA,MAAM,EAAE,kBAAM;AACZ,cAAI,CAAC,OAAI,CAACzJ,KAAL,CAAWwJ,GAAhB,EAAqB;;AACrB,UAAA,OAAI,CAAClI,QAAL,CAAc;AAAEkI,YAAAA,GAAG,EAAE,OAAI,CAACxJ,KAAL,CAAWwJ,GAAX,GAAiB;AAAxB,WAAd;;AACA,UAAA,OAAI,CAAClI,QAAL,CAAc;AAAEiI,YAAAA,IAAI,EAAE;AAAR,WAAd;AACD,SARH;AASE,QAAA,OAAO,EAAE,mBAAM;AACb,UAAA,OAAI,CAACjI,QAAL,CAAc;AAAEiI,YAAAA,IAAI,EAAE;AAAR,WAAd;AACD,SAXH;AAYE,QAAA,IAAI,EAAE,KAAKvJ,KAAL,CAAWuJ;AAZnB,6DAac,GAbd,uDAcc,GAdd;AAAA;AAAA;AAAA,wFAgBGpJ,KAAK,CAACuJ,QAhBT,CADF;AAoBD;;;;EA3BsB7R,KAAK,CAAC2K,S;;AA8B/BiD,UAAU,CAACkE,SAAX,GAAuB;AACrB9H,EAAAA,OAAO,EAAElI,SAAS,CAACiQ,MAAV,CAAiBC;AADL,CAAvB;AAIA,eAAe/P,UAAU,CAACkE,MAAD,CAAV,CAAmByH,UAAnB,CAAf","sourcesContent":["import React, { Fragment } from \"react\";\n\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Popover from \"@material-ui/core/Popover\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Slide from \"@material-ui/core/Slide\";\n\nimport red from \"@material-ui/core/colors/red\";\nimport blue from \"@material-ui/core/colors/blue\";\nimport green from \"@material-ui/core/colors/green\";\nimport brown from \"@material-ui/core/colors/brown\";\nimport yellow from \"@material-ui/core/colors/yellow\";\nimport orange from \"@material-ui/core/colors/orange\";\nimport deepOrange from \"@material-ui/core/colors/deepOrange\";\nimport purple from \"@material-ui/core/colors/purple\";\n\nimport grey from \"@material-ui/core/colors/grey\";\n\nimport PropTypes from \"prop-types\";\nimport {\n  MuiThemeProvider,\n  createMuiTheme,\n  withStyles\n} from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nimport Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport ReorderIcon from \"@material-ui/icons/Reorder\";\nimport PauseIcon from \"@material-ui/icons/Pause\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\n\nimport TextField from \"@material-ui/core/TextField\";\n\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nimport { Pipe } from \"./pipe.js\";\nconst appBarTitle = \"COLORFUL CPU\";\n\nconst stats = [\"\", \"SAOK\", \"SADR\", \"SINS\", \"SHLT\", \"SBUB\"];\nconst aboutText =\n  \"A Pipe-line Y86-64 CPU Simulator using React and Matreial-ui by Leehq\";\nlet stageColor = [red[500], purple[500], orange[500], green[500], blue[500]];\n\nlet stageRefreshTimeout = 500;\n\nlet runTimeout = 1000;\nconst speedOpt = [1, 5, 10, 20];\n\nlet colorDel = 1;\nlet pipe = new Pipe();\npipe.init();\nlet breakPoints = new Set();\n\nconst appBarHeight = 70;\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: brown,\n    //secondary: ,\n    background: {\n      default: grey[200]\n    }\n  },\n  typography: {\n    useNextVariants: true,\n    fontSize: 13,\n    fontFamily: [\n      \"Consolas\",\n      \"Courier New\",\n      '\"Microsoft Yahei\"',\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\")\n  }\n});\nconsole.log(theme);\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: grey[200]\n  },\n  appBar: {\n    height: appBarHeight\n  },\n  toolbar: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  drawer: {\n    width: 240,\n    flexShrink: 0\n  },\n\n  content: {\n    height: \"100%\",\n    width: \"100%\",\n    backgroundColor: grey[200],\n    paddingTop: appBarHeight + theme.spacing.unit * 3,\n    padding: theme.spacing.unit * 3\n  },\n  table: {\n    width: \"100%\"\n  },\n  row: {},\n  paper: {\n    overflow: \"auto\",\n    padding: 10,\n    height: \"100%\",\n    width: \"100%\"\n  },\n  details: {\n    //justifyItems: \"center\",\n    width: \"100%\",\n    overflowX: \"auto\"\n  },\n  textField: {\n    width: \"100%\",\n    rows: 10,\n    rowsMax: 10\n  },\n  panel: {\n    paddingLeft: 10,\n    overflowX: \"auto\",\n    width: \"100%\"\n    //height: \"100%\"\n  },\n  subHeader: {\n    //backgroundColor:\n    backgroundColor: theme.palette.background.paper\n  },\n  text: {\n    paddingTop: theme.spacing.unit * 2,\n    paddingLeft: theme.spacing.unit * 2,\n    paddingRight: theme.spacing.unit * 2\n  }\n});\n\nclass StageCards extends React.Component {\n  state = {\n    grow: [true, false, false, false, false, false],\n    stageRegisters: this.props.stageRegisters,\n    onRefresh: false,\n    in: true,\n    x: 0,\n    y: 0,\n    position: [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],\n    ref: [undefined, undefined, undefined, undefined, undefined]\n  };\n  changePosition(index) {\n    let rect = this.ref[index].getBoundingClientRect();\n    let randX = Math.random();\n    let randY = Math.random();\n\n    let x =\n      (window.innerWidth / 5 - rect.width / 2) * randX +\n      ((window.innerWidth * 4) / 5 - rect.width / 2) * (1 - randX);\n    let y =\n      (window.innerHeight / 3 - rect.height / 2) * randY +\n      ((window.innerHeight * 2) / 3 - rect.height / 2) * (1 - randY);\n    let newPos = this.state.position;\n    newPos[index][0] = x;\n    newPos[index][1] = y;\n    this.setState({\n      position: newPos\n    });\n  }\n\n  componentDidMount() {\n    for (let i = 0; i < 5; i++) this.changePosition(i);\n  }\n  render() {\n    const time = runTimeout / 10;\n    const timeout = time > 200 ? time : 200;\n    const delay = timeout >> 2;\n    if (this.ref == undefined) {\n      this.ref = [];\n      this.ref.length = 5;\n    }\n\n    const { classes } = this.props;\n    const stages = [\"Write-back\", \"Memory\", \"Execute\", \"Decode\", \"Fetch\"];\n    //console.log(\"render\");\n    const stageRegisters = this.props.stageRegisters;\n\n    //this.setState({refresh:this.props.refresh});\n    return stages.map((name, index) => (\n      <div\n        style={{\n          position: \"absolute\",\n          zIndex: 10,\n          left: this.state.position[index][0],\n          top: this.state.position[index][1]\n        }}\n        ref={ref => {\n          this.ref[index] = ref;\n        }}\n      >\n        <React.Fragment>\n          <Grow\n            unmountOnExit\n            //mountOnEnter\n\n            in={\n              index == 0 && !this.state.onRefresh\n                ? !this.props.hide\n                : this.state.grow[index]\n            }\n            timeout={timeout}\n            onEnter={() => {\n              //console.log(index+\" enter\");\n              if (index == 0) this.setState({ onRefresh: true });\n              setTimeout(() => {\n                let newGrow = this.state.grow;\n                newGrow[index + 1] = true;\n                this.setState({ grow: newGrow });\n              }, delay);\n            }}\n            onEntered={() => {\n              if (index == 4) {\n                let newGrow = this.state.grow;\n                newGrow[0] = false;\n                this.setState({ grow: newGrow });\n              }\n            }}\n            onExit={() => {\n              //console.log(index+\" exit\");\n              if (index == 0) {\n                this.setState({ onRefresh: true });\n              }\n              setTimeout(() => {\n                let newGrow = this.state.grow;\n                newGrow[index + 1] = false;\n                this.setState({ grow: newGrow });\n              }, delay);\n            }}\n            onExited={() => {\n              //console.log(index + \" exited\");\n              //console.log(\"******set state\");\n              this.changePosition(index);\n              if (index == 4) {\n                this.setState({\n                  onRefresh: false,\n                  stageRegisters: this.props.stageRegisters\n                });\n                if (this.props.hide) return;\n                let newGrow = this.state.grow;\n                newGrow[0] = true;\n                this.setState({ grow: newGrow });\n                //this.setState({ in: true });\n              }\n            }}\n          >\n            <Card>\n              <CardActionArea\n                style={{\n                  backgroundColor:\n                    this.state.stageRegisters[index][0][1] === \"SAOK\" ||\n                    index == 4\n                      ? stageColor[index]\n                      : grey[500]\n                }}\n              >\n                <CardHeader\n                  avatar={\n                    <Avatar\n                      style={{\n                        backgroundColor:\n                          this.state.stageRegisters[index][0][1] === \"SAOK\" ||\n                          index == 4\n                            ? stageColor[index]\n                            : grey[500]\n                      }}\n                    >\n                      {name[0]}\n                    </Avatar>\n                  }\n                  title={name}\n                />\n              </CardActionArea>\n              <CardContent>\n                {this.state.stageRegisters[index].map((prop, index) => (\n                  <Typography component=\"p\">\n                    {prop[1] == \"\" ? \"\" : \"[\" + prop[0] + \"] \" + prop[1] + \" \"}{\" \"}\n                  </Typography>\n                ))}\n              </CardContent>\n            </Card>\n          </Grow>\n        </React.Fragment>\n      </div>\n    ));\n  }\n}\n\nclass CodeLayout extends React.Component {\n  render() {\n    const { classes } = this.props;\n    const parent = this.props.parent;\n    let code = this.props.code;\n    let stageRegisters = pipe.getStageRegisters();\n\n    //displace begin\n    return (\n      <div style={{ height: \"100%\" }}>\n        <Paper\n          style={{\n            padding: theme.spacing.unit * 2,\n            height: \"100%\",\n            overflow: \"auto\"\n          }}\n        >\n          {code.map((line, index) => {\n            let address;\n            if (line.length >= 5 && line[0] == \"0\" && line[1] == \"x\") {\n              let i = 2;\n              address = \"\";\n              while (line[i] == \"0\") {\n                i++;\n              }\n              while (line[i] != \":\") {\n                address += line[i++];\n              }\n              if (address.length == 0) address = \"0\";\n            }\n\n            return (\n              <div>\n                <Typography\n                  addr={address}\n                  //classes={addr}\n                  style={{\n                    //border: \"1px blue solid\",\n                    fontSize: 15\n                  }}\n                  onContextMenu={() => {}}\n                  onDoubleClick={event => {\n                    let nameMap = event.target.attributes;\n                    if (nameMap.addr == undefined) return;\n                    if (event.target.isbreakpoint) {\n                      event.target.isbreakpoint = false;\n                      //delete breakpoint\n                      pipe.deleteBreakpoint(nameMap.addr.value);\n                      breakPoints.delete(nameMap.addr.value);\n                      parent.toast(\n                        \"Delete breakpoint at: 0x\" + nameMap.addr.value\n                      );\n                      event.target.style.fontWeight = \"normal\";\n                    } else {\n                      event.target.isbreakpoint = true;\n                      //add in break point;\n                      pipe.addBreakpoint(nameMap.addr.value);\n                      breakPoints.add(nameMap.addr.value);\n                      parent.toast(\n                        \"Add breakpoint at: 0x\" + nameMap.addr.value\n                      );\n                      event.target.style.fontWeight = \"bold\";\n                    }\n                  }}\n                  onMouseEnter={event => {\n                    //console.log(\"mouse in\");\n                    //console.log(event.clientX);\n                    event.target.style.fontWeight = \"bold\";\n                  }}\n                  onMouseOut={event => {\n                    if (!event.target.isbreakpoint)\n                      event.target.style.fontWeight = \"normal\";\n                  }}\n                >\n                  {line}\n                </Typography>\n              </div>\n            );\n          })}\n          {\n            //}    </List>\n          }{\" \"}\n        </Paper>\n      </div>\n    );\n  }\n}\n\nclass StageRegistersLayout extends React.Component {\n  state = {\n    grow: [true, false, false, false, false, false],\n    stageRegisters: this.props.stageRegisters,\n    stageStuffs: this.props.stageStuffs,\n    onRefresh: false,\n    in: true,\n    anchorEl: null,\n    popText: \"\"\n  };\n\n  render() {\n    const delay = 10;\n    const timeout = 200;\n\n    const { classes } = this.props;\n    const stages = [\"Write-back\", \"Memory\", \"Execute\", \"Decode\", \"Fetch\"];\n    //console.log(\"render\");\n    const stageRegisters = this.props.stageRegisters;\n    const stageStuffs = this.props.stageStuffs;\n    const { anchorEl } = this.state;\n    //this.setState({refresh:this.props.refresh});\n    return (\n      <div style={{ height: \"100%\", width: \"100%\" }}>\n        <Paper style={{ height: \"100%\", overflow: \"auto\" }}>\n          <List className={classes.list}>\n            <ListSubheader className={classes.subHeader}>\n              Stage Registers\n            </ListSubheader>\n\n            <Popover\n              id=\"simple-popper\"\n              open={Boolean(anchorEl)}\n              anchorEl={anchorEl}\n              onClose={() => {\n                this.setState({\n                  anchorEl: null\n                });\n              }}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"center\"\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"center\"\n              }}\n            >\n              <Typography style={{ margin: theme.spacing.unit * 2 }}>\n                {this.state.popText}\n              </Typography>\n            </Popover>\n\n            {stages.map((name, index) => (\n              <React.Fragment>\n                <Grow\n                  in={\n                    index == 0 && !this.state.onRefresh\n                      ? this.props.hide\n                        ? false\n                        : this.props.in\n                      : this.state.grow[index]\n                  }\n                  timeout={timeout}\n                  onEnter={() => {\n                    //console.log(index+\" enter\");\n                    setTimeout(() => {\n                      let newGrow = this.state.grow;\n                      newGrow[index + 1] = true;\n                      this.setState({ grow: newGrow });\n                    }, delay);\n                  }}\n                  onEntered={() => {\n                    //console.log(index + \" entered \");\n                    //console.log(\" onrefresh\"+this.state.onRefresh);\n                    //console.log(\"props in \"+this.props.in);\n                    if (index == 4) {\n                      this.setState({ onRefresh: false });\n                      this.setState({ in: false });\n                    }\n                  }}\n                  onExit={() => {\n                    //console.log(index+\" exit\");\n                    if (index == 0) {\n                      let newGrow = this.state.grow;\n                      newGrow[0] = false;\n                      this.setState({ grow: newGrow });\n                      this.setState({ onRefresh: true });\n                    }\n                    setTimeout(() => {\n                      let newGrow = this.state.grow;\n                      newGrow[index + 1] = false;\n                      this.setState({ grow: newGrow });\n                    }, delay);\n                  }}\n                  onExited={() => {\n                    //console.log(index + \" exited\");\n                    //console.log(\"******set state\");\n                    if (index == 4) {\n                      let newGrow = this.state.grow;\n                      newGrow[0] = true;\n                      this.setState({ grow: newGrow });\n                      this.setState({\n                        stageRegisters: this.props.stageRegisters\n                      });\n                      //this.setState({ in: true });\n                    }\n                  }}\n                >\n                  <ListItem\n                    button\n                    onClick={event => {\n                      this.setState({\n                        popText: this.props.stageStuffs[index].map(\n                          (prop, index) =>\n                            prop[1] == \"\" || prop[1] == undefined\n                              ? \"\"\n                              : \"[\" + prop[0] + \"] \" + prop[1] + \" \"\n                        ),\n                        anchorEl: event.currentTarget\n                      });\n                    }}\n                  >\n                    <Avatar\n                      style={{\n                        backgroundColor:\n                          this.state.stageRegisters[index][0][1] === \"SAOK\" ||\n                          index == 4\n                            ? stageColor[index]\n                            : grey[500]\n                      }}\n                    >\n                      {\" \"}\n                      {name[0]}\n                    </Avatar>\n\n                    <ListItemText\n                      primary={this.state.stageRegisters[index].map(\n                        (prop, index) =>\n                          prop[1] == \"\"\n                            ? \"\"\n                            : \"[\" + prop[0] + \"] \" + prop[1] + \" \"\n                      )}\n                    />\n                  </ListItem>\n                </Grow>\n              </React.Fragment>\n            ))}\n          </List>\n        </Paper>\n      </div>\n    );\n  }\n}\n\nclass RegisterFileLayout extends React.Component {\n  regs = [\n    \"rax\",\n    \"rcx\",\n    \"rdx\",\n    \"rbx\",\n    \"rsp\",\n    \"rbp\",\n    \"rsi\",\n    \"rdi\",\n    \"r8\",\n    \"r9\",\n    \"r10\",\n    \"r11\",\n    \"r12\",\n    \"r13\",\n    \"r14\",\n    \"rnone\"\n  ];\n  render() {\n    const { classes } = this.props;\n    let r = pipe.getRegisterFile();\n    return (\n      <div style={{ width: \"100%\" }}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow className={classes.row}>\n              {this.regs.map(\n                (name, index) =>\n                  index < 8 && (\n                    <TableCell style={{ textAlign: \"center\", flexGrow: 1 }}>\n                      {name}\n                    </TableCell>\n                  )\n              )}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow className={classes.row}>\n              {r.map(\n                (val, index) =>\n                  index < 8 && (\n                    <TableCell style={{ textAlign: \"center\" }}>{val}</TableCell>\n                  )\n              )}\n            </TableRow>\n          </TableBody>\n          <TableHead>\n            <TableRow className={classes.row}>\n              {this.regs.map(\n                (name, index) =>\n                  index >= 8 && (\n                    <TableCell style={{ textAlign: \"center\" }}>\n                      {name}\n                    </TableCell>\n                  )\n              )}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow className={classes.row}>\n              {r.map(\n                (val, index) =>\n                  index >= 8 && (\n                    <TableCell style={{ textAlign: \"center\" }}>{val}</TableCell>\n                  )\n              )}\n            </TableRow>\n          </TableBody>\n        </Table>\n      </div>\n    );\n  }\n}\n\nclass MenuLayout extends React.Component {\n  state = {\n    settingExpanded: false,\n    openMemory: false,\n    openAbout: false,\n    memory: [],\n    speedMenuOpen: false,\n    anchorEl: null,\n    speedIndex: 0\n  };\n  Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n  }\n\n  render() {\n    const { anchorEl } = this.state;\n    return (\n      <div>\n        <List>\n          <ListItem>\n            <ListItemText primary=\"HELLO\" />\n          </ListItem>\n          <ListItem\n            button\n            onClick={() => {\n              this.setState({ settingExpanded: !this.state.settingExpanded });\n            }}\n          >\n            <ListItemIcon>\n              <SettingsIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Setting\" />\n          </ListItem>\n          <Collapse\n            in={this.state.settingExpanded}\n            timeout=\"auto\"\n            unmountOnExit\n          >\n            <List component=\"div\" disablePadding>\n              <ListItem\n                button\n                onClick={event => {\n                  this.setState({ anchorEl: event.currentTarget });\n                }}\n              >\n                <ListItemText inset primary=\"Speed\" />\n              </ListItem>\n            </List>\n            <Menu\n              id=\"speed-menu\"\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={() => {\n                //runTimeout = 1000/ speedOpt[this.state.speedIndex];\n                //console.log(\"runtimeout:\"+runTimeout);\n                this.setState({ anchorEl: null });\n              }}\n            >\n              {speedOpt.map((option, index) => (\n                <MenuItem\n                  key={option}\n                  selected={index === this.state.speedIndex}\n                  onClick={event => {\n                    runTimeout = 1000 / speedOpt[index];\n                    console.log(\"runtimeout:\" + runTimeout);\n                    this.setState({ speedIndex: index, anchorEl: null });\n                  }}\n                >\n                  {speedOpt[index]}\n                </MenuItem>\n              ))}\n            </Menu>\n          </Collapse>\n\n          <ListItem\n            button\n            onClick={() => {\n              //show stack\n              this.setState({\n                openMemory: true,\n                memory: pipe.getMemory()\n              });\n            }}\n          >\n            <ListItemIcon>\n              <ReorderIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Memory\" />\n          </ListItem>\n        </List>\n        <Divider />\n        <List>\n          <ListItem\n            button\n            key=\"About\"\n            onClick={() => {\n              this.setState({\n                openAbout: true\n              });\n            }}\n          >\n            <ListItemIcon>\n              <InfoIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"About\" />\n          </ListItem>\n        </List>\n\n        <Dialog\n          open={this.state.openMemory}\n          onClose={() => {\n            this.setState({ openMemory: false });\n          }}\n          scroll=\"paper\"\n          keepMounted\n          TransitionComponent={this.Transition}\n        >\n          <DialogTitle>Memory</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              {this.state.memory.map((pair, index) => {\n                return (\n                  <Typography>{\"0x\" + pair[0] + \": \" + pair[1]}</Typography>\n                );\n              })}\n            </DialogContentText>\n          </DialogContent>\n        </Dialog>\n        <Dialog\n          open={this.state.openAbout}\n          onClose={() => {\n            this.setState({ openAbout: false });\n          }}\n          scroll=\"paper\"\n          keepMounted\n          TransitionComponent={this.Transition}\n        >\n          <DialogTitle>About</DialogTitle>\n          <DialogContent>\n            <DialogContentText>{aboutText}</DialogContentText>\n          </DialogContent>\n          <DialogActions />\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nclass MainLayout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleUpload = this.handleUpload.bind(this);\n    this.state = {\n      colorDeg: 45,\n      colorL: 350,\n      colorR: 25,\n      code: [\"Please upload a .yo file\"],\n      textHeight: \"100%\",\n      cardsHide: false,\n      cardsHalt: false,\n      fabIn: true,\n      onFabTransit: false,\n      fabTooltipOpen: false,\n      run: false,\n      drawerOpen: false,\n      onStageAnimation: false,\n      stageIn: true,\n      refreshStage: false,\n      messageQueue: [],\n      snackbarOpen: false,\n      anchorEl: null,\n      stageRegisters: pipe.getStageRegisters(),\n      stageStuffs: pipe.getStageStuffs(),\n      registerFile: pipe.getRegisterFile()\n    };\n    this.textFieldDiv = React.createRef();\n  }\n  toast(msg) {\n    let msgQueue = this.state.messageQueue;\n    msgQueue.push(msg);\n    this.setState({\n      messageQueue: msgQueue,\n      snackbarOpen: !this.state.snackbarOpen\n    });\n  }\n\n  handleUpload(event) {\n    //console.log(event);\n    let fileReader = new FileReader();\n    let str;\n    let t = this;\n    fileReader.onload = function(event) {\n      //console.log(\"fileReader onload: \" + event);\n      //alert(\"onload\");\n      str = event.target.result;\n      pipe.init();\n      pipe.setCode(str);\n      //console.log(\"init get:\");\n      //console.log(pipe.getStageRegisters);\n      //pipe.stepi(1);\n\n      t.setState({ stageRegisters: pipe.getStageRegisters() });\n      t.setState({ stageRegisters: pipe.getRegisterFile() });\n\n      t.setState({ stageRegisters: pipe.getStageRegisters() });\n      t.setState({ registerFile: pipe.getRegisterFile() });\n      t.setState({ stageIn: false });\n      setTimeout(() => {\n        t.setState({ stageIn: true });\n      }, 10);\n\n      let codeLines = [];\n      let line = \"\";\n      let i = 0;\n      while (i < str.length) {\n        if (str[i] != \"\\n\") {\n          if (str[i] == \" \") line += \"\\xa0\";\n          else line += str[i];\n        } else {\n          codeLines.push(line);\n          line = \"\";\n        }\n        i++;\n      }\n      t.setState({ code: codeLines });\n      //alert(pipe.Memory);\n    };\n    if (event.target.files.length) fileReader.readAsText(event.target.files[0]);\n  }\n  componentDidMount() {\n    // this.setState({ textHeight: this.textFieldDiv.clientHeight });\n    let t = this;\n    setTimeout(function f() {\n      t.setState({\n        colorL: t.state.colorL + colorDel,\n        colorR: t.state.colorR + colorDel\n      });\n      setTimeout(f, 20);\n    }, 20);\n  }\n\n  refreshStageRegisters(flag = 1) {\n    this.setState({ stageRegisters: pipe.getStageRegisters() });\n    this.setState({ registerFile: pipe.getRegisterFile() });\n    this.setState({\n      stageStuffs: pipe.getStageStuffs()\n    });\n    if (flag) {\n      this.setState({ stageIn: false });\n      setTimeout(() => {\n        this.setState({ stageIn: true });\n      }, 100);\n    }\n  }\n\n  /* run til breakpoint */\n  runPipe() {\n    let t = this;\n    let temp = colorDel;\n    colorDel = 10;\n    //t.setState({run:true});\n    setTimeout(function func() {\n      let stat = t.stepPipe(1, 0);\n      let PC = pipe.getPC();\n      if (!t.state.run || stat || breakPoints.has(PC)) {\n        t.toast(\"Stop at: 0x\" + PC);\n        if (t.state.run) {\n          t.setState({\n            fabIn: false\n          });\n        }\n        colorDel = temp;\n        t.refreshStageRegisters();\n        return;\n      }\n\n      setTimeout(func, runTimeout);\n    }, runTimeout);\n  }\n\n  stepPipe(i, flag = 1) {\n    let rtn = pipe.stepi(i);\n    switch (rtn) {\n      case 2:\n        this.toast(\"Address Error!\");\n        return rtn;\n      case 3:\n        this.toast(\"Instruction Invalid!\");\n        return rtn;\n      case 4:\n        this.toast(\"Halt!\");\n        return rtn;\n    }\n    this.refreshStageRegisters(flag);\n    return rtn;\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { anchorEl } = this.state;\n\n    const drawerList = (\n      <div className={classes.list}>\n        <List>\n          <ListItem>\n            <ListItemText primary=\"HELLO\" />\n          </ListItem>\n          <ListItem button>\n            <ListItemText primary=\"Setting\" />\n          </ListItem>\n          <Collapse in={this.state.expanded} timeout=\"auto\" unmountOnExit>\n            <ListItem>\n              <ListItemText primary=\"Speed\" onClick={e => {}} />\n            </ListItem>\n            <ListItem>\n              <ListItemText primary=\"Speed\" onClick={e => {}} />\n            </ListItem>\n          </Collapse>\n\n          <ListItem>\n            <ListItemText primary=\"\" />\n          </ListItem>\n        </List>\n        <Divider />\n        <List>\n          <ListItem button key=\"About\">\n            <ListItemIcon>\n              <InfoIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"About\" />\n          </ListItem>\n        </List>\n      </div>\n    );\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <MuiThemeProvider theme={theme}>\n          <Drawer\n            open={this.state.drawerOpen}\n            onClose={() => {\n              this.setState({ drawerOpen: false });\n            }}\n          >\n            <MenuLayout />\n            <div\n              tabIndex={0}\n              role=\"button\"\n              onClick={() => {\n                this.setState({ drawerOpen: false });\n              }}\n              onKeyDown={() => {\n                this.setState({ drawerOpen: false });\n              }}\n            />\n          </Drawer>\n          <AppBar\n            position=\"fixed\"\n            className={classes.appBar}\n            style={{\n              display: \"flex\",\n              alignContent: \"center\",\n              background:\n                \"linear-gradient(\" +\n                this.state.colorDeg +\n                \"deg, hsl(\" +\n                this.state.colorL +\n                \",50%,60%) 30%, hsl(\" +\n                this.state.colorR +\n                \",50%,60%)  90%)\"\n            }}\n          >\n            <Toolbar style={{ height: \"100%\" }}>\n              <IconButton\n                color=\"inherit\"\n                aria-label=\"Open drawer\"\n                onClick={() => {\n                  this.setState({ drawerOpen: true });\n                }}\n              >\n                <MenuIcon />\n              </IconButton>\n              <Tooltip title=\"Upload\" enterDelay={1000} leaveDelay={200}>\n                <IconButton\n                  color=\"inherit\"\n                  onClick={() => this.fileUpload.click()}\n                >\n                  <AddIcon />\n                </IconButton>\n              </Tooltip>\n              <input\n                type=\"file\"\n                accept=\".yo\"\n                ref={ref => (this.fileUpload = ref)}\n                style={{ visibility: \"hidden\" }}\n                onInput={this.handleUpload}\n              />\n\n              <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                noWrap\n                style={{ position: \"absolute\", right: 30 }}\n              >\n                {appBarTitle}\n              </Typography>\n            </Toolbar>\n          </AppBar>\n          {\n            //}toast\n          }\n\n          <Snackbar\n            key={0}\n            anchorOrigin={{\n              vertical: \"bottom\",\n              horizontal: \"left\"\n            }}\n            open={this.state.snackbarOpen}\n            autoHideDuration={1000}\n            onClose={() => {\n              this.setState({\n                snackbarOpen: false\n              });\n            }}\n            onExited={() => {\n              let msg = this.state.messageQueue;\n              msg.shift();\n              if (msg.length > 0) {\n                this.setState({\n                  messageQueue: msg,\n                  snackbarOpen: true\n                });\n              }\n            }}\n            ContentProps={{\n              \"aria-describedby\": \"message-id\"\n            }}\n            message={<span id=\"message-id\">{this.state.messageQueue[0]}</span>}\n          />\n\n          <main className={classes.content}>\n            <div>\n              <StageCards\n                stageRegisters={this.state.stageRegisters}\n                classes={classes}\n                hide={!this.state.run}\n              />\n            </div>\n            <div\n              style={{\n                width: \"100%\",\n                height: window.innerHeight - theme.spacing.unit * 20,\n\n                display: \"flex\",\n                alignItems: \"stretch\",\n                marginBottom: theme.spacing.unit * 3\n              }}\n            >\n              <div\n                style={{\n                  //flex: 1,\n                  //flexBasis:10000,\n                  marginRight: theme.spacing.unit * 3,\n                  width: \"60%\"\n                }}\n              >\n                <CodeLayout\n                  classes={classes}\n                  code={this.state.code}\n                  parent={this}\n                />\n              </div>\n\n              <div\n                style={{\n                  //flex:1,\n                  width: \"40%\"\n                }}\n              >\n                <StageRegistersLayout\n                  stageRegisters={this.state.stageRegisters}\n                  stageStuffs={this.state.stageStuffs}\n                  classes={classes}\n                  in={this.state.stageIn}\n                />\n              </div>\n            </div>\n            <div style={{ marginBottom: theme.spacing.unit * 3 }}>\n              <ExpansionPanel defaultExpanded={false} onMouseEnter={e => {}}>\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                  <Typography>RegisterFile</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails className={classes.details}>\n                  {\n                    //mention! add width:100% if wrapped by other labels }\n                  }\n                  <RegisterFileLayout classes={classes} />\n                </ExpansionPanelDetails>\n              </ExpansionPanel>\n            </div>\n          </main>\n          <div\n            style={{\n              zIndex: 1,\n              position: \"fixed\",\n              bottom: 0,\n              right: 0\n            }}\n          >\n            <TriTooltip title=\"Double Click to Run\">\n              <Zoom\n                in={this.state.fabIn}\n                onEntered={() => {\n                  this.setState({\n                    onFabTransit: false\n                  });\n                  if (this.state.run) {\n                    this.runPipe();\n                  }\n                }}\n                onExit={() => {\n                  this.setState({\n                    onFabTransit: true\n                  });\n                }}\n                onExited={() => {\n                  this.setState({\n                    fabIn: true,\n                    run: !this.state.run\n                  });\n                }}\n              >\n                <Fab\n                  color=\"secondary\"\n                  style={{ margin: theme.spacing.unit * 3 }}\n                >\n                  {this.state.run ? (\n                    <PauseIcon\n                      onClick={() => {\n                        //this.toast(\"stepi\");\n                        this.setState({\n                          fabIn: false\n                        });\n                        //this.refreshStageRegisters();\n                      }}\n                    />\n                  ) : (\n                    <ChevronRightIcon\n                      onClick={() => {\n                        //this.toast(\"stepi\");\n                        this.stepPipe(1);\n                      }}\n                      onDoubleClick={() => {\n                        if (this.state.onFabTransit) {\n                          return;\n                        }\n                        this.toast(\"Run\");\n                        this.setState({\n                          fabIn: false\n                        });\n                      }}\n                    />\n                  )}\n                </Fab>\n              </Zoom>\n            </TriTooltip>\n          </div>\n        </MuiThemeProvider>\n      </div>\n    );\n  }\n}\nclass TriTooltip extends React.Component {\n  state = {\n    open: false,\n    cnt: 3\n  };\n  render() {\n    const props = this.props;\n    return (\n      <Tooltip\n        title={this.props.title}\n        enterDelay={500}\n        leaveDelay={200}\n        onOpen={() => {\n          if (!this.state.cnt) return;\n          this.setState({ cnt: this.state.cnt - 1 });\n          this.setState({ open: true });\n        }}\n        onClose={() => {\n          this.setState({ open: false });\n        }}\n        open={this.state.open}\n        enterDelay={500}\n        leaveDelay={200}\n      >\n        {props.children}\n      </Tooltip>\n    );\n  }\n}\n\nMainLayout.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(MainLayout);\n"]},"metadata":{},"sourceType":"module"}