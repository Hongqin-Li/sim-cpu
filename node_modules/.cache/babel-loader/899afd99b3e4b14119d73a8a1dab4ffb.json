{"ast":null,"code":"import _defineProperty from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _assertThisInitialized from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _classCallCheck from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/lhq/Workspace/sim-cpu/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/home/lhq/Workspace/sim-cpu/src/layout.js\";\nimport React, { Fragment } from \"react\";\nimport Draggable from \"react-draggable\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Slide from \"@material-ui/core/Slide\";\nimport red from \"@material-ui/core/colors/red\";\nimport blue from \"@material-ui/core/colors/blue\";\nimport green from \"@material-ui/core/colors/green\";\nimport brown from \"@material-ui/core/colors/brown\";\nimport yellow from \"@material-ui/core/colors/yellow\";\nimport orange from \"@material-ui/core/colors/orange\";\nimport deepOrange from \"@material-ui/core/colors/deepOrange\";\nimport purple from \"@material-ui/core/colors/purple\";\nimport grey from \"@material-ui/core/colors/grey\";\nimport PropTypes from \"prop-types\";\nimport { MuiThemeProvider, createMuiTheme, withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport ReorderIcon from \"@material-ui/icons/Reorder\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport PauseIcon from \"@material-ui/icons/Pause\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputBase from \"@material-ui/core/InputBase\";\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Snackbar from \"@material-ui/core/Snackbar\";\nimport { Pipe } from \"./pipe.js\";\nvar appBarTitle = \"COLORFUL CPU\";\nvar stats = [\"\", \"SAOK\", \"SADR\", \"SINS\", \"SHLT\", \"SBUB\"];\nvar aboutText = \"A Pipe-line Y86-64 CPU Simulator using React and Matreial-ui by Leehq\";\nvar stageColor = [red[500], purple[500], orange[500], green[500], blue[500]];\nvar stageRefreshTimeout = 500;\nvar runTimeout = 1000;\nvar speedOpt = [1, 5, 10, 20];\nvar colorDel = 1;\nvar pipe = new Pipe();\npipe.init();\nvar breakPoints = new Set();\nvar appBarHeight = 70;\nvar theme = createMuiTheme({\n  palette: {\n    primary: brown,\n    //secondary: ,\n    background: {\n      default: grey[200]\n    }\n  },\n  typography: {\n    useNextVariants: true,\n    fontSize: 13,\n    fontFamily: [\"Consolas\", \"Courier New\", '\"Microsoft Yahei\"', \"-apple-system\", \"BlinkMacSystemFont\", '\"Segoe UI\"', \"Roboto\", '\"Helvetica Neue\"', \"Arial\", \"sans-serif\", '\"Apple Color Emoji\"', '\"Segoe UI Emoji\"', '\"Segoe UI Symbol\"'].join(\",\")\n  }\n});\nconsole.log(theme);\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      display: \"flex\",\n      width: \"100%\",\n      height: \"100%\",\n      backgroundColor: grey[200]\n    },\n    appBar: {\n      height: appBarHeight\n    },\n    toolbar: {\n      alignItems: \"center\",\n      justifyContent: \"space-between\"\n    },\n    drawer: {\n      width: 240,\n      flexShrink: 0\n    },\n    content: {\n      height: \"100%\",\n      width: \"100%\",\n      backgroundColor: grey[200],\n      paddingTop: appBarHeight + theme.spacing.unit * 3,\n      padding: theme.spacing.unit * 3\n    },\n    table: {\n      width: \"100%\"\n    },\n    row: {},\n    paper: {\n      overflow: \"auto\",\n      padding: 10,\n      height: \"100%\",\n      width: \"100%\"\n    },\n    details: {\n      //justifyItems: \"center\",\n      width: \"100%\",\n      overflowX: \"auto\"\n    },\n    textField: {\n      width: \"100%\",\n      rows: 10,\n      rowsMax: 10\n    },\n    panel: {\n      paddingLeft: 10,\n      overflowX: \"auto\",\n      width: \"100%\" //height: \"100%\"\n\n    },\n    subHeader: {\n      //backgroundColor:\n      backgroundColor: theme.palette.background.paper\n    },\n    text: {\n      paddingTop: theme.spacing.unit * 2,\n      paddingLeft: theme.spacing.unit * 2,\n      paddingRight: theme.spacing.unit * 2\n    }\n  };\n};\n\nvar StageCards =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(StageCards, _React$Component);\n\n  function StageCards() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, StageCards);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(StageCards)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      grow: [true, false, false, false, false, false],\n      stageRegisters: _this.props.stageRegisters,\n      onRefresh: false,\n      in: true,\n      x: 0,\n      y: 0,\n      position: [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],\n      ref: [undefined, undefined, undefined, undefined, undefined]\n    };\n    return _this;\n  }\n\n  _createClass(StageCards, [{\n    key: \"changePosition\",\n    value: function changePosition(index) {\n      var rect = this.ref[index].getBoundingClientRect();\n      var randX = Math.random();\n      var randY = Math.random();\n      var x = (window.innerWidth / 5 - rect.width / 2) * randX + (window.innerWidth * 4 / 5 - rect.width / 2) * (1 - randX);\n      var y = (window.innerHeight / 3 - rect.height / 2) * randY + (window.innerHeight * 2 / 3 - rect.height / 2) * (1 - randY);\n      var newPos = this.state.position;\n      newPos[index][0] = x;\n      newPos[index][1] = y;\n      this.setState({\n        position: newPos\n      });\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      for (var i = 0; i < 5; i++) {\n        this.changePosition(i);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var time = runTimeout / 10;\n      var timeout = time > 200 ? time : 200;\n      var delay = timeout >> 2;\n\n      if (this.ref == undefined) {\n        this.ref = [];\n        this.ref.length = 5;\n      }\n\n      var classes = this.props.classes;\n      var stages = [\"Write-back\", \"Memory\", \"Execute\", \"Decode\", \"Fetch\"]; //console.log(\"render\");\n\n      var stageRegisters = this.props.stageRegisters; //this.setState({refresh:this.props.refresh});\n\n      return stages.map(function (name, index) {\n        return React.createElement(\"div\", {\n          style: {\n            position: \"absolute\",\n            zIndex: 10,\n            left: _this2.state.position[index][0],\n            top: _this2.state.position[index][1]\n          },\n          ref: function ref(_ref) {\n            _this2.ref[index] = _ref;\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 256\n          },\n          __self: this\n        }, React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 267\n          },\n          __self: this\n        }, React.createElement(Grow, {\n          unmountOnExit: true //mountOnEnter\n          ,\n          in: index == 0 && !_this2.state.onRefresh ? !_this2.props.hide : _this2.state.grow[index],\n          timeout: timeout,\n          onEnter: function onEnter() {\n            //console.log(index+\" enter\");\n            if (index == 0) _this2.setState({\n              onRefresh: true\n            });\n            setTimeout(function () {\n              var newGrow = _this2.state.grow;\n              newGrow[index + 1] = true;\n\n              _this2.setState({\n                grow: newGrow\n              });\n            }, delay);\n          },\n          onEntered: function onEntered() {\n            if (index == 4) {\n              var newGrow = _this2.state.grow;\n              newGrow[0] = false;\n\n              _this2.setState({\n                grow: newGrow\n              });\n            }\n          },\n          onExit: function onExit() {\n            //console.log(index+\" exit\");\n            if (index == 0) {\n              _this2.setState({\n                onRefresh: true\n              });\n            }\n\n            setTimeout(function () {\n              var newGrow = _this2.state.grow;\n              newGrow[index + 1] = false;\n\n              _this2.setState({\n                grow: newGrow\n              });\n            }, delay);\n          },\n          onExited: function onExited() {\n            //console.log(index + \" exited\");\n            //console.log(\"******set state\");\n            _this2.changePosition(index);\n\n            if (index == 4) {\n              _this2.setState({\n                onRefresh: false,\n                stageRegisters: _this2.props.stageRegisters\n              });\n\n              if (_this2.props.hide) return;\n              var newGrow = _this2.state.grow;\n              newGrow[0] = true;\n\n              _this2.setState({\n                grow: newGrow\n              }); //this.setState({ in: true });\n\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 268\n          },\n          __self: this\n        }, React.createElement(Card, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 322\n          },\n          __self: this\n        }, React.createElement(CardActionArea, {\n          style: {\n            backgroundColor: _this2.state.stageRegisters[index][0][1] === \"SAOK\" || index == 4 ? stageColor[index] : grey[500]\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 323\n          },\n          __self: this\n        }, React.createElement(CardHeader, {\n          avatar: React.createElement(Avatar, {\n            style: {\n              backgroundColor: _this2.state.stageRegisters[index][0][1] === \"SAOK\" || index == 4 ? stageColor[index] : grey[500]\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 334\n            },\n            __self: this\n          }, name[0]),\n          title: name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 332\n          },\n          __self: this\n        })), React.createElement(CardContent, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 349\n          },\n          __self: this\n        }, _this2.state.stageRegisters[index].map(function (prop, index) {\n          return React.createElement(Typography, {\n            component: \"p\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 351\n            },\n            __self: this\n          }, prop[1] == \"\" ? \"\" : \"[\" + prop[0] + \"] \" + prop[1] + \" \", \" \");\n        }))))));\n      });\n    }\n  }]);\n\n  return StageCards;\n}(React.Component);\n\nvar CodeLayout =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(CodeLayout, _React$Component2);\n\n  function CodeLayout() {\n    _classCallCheck(this, CodeLayout);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(CodeLayout).apply(this, arguments));\n  }\n\n  _createClass(CodeLayout, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var parent = this.props.parent;\n      var code = this.props.code;\n      var stageRegisters = pipe.getStageRegisters(); //displace begin\n\n      return React.createElement(\"div\", {\n        style: {\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 373\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        style: {\n          padding: theme.spacing.unit * 2,\n          height: \"100%\",\n          overflow: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 374\n        },\n        __self: this\n      }, code.map(function (line, index) {\n        var address;\n\n        if (line.length >= 5 && line[0] == \"0\" && line[1] == \"x\") {\n          var i = 2;\n          address = \"\";\n\n          while (line[i] == \"0\") {\n            i++;\n          }\n\n          while (line[i] != \":\") {\n            address += line[i++];\n          }\n\n          if (address.length == 0) address = \"0\";\n        }\n\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 396\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          addr: address //classes={addr}\n          ,\n          style: {\n            fontSize: 15\n          },\n          onContextMenu: function onContextMenu() {},\n          onDoubleClick: function onDoubleClick(event) {\n            var nameMap = event.target.attributes;\n            if (nameMap.addr == undefined) return;\n\n            if (event.target.isbreakpoint) {\n              event.target.isbreakpoint = false; //delete breakpoint\n\n              pipe.deleteBreakpoint(nameMap.addr.value);\n              breakPoints.delete(nameMap.addr.value);\n              parent.toast(\"Delete breakpoint at: 0x\" + nameMap.addr.value);\n              event.target.style.fontWeight = \"normal\";\n            } else {\n              event.target.isbreakpoint = true; //add in break point;\n\n              pipe.addBreakpoint(nameMap.addr.value);\n              breakPoints.add(nameMap.addr.value);\n              parent.toast(\"Add breakpoint at: 0x\" + nameMap.addr.value);\n              event.target.style.fontWeight = \"bold\";\n            }\n          },\n          onMouseEnter: function onMouseEnter(event) {\n            //console.log(\"mouse in\");\n            //console.log(event.clientX);\n            event.target.style.fontWeight = \"bold\";\n          },\n          onMouseOut: function onMouseOut(event) {\n            if (!event.target.isbreakpoint) event.target.style.fontWeight = \"normal\";\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 397\n          },\n          __self: this\n        }, line));\n      }), \" \"));\n    }\n  }]);\n\n  return CodeLayout;\n}(React.Component);\n\nvar StageRegistersLayout =\n/*#__PURE__*/\nfunction (_React$Component3) {\n  _inherits(StageRegistersLayout, _React$Component3);\n\n  function StageRegistersLayout() {\n    var _getPrototypeOf3;\n\n    var _this3;\n\n    _classCallCheck(this, StageRegistersLayout);\n\n    for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n      args[_key2] = arguments[_key2];\n    }\n\n    _this3 = _possibleConstructorReturn(this, (_getPrototypeOf3 = _getPrototypeOf(StageRegistersLayout)).call.apply(_getPrototypeOf3, [this].concat(args)));\n    _this3.state = {\n      grow: [true, false, false, false, false, false],\n      stageRegisters: _this3.props.stageRegisters,\n      stageStuffs: _this3.props.stageStuffs,\n      onRefresh: false,\n      in: true,\n      anchorEl: null,\n      popText: \"\"\n    };\n    return _this3;\n  }\n\n  _createClass(StageRegistersLayout, [{\n    key: \"render\",\n    value: function render() {\n      var _this4 = this;\n\n      var delay = 10;\n      var timeout = 200;\n      var classes = this.props.classes;\n      var stages = [\"Write-back\", \"Memory\", \"Execute\", \"Decode\", \"Fetch\"]; //console.log(\"render\");\n\n      var stageRegisters = this.props.stageRegisters;\n      var stageStuffs = this.props.stageStuffs;\n      var anchorEl = this.state.anchorEl; //this.setState({refresh:this.props.refresh});\n\n      return React.createElement(\"div\", {\n        style: {\n          height: \"100%\",\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 474\n        },\n        __self: this\n      }, React.createElement(Paper, {\n        style: {\n          height: \"100%\",\n          overflow: \"auto\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 475\n        },\n        __self: this\n      }, React.createElement(List, {\n        className: classes.list,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 476\n        },\n        __self: this\n      }, React.createElement(ListSubheader, {\n        className: classes.subHeader,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 477\n        },\n        __self: this\n      }, \"Stage Registers\"), React.createElement(Popover, {\n        id: \"simple-popper\",\n        open: Boolean(anchorEl),\n        anchorEl: anchorEl,\n        onClose: function onClose() {\n          _this4.setState({\n            anchorEl: null\n          });\n        },\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"center\"\n        },\n        transformOrigin: {\n          vertical: \"top\",\n          horizontal: \"center\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 481\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        style: {\n          margin: theme.spacing.unit * 2\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 499\n        },\n        __self: this\n      }, this.state.popText)), stages.map(function (name, index) {\n        return React.createElement(React.Fragment, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 505\n          },\n          __self: this\n        }, React.createElement(Grow, {\n          in: index == 0 && !_this4.state.onRefresh ? _this4.props.hide ? false : _this4.props.in : _this4.state.grow[index],\n          timeout: timeout,\n          onEnter: function onEnter() {\n            //console.log(index+\" enter\");\n            setTimeout(function () {\n              var newGrow = _this4.state.grow;\n              newGrow[index + 1] = true;\n\n              _this4.setState({\n                grow: newGrow\n              });\n            }, delay);\n          },\n          onEntered: function onEntered() {\n            //console.log(index + \" entered \");\n            //console.log(\" onrefresh\"+this.state.onRefresh);\n            //console.log(\"props in \"+this.props.in);\n            if (index == 4) {\n              _this4.setState({\n                onRefresh: false\n              });\n\n              _this4.setState({\n                in: false\n              });\n            }\n          },\n          onExit: function onExit() {\n            //console.log(index+\" exit\");\n            if (index == 0) {\n              var newGrow = _this4.state.grow;\n              newGrow[0] = false;\n\n              _this4.setState({\n                grow: newGrow\n              });\n\n              _this4.setState({\n                onRefresh: true\n              });\n            }\n\n            setTimeout(function () {\n              var newGrow = _this4.state.grow;\n              newGrow[index + 1] = false;\n\n              _this4.setState({\n                grow: newGrow\n              });\n            }, delay);\n          },\n          onExited: function onExited() {\n            //console.log(index + \" exited\");\n            //console.log(\"******set state\");\n            if (index == 4) {\n              var newGrow = _this4.state.grow;\n              newGrow[0] = true;\n\n              _this4.setState({\n                grow: newGrow\n              });\n\n              _this4.setState({\n                stageRegisters: _this4.props.stageRegisters\n              }); //this.setState({ in: true });\n\n            }\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 506\n          },\n          __self: this\n        }, React.createElement(ListItem, {\n          button: true,\n          onClick: function onClick(event) {\n            _this4.setState({\n              popText: _this4.props.stageStuffs[index].map(function (prop, index) {\n                return prop[1] == \"\" || prop[1] == undefined ? \"\" : \"[\" + prop[0] + \"] \" + prop[1] + \" \";\n              }),\n              anchorEl: event.currentTarget\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 560\n          },\n          __self: this\n        }, React.createElement(Avatar, {\n          style: {\n            backgroundColor: _this4.state.stageRegisters[index][0][1] === \"SAOK\" || index == 4 ? stageColor[index] : grey[500]\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 574\n          },\n          __self: this\n        }, \" \", name[0]), React.createElement(ListItemText, {\n          primary: _this4.state.stageRegisters[index].map(function (prop, index) {\n            return prop[1] == \"\" ? \"\" : \"[\" + prop[0] + \"] \" + prop[1] + \" \";\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 587\n          },\n          __self: this\n        }))));\n      }))));\n    }\n  }]);\n\n  return StageRegistersLayout;\n}(React.Component);\n\nvar RegisterFileLayout =\n/*#__PURE__*/\nfunction (_React$Component4) {\n  _inherits(RegisterFileLayout, _React$Component4);\n\n  function RegisterFileLayout() {\n    var _getPrototypeOf4;\n\n    var _this5;\n\n    _classCallCheck(this, RegisterFileLayout);\n\n    for (var _len3 = arguments.length, args = new Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n      args[_key3] = arguments[_key3];\n    }\n\n    _this5 = _possibleConstructorReturn(this, (_getPrototypeOf4 = _getPrototypeOf(RegisterFileLayout)).call.apply(_getPrototypeOf4, [this].concat(args)));\n    _this5.regs = [\"rax\", \"rcx\", \"rdx\", \"rbx\", \"rsp\", \"rbp\", \"rsi\", \"rdi\", \"r8\", \"r9\", \"r10\", \"r11\", \"r12\", \"r13\", \"r14\", \"rnone\"];\n    return _this5;\n  }\n\n  _createClass(RegisterFileLayout, [{\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      var r = pipe.getRegisterFile();\n      return React.createElement(\"div\", {\n        style: {\n          width: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 629\n        },\n        __self: this\n      }, React.createElement(Table, {\n        className: classes.table,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 630\n        },\n        __self: this\n      }, React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 631\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        className: classes.row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 632\n        },\n        __self: this\n      }, this.regs.map(function (name, index) {\n        return index < 8 && React.createElement(TableCell, {\n          style: {\n            textAlign: \"center\",\n            flexGrow: 1\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 636\n          },\n          __self: this\n        }, name);\n      }))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 643\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        className: classes.row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 644\n        },\n        __self: this\n      }, r.map(function (val, index) {\n        return index < 8 && React.createElement(TableCell, {\n          style: {\n            textAlign: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 648\n          },\n          __self: this\n        }, val);\n      }))), React.createElement(TableHead, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 653\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        className: classes.row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 654\n        },\n        __self: this\n      }, this.regs.map(function (name, index) {\n        return index >= 8 && React.createElement(TableCell, {\n          style: {\n            textAlign: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 658\n          },\n          __self: this\n        }, name);\n      }))), React.createElement(TableBody, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 665\n        },\n        __self: this\n      }, React.createElement(TableRow, {\n        className: classes.row,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 666\n        },\n        __self: this\n      }, r.map(function (val, index) {\n        return index >= 8 && React.createElement(TableCell, {\n          style: {\n            textAlign: \"center\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 670\n          },\n          __self: this\n        }, val);\n      })))));\n    }\n  }]);\n\n  return RegisterFileLayout;\n}(React.Component);\n\nvar CacheLayout =\n/*#__PURE__*/\nfunction (_React$Component5) {\n  _inherits(CacheLayout, _React$Component5);\n\n  function CacheLayout() {\n    var _getPrototypeOf5;\n\n    var _this6;\n\n    _classCallCheck(this, CacheLayout);\n\n    for (var _len4 = arguments.length, args = new Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      args[_key4] = arguments[_key4];\n    }\n\n    _this6 = _possibleConstructorReturn(this, (_getPrototypeOf5 = _getPrototypeOf(CacheLayout)).call.apply(_getPrototypeOf5, [this].concat(args)));\n    _this6.state = {\n      cache: _this6.props.cache,\n      open: undefined,\n      expanded: [false]\n    };\n    return _this6;\n  }\n\n  _createClass(CacheLayout, [{\n    key: \"init\",\n    value: function init(ini) {\n      console.log(\"init\");\n      var a = [];\n      var cache = this.props.cache;\n      a.length = cache.length;\n\n      for (var i = 0; i < cache.length; i++) {\n        a[i] = [];\n        a[i].length = cache[i].set.length;\n\n        for (var j = 0; j < cache[i].set.length; j++) {\n          a[i][j] = [];\n          a[i][j].length = cache[i].set[j].length;\n\n          for (var k = 0; k < cache[i].set[j].length; k++) {\n            a[i][j][k] = ini;\n          }\n        }\n      }\n\n      console.log(a);\n      return a;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this7 = this;\n\n      var h = window.innerHeight;\n      var w = window.innerWidth; //const cache = pipe.getCache();\n\n      var cache = this.props.cache;\n      var open = this.state.open;\n      var t = this;\n      return cache.map(function (cac, index) {\n        return React.createElement(Draggable, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 719\n          },\n          __self: this\n        }, React.createElement(ExpansionPanel, {\n          expanded: _this7.state.expanded[index] == undefined ? false : _this7.state.expanded[index],\n          style: {\n            position: \"absolute\",\n            top: h / 3 * 1 + theme.spacing.unit * 3 * index,\n            left: w / 3 * 1 + theme.spacing.unit * 10 * index\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 720\n          },\n          __self: this\n        }, React.createElement(ExpansionPanelSummary, {\n          expandIcon: React.createElement(ExpandMoreIcon, {\n            onClick: function onClick(e) {\n              var exp = _this7.state.expanded;\n\n              if (index >= exp.length) {\n                exp.length = index;\n                exp[index] = false;\n              }\n\n              exp[index] = !exp[index];\n\n              _this7.setState({\n                expanded: exp\n              }); //console.log(\"click more icon\");\n\n            },\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 734\n            },\n            __self: this\n          }),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 732\n          },\n          __self: this\n        }, React.createElement(Typography, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 748\n          },\n          __self: this\n        }, \"L\", index + 1, \" Cache\")), React.createElement(ExpansionPanelDetails, {\n          style: {\n            padding: 0\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 751\n          },\n          __self: this\n        }, React.createElement(List, {\n          dense: true,\n          style: {\n            maxHeight: h / 2,\n            overflow: \"auto\",\n            padding: 0\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 752\n          },\n          __self: this\n        }, !cac ? null : cac.set.map(function (set, si) {\n          return !set ? null : set.map(function (line, li) {\n            if (!line) return null;\n            if (!line.valid) return null;\n            var addrBegin = (line.tag << cac.s + cac.b) + (si << cac.b);\n            var addrEnd = (line.tag << cac.s + cac.b) + (si + 1 << cac.b) - 1;\n            var value = pipe.getValueFromMemory(addrBegin, addrEnd - addrBegin + 1);\n            return React.createElement(Grow, {\n              in: _this7.props.in == undefined ? true : _this7.props.in[index] == undefined ? true : _this7.props.in[index][si] == undefined ? true : _this7.props.in[index][si][li] //return true;\n              ,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 776\n              },\n              __self: this\n            }, React.createElement(Tooltip, {\n              title: value,\n              open: _this7.state.open == undefined ? false : _this7.state.open[index] == undefined ? false : _this7.state.open[index][si] == undefined ? false : _this7.state.open[index][si][li],\n              onClose: function onClose() {\n                var newOpen = _this7.state.open;\n                if (!newOpen || index >= newOpen.length || !newOpen[index] || si >= newOpen[index].length || !newOpen[index][si] || li >= newOpen[index][si].length) newOpen = _this7.init(false);\n                newOpen[index][si][li] = false;\n\n                _this7.setState({\n                  open: newOpen\n                });\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 788\n              },\n              __self: this\n            }, React.createElement(ListItem, {\n              button: true,\n              onClick: function onClick() {\n                var newOpen = _this7.state.open;\n\n                if (!newOpen) {\n                  newOpen = _this7.init(false); //console.log(newOpen);\n                }\n\n                newOpen[index][si][li] = !newOpen[index][si][li];\n\n                _this7.setState({\n                  open: newOpen\n                });\n              },\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 814\n              },\n              __self: this\n            }, React.createElement(Typography, {\n              noWrap: true,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 828\n              },\n              __self: this\n            }, \"0x\" + addrBegin.toString(16) + \"~\" + \"0x\" + addrEnd.toString(16)))));\n          });\n        }), \") }\"))));\n      });\n    }\n  }]);\n\n  return CacheLayout;\n}(React.Component);\n\nvar MenuLayout =\n/*#__PURE__*/\nfunction (_React$Component6) {\n  _inherits(MenuLayout, _React$Component6);\n\n  function MenuLayout() {\n    var _getPrototypeOf6;\n\n    var _this8;\n\n    _classCallCheck(this, MenuLayout);\n\n    for (var _len5 = arguments.length, args = new Array(_len5), _key5 = 0; _key5 < _len5; _key5++) {\n      args[_key5] = arguments[_key5];\n    }\n\n    _this8 = _possibleConstructorReturn(this, (_getPrototypeOf6 = _getPrototypeOf(MenuLayout)).call.apply(_getPrototypeOf6, [this].concat(args)));\n    _this8.state = {\n      settingExpanded: false,\n      openMemory: false,\n      openCache: false,\n      openAbout: false,\n      memory: [],\n      cache: [],\n      speedMenuOpen: false,\n      anchorEl: null,\n      speedIndex: 0\n    };\n    return _this8;\n  }\n\n  _createClass(MenuLayout, [{\n    key: \"Transition\",\n    value: function Transition(props) {\n      return React.createElement(Slide, Object.assign({\n        direction: \"up\"\n      }, props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 864\n        },\n        __self: this\n      }));\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this9 = this;\n\n      var mainLayout = this.props.parent;\n      var anchorEl = this.state.anchorEl;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 871\n        },\n        __self: this\n      }, React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 872\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 873\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        primary: \"HELLO\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 874\n        },\n        __self: this\n      })), React.createElement(ListItem, {\n        button: true,\n        onClick: function onClick() {\n          _this9.setState({\n            settingExpanded: !_this9.state.settingExpanded\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 876\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 882\n        },\n        __self: this\n      }, React.createElement(SettingsIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 883\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: \"Setting\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 885\n        },\n        __self: this\n      })), React.createElement(Collapse, {\n        in: this.state.settingExpanded,\n        timeout: \"auto\",\n        unmountOnExit: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 887\n        },\n        __self: this\n      }, React.createElement(List, {\n        component: \"div\",\n        disablePadding: true,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 892\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        button: true,\n        onClick: function onClick(event) {\n          _this9.setState({\n            anchorEl: event.currentTarget\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 893\n        },\n        __self: this\n      }, React.createElement(ListItemText, {\n        inset: true,\n        primary: \"Speed\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 899\n        },\n        __self: this\n      }))), React.createElement(Menu, {\n        id: \"speed-menu\",\n        anchorEl: anchorEl,\n        open: Boolean(anchorEl),\n        onClose: function onClose() {\n          //runTimeout = 1000/ speedOpt[this.state.speedIndex];\n          //console.log(\"runtimeout:\"+runTimeout);\n          _this9.setState({\n            anchorEl: null\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 902\n        },\n        __self: this\n      }, speedOpt.map(function (option, index) {\n        return React.createElement(MenuItem, {\n          key: option,\n          selected: index === _this9.state.speedIndex,\n          onClick: function onClick(event) {\n            runTimeout = 1000 / speedOpt[index];\n            console.log(\"runtimeout:\" + runTimeout);\n\n            _this9.setState({\n              speedIndex: index,\n              anchorEl: null\n            });\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 913\n          },\n          __self: this\n        }, speedOpt[index]);\n      }))), React.createElement(ListItem, {\n        button: true,\n        onClick: function onClick() {\n          //show stack\n          _this9.setState({\n            openMemory: true,\n            memory: pipe.getMemory()\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 928\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 938\n        },\n        __self: this\n      }, React.createElement(ReorderIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 939\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: \"Memory\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 941\n        },\n        __self: this\n      })), React.createElement(ListItem, {\n        button: true,\n        onClick: function onClick(event) {\n          _this9.setState({\n            openCache: true,\n            cache: pipe.getCache()\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 943\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 952\n        },\n        __self: this\n      }, React.createElement(FilterListIcon, {\n        style: {\n          transform: \"rotate(180deg)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 953\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        inset: true,\n        primary: \"Cache\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 959\n        },\n        __self: this\n      }))), React.createElement(Divider, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 962\n        },\n        __self: this\n      }), React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 963\n        },\n        __self: this\n      }, React.createElement(ListItem, {\n        button: true,\n        key: \"About\",\n        onClick: function onClick() {\n          _this9.setState({\n            openAbout: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 964\n        },\n        __self: this\n      }, React.createElement(ListItemIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 973\n        },\n        __self: this\n      }, React.createElement(InfoIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 974\n        },\n        __self: this\n      })), React.createElement(ListItemText, {\n        primary: \"About\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 976\n        },\n        __self: this\n      }))), React.createElement(Dialog, {\n        open: this.state.openMemory,\n        onClose: function onClose() {\n          _this9.setState({\n            openMemory: false\n          });\n        },\n        scroll: \"paper\",\n        keepMounted: true,\n        TransitionComponent: this.Transition,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 980\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 989\n        },\n        __self: this\n      }, \"Memory\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 990\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 991\n        },\n        __self: this\n      }, this.state.memory.map(function (pair, index) {\n        return React.createElement(Typography, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 994\n          },\n          __self: this\n        }, \"0x\" + pair[0] + \": \" + pair[1]);\n      })))), React.createElement(Dialog, {\n        open: this.state.openCache,\n        onClose: function onClose() {\n          _this9.setState({\n            openCache: false\n          });\n        },\n        scroll: \"paper\",\n        keepMounted: true,\n        TransitionComponent: this.Transition,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1001\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1010\n        },\n        __self: this\n      }, \"Cache Hierarchy\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1011\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1012\n        },\n        __self: this\n      }, this.state.cache.map(function (cache, index) {\n        return React.createElement(\"div\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1015\n          },\n          __self: this\n        }, React.createElement(Button, {\n          style: {\n            textTransform: \"none\"\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1016\n          },\n          __self: this\n        }, \"L\" + (index + 1) + \": \" + \"t[\" + cache.t + \"] s[\" + cache.s + \"] b[\" + cache.b + \"]\"), React.createElement(IconButton, {\n          onClick: function onClick() {\n            pipe.removeCache(index);\n            var cac = pipe.getCache();\n\n            if (cac.length == 0) {\n              _this9.setState({\n                openCache: false\n              });\n            } else _this9.setState({\n              cache: cac\n            });\n\n            mainLayout.initCache();\n            mainLayout.refreshCache();\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1028\n          },\n          __self: this\n        }, React.createElement(DeleteIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1039\n          },\n          __self: this\n        })));\n      }))), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1046\n        },\n        __self: this\n      }, React.createElement(Button, {\n        onClick: function onClick(event) {\n          var cac = pipe.getCache();\n          if (cac.length > 0) pipe.addCache(cac[cac.length - 1].t - 1, cac[cac.length - 1].s + 1);else pipe.addCache();\n\n          _this9.setState({\n            cache: pipe.getCache()\n          });\n\n          mainLayout.initCache();\n          mainLayout.refreshCache();\n        },\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1047\n        },\n        __self: this\n      }, \"Add\"))), React.createElement(Dialog, {\n        open: this.state.openAbout,\n        onClose: function onClose() {\n          _this9.setState({\n            openAbout: false\n          });\n        },\n        scroll: \"paper\",\n        keepMounted: true,\n        TransitionComponent: this.Transition,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1066\n        },\n        __self: this\n      }, React.createElement(DialogTitle, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1075\n        },\n        __self: this\n      }, \"About\"), React.createElement(DialogContent, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1076\n        },\n        __self: this\n      }, React.createElement(DialogContentText, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1077\n        },\n        __self: this\n      }, aboutText)), React.createElement(DialogActions, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1079\n        },\n        __self: this\n      })));\n    }\n  }]);\n\n  return MenuLayout;\n}(React.Component);\n\nvar MainLayout =\n/*#__PURE__*/\nfunction (_React$Component7) {\n  _inherits(MainLayout, _React$Component7);\n\n  function MainLayout(props) {\n    var _this10;\n\n    _classCallCheck(this, MainLayout);\n\n    _this10 = _possibleConstructorReturn(this, _getPrototypeOf(MainLayout).call(this, props));\n    _this10.handleUpload = _this10.handleUpload.bind(_assertThisInitialized(_assertThisInitialized(_this10)));\n    _this10.state = {\n      colorDeg: 45,\n      colorL: 350,\n      colorR: 25,\n      code: [\"Please upload a .yo file\"],\n      textHeight: \"100%\",\n      cardsHide: false,\n      cardsHalt: false,\n      fabIn: true,\n      onFabTransit: false,\n      fabTooltipOpen: false,\n      run: false,\n      drawerOpen: false,\n      onStageAnimation: false,\n      stageIn: true,\n      refreshStage: false,\n      messageQueue: [],\n      snackbarOpen: false,\n      anchorEl: null,\n      cacheIn: [[[]]],\n      cache: pipe.getCache(),\n      oldCache: pipe.getCache(),\n      stageRegisters: pipe.getStageRegisters(),\n      stageStuffs: pipe.getStageStuffs(),\n      registerFile: pipe.getRegisterFile()\n    };\n    _this10.textFieldDiv = React.createRef();\n    return _this10;\n  }\n\n  _createClass(MainLayout, [{\n    key: \"toast\",\n    value: function toast(msg) {\n      var msgQueue = this.state.messageQueue;\n      msgQueue.push(msg);\n      this.setState({\n        messageQueue: msgQueue,\n        snackbarOpen: !this.state.snackbarOpen\n      });\n    }\n  }, {\n    key: \"handleUpload\",\n    value: function handleUpload(event) {\n      //console.log(event);\n      var fileReader = new FileReader();\n      var str;\n      var t = this;\n\n      fileReader.onload = function (event) {\n        //console.log(\"fileReader onload: \" + event);\n        //alert(\"onload\");\n        str = event.target.result;\n        pipe.init();\n        pipe.setCode(str); //console.log(\"init get:\");\n        //console.log(pipe.getStageRegisters);\n        //pipe.stepi(1);\n\n        t.setState({\n          stageRegisters: pipe.getStageRegisters()\n        });\n        t.setState({\n          stageRegisters: pipe.getRegisterFile()\n        });\n        t.setState({\n          stageRegisters: pipe.getStageRegisters()\n        });\n        t.setState({\n          registerFile: pipe.getRegisterFile()\n        });\n        t.refreshCache();\n        t.setState({\n          stageIn: false\n        });\n        setTimeout(function () {\n          t.setState({\n            stageIn: true\n          });\n        }, 10);\n        var codeLines = [];\n        var line = \"\";\n        var i = 0;\n\n        while (i < str.length) {\n          if (str[i] != \"\\n\") {\n            if (str[i] == \" \") line += \"\\xa0\";else line += str[i];\n          } else {\n            codeLines.push(line);\n            line = \"\";\n          }\n\n          i++;\n        }\n\n        t.setState({\n          code: codeLines\n        }); //alert(pipe.Memory);\n      };\n\n      if (event.target.files.length) fileReader.readAsText(event.target.files[0]);\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      // this.setState({ textHeight: this.textFieldDiv.clientHeight });\n      var t = this;\n      setTimeout(function f() {\n        t.setState({\n          colorL: t.state.colorL + colorDel,\n          colorR: t.state.colorR + colorDel\n        });\n        setTimeout(f, 20);\n      }, 20);\n    }\n  }, {\n    key: \"initCache\",\n    value: function initCache() {\n      var newCache = pipe.getCache();\n      this.setState({\n        cache: newCache\n      });\n    }\n  }, {\n    key: \"refreshCache\",\n    value: function refreshCache() {\n      var _this11 = this;\n\n      var newCache = pipe.getCache();\n      var oldCache = this.state.cache;\n      var newIn = [];\n      newIn.length = newCache.length;\n\n      for (var i = 0; i < newCache.length; i++) {\n        newIn[i] = [];\n        newIn[i].length = newCache[i].set.length;\n\n        for (var j = 0; j < newCache[i].set.length; j++) {\n          newIn[i][j] = [];\n          newIn[i][j].length = newCache[i].set[j].length;\n\n          for (var k = 0; k < newCache[i].set[j].length; k++) {\n            if (!oldCache || i >= oldCache.length || !oldCache[i].set || j >= oldCache[i].set.length || !oldCache[i].set[j] || k >= oldCache[i].set[j].length || oldCache[i].set[j][k].tag != newCache[i].set[j][k].tag) newIn[i][j][k] = false;else newIn[i][j][k] = true; //newIn[i][j][k] = true;\n          }\n        }\n      }\n\n      console.log(\"new In\");\n      console.log(newIn);\n      this.setState({\n        cacheIn: newIn\n      });\n      setTimeout(function () {\n        _this11.setState({\n          cache: newCache,\n          cacheIn: undefined\n        });\n      }, 500);\n    }\n  }, {\n    key: \"refreshStageRegisters\",\n    value: function refreshStageRegisters() {\n      var _this12 = this;\n\n      var flag = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n      this.setState({\n        stageRegisters: pipe.getStageRegisters()\n      });\n      this.setState({\n        registerFile: pipe.getRegisterFile()\n      });\n      this.setState({\n        stageStuffs: pipe.getStageStuffs()\n      });\n\n      if (flag) {\n        this.setState({\n          stageIn: false\n        });\n        setTimeout(function () {\n          _this12.setState({\n            stageIn: true\n          });\n        }, 100);\n      }\n    }\n    /* run til breakpoint */\n\n  }, {\n    key: \"runPipe\",\n    value: function runPipe() {\n      var t = this;\n      var temp = colorDel;\n      colorDel = 10; //t.setState({run:true});\n\n      setTimeout(function func() {\n        var stat = t.stepPipe(1, 0);\n        var PC = pipe.getPC();\n\n        if (!t.state.run || stat || breakPoints.has(PC)) {\n          t.toast(\"Stop at: 0x\" + PC);\n\n          if (t.state.run) {\n            t.setState({\n              fabIn: false\n            });\n          }\n\n          colorDel = temp;\n          t.refreshStageRegisters();\n          return;\n        }\n\n        setTimeout(func, runTimeout);\n      }, runTimeout);\n    }\n  }, {\n    key: \"stepPipe\",\n    value: function stepPipe(i) {\n      var flag = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n      var rtn = pipe.stepi(i);\n\n      switch (rtn) {\n        case 2:\n          this.toast(\"Address Error!\");\n          return rtn;\n\n        case 3:\n          this.toast(\"Instruction Invalid!\");\n          return rtn;\n\n        case 4:\n          this.toast(\"Halt!\");\n          return rtn;\n      }\n\n      this.refreshStageRegisters(flag);\n      this.refreshCache();\n      return rtn;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this13 = this;\n\n      var classes = this.props.classes;\n      var anchorEl = this.state.anchorEl;\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1284\n        },\n        __self: this\n      }, React.createElement(CssBaseline, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1285\n        },\n        __self: this\n      }), React.createElement(MuiThemeProvider, {\n        theme: theme,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1286\n        },\n        __self: this\n      }, React.createElement(Drawer, {\n        open: this.state.drawerOpen,\n        onClose: function onClose() {\n          _this13.setState({\n            drawerOpen: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1287\n        },\n        __self: this\n      }, React.createElement(MenuLayout, {\n        parent: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1293\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        tabIndex: 0,\n        role: \"button\",\n        onClick: function onClick() {\n          _this13.setState({\n            drawerOpen: false\n          });\n        },\n        onKeyDown: function onKeyDown() {\n          _this13.setState({\n            drawerOpen: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1294\n        },\n        __self: this\n      })), React.createElement(AppBar, {\n        position: \"fixed\",\n        className: classes.appBar,\n        style: {\n          display: \"flex\",\n          alignContent: \"center\",\n          background: \"linear-gradient(\" + this.state.colorDeg + \"deg, hsl(\" + this.state.colorL + \",50%,60%) 30%, hsl(\" + this.state.colorR + \",50%,60%)  90%)\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1305\n        },\n        __self: this\n      }, React.createElement(Toolbar, {\n        style: {\n          height: \"100%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1321\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        color: \"inherit\",\n        \"aria-label\": \"Open drawer\",\n        onClick: function onClick() {\n          _this13.setState({\n            drawerOpen: true\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1322\n        },\n        __self: this\n      }, React.createElement(MenuIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1329\n        },\n        __self: this\n      })), React.createElement(Tooltip, {\n        title: \"Upload\",\n        enterDelay: 1000,\n        leaveDelay: 200,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1331\n        },\n        __self: this\n      }, React.createElement(IconButton, {\n        color: \"inherit\",\n        onClick: function onClick() {\n          return _this13.fileUpload.click();\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1332\n        },\n        __self: this\n      }, React.createElement(AddIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1336\n        },\n        __self: this\n      }))), React.createElement(\"input\", {\n        type: \"file\",\n        accept: \".yo\",\n        ref: function ref(_ref2) {\n          return _this13.fileUpload = _ref2;\n        },\n        style: {\n          visibility: \"hidden\"\n        },\n        onInput: this.handleUpload,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1339\n        },\n        __self: this\n      }), React.createElement(Typography, {\n        variant: \"h6\",\n        color: \"inherit\",\n        noWrap: true,\n        style: {\n          position: \"absolute\",\n          right: 30\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1347\n        },\n        __self: this\n      }, appBarTitle)), React.createElement(\"div\", {\n        style: {\n          position: \"fixed\",\n          height: 0,\n          hide: \"true\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1357\n        },\n        __self: this\n      }, React.createElement(CacheLayout, {\n        in: this.state.cacheIn,\n        cache: this.state.cache,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1365\n        },\n        __self: this\n      }))), React.createElement(Snackbar, {\n        key: 0,\n        anchorOrigin: {\n          vertical: \"bottom\",\n          horizontal: \"left\"\n        },\n        open: this.state.snackbarOpen,\n        autoHideDuration: 1000,\n        onClose: function onClose() {\n          _this13.setState({\n            snackbarOpen: false\n          });\n        },\n        onExited: function onExited() {\n          var msg = _this13.state.messageQueue;\n          msg.shift();\n\n          if (msg.length > 0) {\n            _this13.setState({\n              messageQueue: msg,\n              snackbarOpen: true\n            });\n          }\n        },\n        ContentProps: {\n          \"aria-describedby\": \"message-id\"\n        },\n        message: React.createElement(\"span\", {\n          id: \"message-id\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1398\n          },\n          __self: this\n        }, this.state.messageQueue[0]),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1372\n        },\n        __self: this\n      }), React.createElement(\"main\", {\n        className: classes.content,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1401\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1402\n        },\n        __self: this\n      }, React.createElement(StageCards, {\n        stageRegisters: this.state.stageRegisters,\n        classes: classes,\n        hide: !this.state.run,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1403\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          width: \"100%\",\n          height: window.innerHeight - theme.spacing.unit * 20,\n          display: \"flex\",\n          alignItems: \"stretch\",\n          marginBottom: theme.spacing.unit * 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1410\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        style: {\n          //flex: 1,\n          //flexBasis:10000,\n          marginRight: theme.spacing.unit * 3,\n          width: \"60%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1420\n        },\n        __self: this\n      }, React.createElement(CodeLayout, {\n        classes: classes,\n        code: this.state.code,\n        parent: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1428\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        style: {\n          //flex:1,\n          width: \"40%\"\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1435\n        },\n        __self: this\n      }, React.createElement(StageRegistersLayout, {\n        stageRegisters: this.state.stageRegisters,\n        stageStuffs: this.state.stageStuffs,\n        classes: classes,\n        in: this.state.stageIn,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1441\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        style: {\n          marginBottom: theme.spacing.unit * 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1449\n        },\n        __self: this\n      }, React.createElement(ExpansionPanel, {\n        defaultExpanded: false,\n        onMouseEnter: function onMouseEnter(e) {},\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1450\n        },\n        __self: this\n      }, React.createElement(ExpansionPanelSummary, {\n        expandIcon: React.createElement(ExpandMoreIcon, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 1451\n          },\n          __self: this\n        }),\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1451\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1452\n        },\n        __self: this\n      }, \"RegisterFile\")), React.createElement(ExpansionPanelDetails, {\n        className: classes.details,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1454\n        },\n        __self: this\n      }, React.createElement(RegisterFileLayout, {\n        classes: classes,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1458\n        },\n        __self: this\n      }))))), React.createElement(\"div\", {\n        style: {\n          zIndex: 1,\n          position: \"fixed\",\n          bottom: 0,\n          right: 0\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1463\n        },\n        __self: this\n      }, React.createElement(TriTooltip, {\n        title: \"Double Click to Run\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1471\n        },\n        __self: this\n      }, React.createElement(Zoom, {\n        in: this.state.fabIn,\n        onEntered: function onEntered() {\n          _this13.setState({\n            onFabTransit: false\n          });\n\n          if (_this13.state.run) {\n            _this13.runPipe();\n          }\n        },\n        onExit: function onExit() {\n          _this13.setState({\n            onFabTransit: true\n          });\n        },\n        onExited: function onExited() {\n          _this13.setState({\n            fabIn: true,\n            run: !_this13.state.run\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1472\n        },\n        __self: this\n      }, React.createElement(Fab, {\n        color: \"secondary\",\n        style: {\n          margin: theme.spacing.unit * 3\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1494\n        },\n        __self: this\n      }, this.state.run ? React.createElement(PauseIcon, {\n        onClick: function onClick() {\n          //this.toast(\"stepi\");\n          _this13.setState({\n            fabIn: false\n          }); //this.refreshStageRegisters();\n\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1499\n        },\n        __self: this\n      }) : React.createElement(ChevronRightIcon, {\n        onClick: function onClick() {\n          //this.toast(\"stepi\");\n          _this13.stepPipe(1);\n        },\n        onDoubleClick: function onDoubleClick() {\n          if (_this13.state.onFabTransit) {\n            return;\n          }\n\n          _this13.toast(\"Run\");\n\n          _this13.setState({\n            fabIn: false\n          });\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 1509\n        },\n        __self: this\n      })))))));\n    }\n  }]);\n\n  return MainLayout;\n}(React.Component);\n\nvar TriTooltip =\n/*#__PURE__*/\nfunction (_React$Component8) {\n  _inherits(TriTooltip, _React$Component8);\n\n  function TriTooltip() {\n    var _getPrototypeOf7;\n\n    var _this14;\n\n    _classCallCheck(this, TriTooltip);\n\n    for (var _len6 = arguments.length, args = new Array(_len6), _key6 = 0; _key6 < _len6; _key6++) {\n      args[_key6] = arguments[_key6];\n    }\n\n    _this14 = _possibleConstructorReturn(this, (_getPrototypeOf7 = _getPrototypeOf(TriTooltip)).call.apply(_getPrototypeOf7, [this].concat(args)));\n    _this14.state = {\n      open: false,\n      cnt: 3\n    };\n    return _this14;\n  }\n\n  _createClass(TriTooltip, [{\n    key: \"render\",\n    value: function render() {\n      var _this15 = this,\n          _React$createElement;\n\n      var props = this.props;\n      return React.createElement(Tooltip, (_React$createElement = {\n        title: this.props.title,\n        enterDelay: 500,\n        leaveDelay: 200,\n        onOpen: function onOpen() {\n          if (!_this15.state.cnt) return;\n\n          _this15.setState({\n            cnt: _this15.state.cnt - 1\n          });\n\n          _this15.setState({\n            open: true\n          });\n        },\n        onClose: function onClose() {\n          _this15.setState({\n            open: false\n          });\n        },\n        open: this.state.open\n      }, _defineProperty(_React$createElement, \"enterDelay\", 500), _defineProperty(_React$createElement, \"leaveDelay\", 200), _defineProperty(_React$createElement, \"__source\", {\n        fileName: _jsxFileName,\n        lineNumber: 1542\n      }), _defineProperty(_React$createElement, \"__self\", this), _React$createElement), props.children);\n    }\n  }]);\n\n  return TriTooltip;\n}(React.Component);\n\nMainLayout.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withStyles(styles)(MainLayout);","map":{"version":3,"sources":["/home/lhq/Workspace/sim-cpu/src/layout.js"],"names":["React","Fragment","Draggable","Tooltip","Popover","Card","CardHeader","CardMedia","CardContent","CardActions","CardActionArea","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","MenuItem","Menu","Zoom","Grow","Collapse","Slide","red","blue","green","brown","yellow","orange","deepOrange","purple","grey","PropTypes","MuiThemeProvider","createMuiTheme","withStyles","Button","Fab","Avatar","Drawer","CssBaseline","AppBar","Toolbar","List","ListItem","ListItemIcon","ListItemText","ListSubheader","Typography","Divider","InboxIcon","IconButton","MenuIcon","AddIcon","InfoIcon","CloseIcon","SettingsIcon","ReorderIcon","FilterListIcon","PauseIcon","ChevronRightIcon","FavoriteIcon","ShareIcon","MoreVertIcon","DeleteIcon","TextField","MailIcon","Paper","Table","TableBody","TableCell","TableHead","TableRow","Grid","InputBase","ExpansionPanel","ExpansionPanelSummary","ExpansionPanelDetails","ExpandMoreIcon","Snackbar","Pipe","appBarTitle","stats","aboutText","stageColor","stageRefreshTimeout","runTimeout","speedOpt","colorDel","pipe","init","breakPoints","Set","appBarHeight","theme","palette","primary","background","default","typography","useNextVariants","fontSize","fontFamily","join","console","log","styles","root","display","width","height","backgroundColor","appBar","toolbar","alignItems","justifyContent","drawer","flexShrink","content","paddingTop","spacing","unit","padding","table","row","paper","overflow","details","overflowX","textField","rows","rowsMax","panel","paddingLeft","subHeader","text","paddingRight","StageCards","state","grow","stageRegisters","props","onRefresh","in","x","y","position","ref","undefined","index","rect","getBoundingClientRect","randX","Math","random","randY","window","innerWidth","innerHeight","newPos","setState","i","changePosition","time","timeout","delay","length","classes","stages","map","name","zIndex","left","top","hide","setTimeout","newGrow","prop","Component","CodeLayout","parent","code","getStageRegisters","line","address","event","nameMap","target","attributes","addr","isbreakpoint","deleteBreakpoint","value","delete","toast","style","fontWeight","addBreakpoint","add","StageRegistersLayout","stageStuffs","anchorEl","popText","list","Boolean","vertical","horizontal","margin","currentTarget","RegisterFileLayout","regs","r","getRegisterFile","textAlign","flexGrow","val","CacheLayout","cache","open","expanded","ini","a","set","j","k","h","w","t","cac","e","exp","maxHeight","si","li","valid","addrBegin","tag","s","b","addrEnd","getValueFromMemory","newOpen","toString","MenuLayout","settingExpanded","openMemory","openCache","openAbout","memory","speedMenuOpen","speedIndex","mainLayout","option","getMemory","getCache","transform","Transition","pair","textTransform","removeCache","initCache","refreshCache","addCache","MainLayout","handleUpload","bind","colorDeg","colorL","colorR","textHeight","cardsHide","cardsHalt","fabIn","onFabTransit","fabTooltipOpen","run","drawerOpen","onStageAnimation","stageIn","refreshStage","messageQueue","snackbarOpen","cacheIn","oldCache","getStageStuffs","registerFile","textFieldDiv","createRef","msg","msgQueue","push","fileReader","FileReader","str","onload","result","setCode","codeLines","files","readAsText","f","newCache","newIn","flag","temp","func","stat","stepPipe","PC","getPC","has","refreshStageRegisters","rtn","stepi","alignContent","fileUpload","click","visibility","right","shift","marginBottom","marginRight","bottom","runPipe","TriTooltip","cnt","title","children","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React, { Fragment } from \"react\";\nimport Draggable from \"react-draggable\";\n\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport Popover from \"@material-ui/core/Popover\";\n\nimport Card from \"@material-ui/core/Card\";\nimport CardHeader from \"@material-ui/core/CardHeader\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\n\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport Menu from \"@material-ui/core/Menu\";\n\nimport Zoom from \"@material-ui/core/Zoom\";\nimport Grow from \"@material-ui/core/Grow\";\nimport Collapse from \"@material-ui/core/Collapse\";\nimport Slide from \"@material-ui/core/Slide\";\n\nimport red from \"@material-ui/core/colors/red\";\nimport blue from \"@material-ui/core/colors/blue\";\nimport green from \"@material-ui/core/colors/green\";\nimport brown from \"@material-ui/core/colors/brown\";\nimport yellow from \"@material-ui/core/colors/yellow\";\nimport orange from \"@material-ui/core/colors/orange\";\nimport deepOrange from \"@material-ui/core/colors/deepOrange\";\nimport purple from \"@material-ui/core/colors/purple\";\n\nimport grey from \"@material-ui/core/colors/grey\";\n\nimport PropTypes from \"prop-types\";\nimport {\n  MuiThemeProvider,\n  createMuiTheme,\n  withStyles\n} from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport Fab from \"@material-ui/core/Fab\";\nimport Avatar from \"@material-ui/core/Avatar\";\n\nimport Drawer from \"@material-ui/core/Drawer\";\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\nimport AppBar from \"@material-ui/core/AppBar\";\nimport Toolbar from \"@material-ui/core/Toolbar\";\nimport List from \"@material-ui/core/List\";\n\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\nimport Typography from \"@material-ui/core/Typography\";\nimport Divider from \"@material-ui/core/Divider\";\nimport InboxIcon from \"@material-ui/icons/MoveToInbox\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport AddIcon from \"@material-ui/icons/Add\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport CloseIcon from \"@material-ui/icons/Close\";\nimport SettingsIcon from \"@material-ui/icons/Settings\";\nimport ReorderIcon from \"@material-ui/icons/Reorder\";\nimport FilterListIcon from \"@material-ui/icons/FilterList\";\nimport PauseIcon from \"@material-ui/icons/Pause\";\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\nimport FavoriteIcon from \"@material-ui/icons/Favorite\";\nimport ShareIcon from \"@material-ui/icons/Share\";\nimport MoreVertIcon from \"@material-ui/icons/MoreVert\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\n\nimport TextField from \"@material-ui/core/TextField\";\n\nimport MailIcon from \"@material-ui/icons/Mail\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Table from \"@material-ui/core/Table\";\nimport TableBody from \"@material-ui/core/TableBody\";\nimport TableCell from \"@material-ui/core/TableCell\";\nimport TableHead from \"@material-ui/core/TableHead\";\nimport TableRow from \"@material-ui/core/TableRow\";\nimport Grid from \"@material-ui/core/Grid\";\nimport InputBase from \"@material-ui/core/InputBase\";\n\nimport ExpansionPanel from \"@material-ui/core/ExpansionPanel\";\nimport ExpansionPanelSummary from \"@material-ui/core/ExpansionPanelSummary\";\nimport ExpansionPanelDetails from \"@material-ui/core/ExpansionPanelDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nimport Snackbar from \"@material-ui/core/Snackbar\";\n\nimport { Pipe } from \"./pipe.js\";\nconst appBarTitle = \"COLORFUL CPU\";\n\nconst stats = [\"\", \"SAOK\", \"SADR\", \"SINS\", \"SHLT\", \"SBUB\"];\nconst aboutText =\n  \"A Pipe-line Y86-64 CPU Simulator using React and Matreial-ui by Leehq\";\nlet stageColor = [red[500], purple[500], orange[500], green[500], blue[500]];\n\nlet stageRefreshTimeout = 500;\n\nlet runTimeout = 1000;\nconst speedOpt = [1, 5, 10, 20];\n\nlet colorDel = 1;\nlet pipe = new Pipe();\npipe.init();\nlet breakPoints = new Set();\n\nconst appBarHeight = 70;\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: brown,\n    //secondary: ,\n    background: {\n      default: grey[200]\n    }\n  },\n  typography: {\n    useNextVariants: true,\n    fontSize: 13,\n    fontFamily: [\n      \"Consolas\",\n      \"Courier New\",\n      '\"Microsoft Yahei\"',\n      \"-apple-system\",\n      \"BlinkMacSystemFont\",\n      '\"Segoe UI\"',\n      \"Roboto\",\n      '\"Helvetica Neue\"',\n      \"Arial\",\n      \"sans-serif\",\n      '\"Apple Color Emoji\"',\n      '\"Segoe UI Emoji\"',\n      '\"Segoe UI Symbol\"'\n    ].join(\",\")\n  }\n});\nconsole.log(theme);\nconst styles = theme => ({\n  root: {\n    display: \"flex\",\n    width: \"100%\",\n    height: \"100%\",\n    backgroundColor: grey[200]\n  },\n  appBar: {\n    height: appBarHeight\n  },\n  toolbar: {\n    alignItems: \"center\",\n    justifyContent: \"space-between\"\n  },\n  drawer: {\n    width: 240,\n    flexShrink: 0\n  },\n\n  content: {\n    height: \"100%\",\n    width: \"100%\",\n    backgroundColor: grey[200],\n    paddingTop: appBarHeight + theme.spacing.unit * 3,\n    padding: theme.spacing.unit * 3\n  },\n  table: {\n    width: \"100%\"\n  },\n  row: {},\n  paper: {\n    overflow: \"auto\",\n    padding: 10,\n    height: \"100%\",\n    width: \"100%\"\n  },\n  details: {\n    //justifyItems: \"center\",\n    width: \"100%\",\n    overflowX: \"auto\"\n  },\n  textField: {\n    width: \"100%\",\n    rows: 10,\n    rowsMax: 10\n  },\n  panel: {\n    paddingLeft: 10,\n    overflowX: \"auto\",\n    width: \"100%\"\n    //height: \"100%\"\n  },\n  subHeader: {\n    //backgroundColor:\n    backgroundColor: theme.palette.background.paper\n  },\n  text: {\n    paddingTop: theme.spacing.unit * 2,\n    paddingLeft: theme.spacing.unit * 2,\n    paddingRight: theme.spacing.unit * 2\n  }\n});\n\nclass StageCards extends React.Component {\n  state = {\n    grow: [true, false, false, false, false, false],\n    stageRegisters: this.props.stageRegisters,\n    onRefresh: false,\n    in: true,\n    x: 0,\n    y: 0,\n    position: [[0, 0], [0, 0], [0, 0], [0, 0], [0, 0]],\n    ref: [undefined, undefined, undefined, undefined, undefined]\n  };\n  changePosition(index) {\n    let rect = this.ref[index].getBoundingClientRect();\n    let randX = Math.random();\n    let randY = Math.random();\n\n    let x =\n      (window.innerWidth / 5 - rect.width / 2) * randX +\n      ((window.innerWidth * 4) / 5 - rect.width / 2) * (1 - randX);\n    let y =\n      (window.innerHeight / 3 - rect.height / 2) * randY +\n      ((window.innerHeight * 2) / 3 - rect.height / 2) * (1 - randY);\n    let newPos = this.state.position;\n    newPos[index][0] = x;\n    newPos[index][1] = y;\n    this.setState({\n      position: newPos\n    });\n  }\n\n  componentDidMount() {\n    for (let i = 0; i < 5; i++) this.changePosition(i);\n  }\n  render() {\n    const time = runTimeout / 10;\n    const timeout = time > 200 ? time : 200;\n    const delay = timeout >> 2;\n    if (this.ref == undefined) {\n      this.ref = [];\n      this.ref.length = 5;\n    }\n\n    const { classes } = this.props;\n    const stages = [\"Write-back\", \"Memory\", \"Execute\", \"Decode\", \"Fetch\"];\n    //console.log(\"render\");\n    const stageRegisters = this.props.stageRegisters;\n\n    //this.setState({refresh:this.props.refresh});\n    return stages.map((name, index) => (\n      <div\n        style={{\n          position: \"absolute\",\n          zIndex: 10,\n          left: this.state.position[index][0],\n          top: this.state.position[index][1]\n        }}\n        ref={ref => {\n          this.ref[index] = ref;\n        }}\n      >\n        <React.Fragment>\n          <Grow\n            unmountOnExit\n            //mountOnEnter\n\n            in={\n              index == 0 && !this.state.onRefresh\n                ? !this.props.hide\n                : this.state.grow[index]\n            }\n            timeout={timeout}\n            onEnter={() => {\n              //console.log(index+\" enter\");\n              if (index == 0) this.setState({ onRefresh: true });\n              setTimeout(() => {\n                let newGrow = this.state.grow;\n                newGrow[index + 1] = true;\n                this.setState({ grow: newGrow });\n              }, delay);\n            }}\n            onEntered={() => {\n              if (index == 4) {\n                let newGrow = this.state.grow;\n                newGrow[0] = false;\n                this.setState({ grow: newGrow });\n              }\n            }}\n            onExit={() => {\n              //console.log(index+\" exit\");\n              if (index == 0) {\n                this.setState({ onRefresh: true });\n              }\n              setTimeout(() => {\n                let newGrow = this.state.grow;\n                newGrow[index + 1] = false;\n                this.setState({ grow: newGrow });\n              }, delay);\n            }}\n            onExited={() => {\n              //console.log(index + \" exited\");\n              //console.log(\"******set state\");\n              this.changePosition(index);\n              if (index == 4) {\n                this.setState({\n                  onRefresh: false,\n                  stageRegisters: this.props.stageRegisters\n                });\n                if (this.props.hide) return;\n                let newGrow = this.state.grow;\n                newGrow[0] = true;\n                this.setState({ grow: newGrow });\n                //this.setState({ in: true });\n              }\n            }}\n          >\n            <Card>\n              <CardActionArea\n                style={{\n                  backgroundColor:\n                    this.state.stageRegisters[index][0][1] === \"SAOK\" ||\n                    index == 4\n                      ? stageColor[index]\n                      : grey[500]\n                }}\n              >\n                <CardHeader\n                  avatar={\n                    <Avatar\n                      style={{\n                        backgroundColor:\n                          this.state.stageRegisters[index][0][1] === \"SAOK\" ||\n                          index == 4\n                            ? stageColor[index]\n                            : grey[500]\n                      }}\n                    >\n                      {name[0]}\n                    </Avatar>\n                  }\n                  title={name}\n                />\n              </CardActionArea>\n              <CardContent>\n                {this.state.stageRegisters[index].map((prop, index) => (\n                  <Typography component=\"p\">\n                    {prop[1] == \"\" ? \"\" : \"[\" + prop[0] + \"] \" + prop[1] + \" \"}{\" \"}\n                  </Typography>\n                ))}\n              </CardContent>\n            </Card>\n          </Grow>\n        </React.Fragment>\n      </div>\n    ));\n  }\n}\n\nclass CodeLayout extends React.Component {\n  render() {\n    const { classes } = this.props;\n    const parent = this.props.parent;\n    let code = this.props.code;\n    let stageRegisters = pipe.getStageRegisters();\n\n    //displace begin\n    return (\n      <div style={{ height: \"100%\" }}>\n        <Paper\n          style={{\n            padding: theme.spacing.unit * 2,\n            height: \"100%\",\n            overflow: \"auto\"\n          }}\n        >\n          {code.map((line, index) => {\n            let address;\n            if (line.length >= 5 && line[0] == \"0\" && line[1] == \"x\") {\n              let i = 2;\n              address = \"\";\n              while (line[i] == \"0\") {\n                i++;\n              }\n              while (line[i] != \":\") {\n                address += line[i++];\n              }\n              if (address.length == 0) address = \"0\";\n            }\n\n            return (\n              <div>\n                <Typography\n                  addr={address}\n                  //classes={addr}\n                  style={{\n                    fontSize: 15\n                  }}\n                  onContextMenu={() => {}}\n                  onDoubleClick={event => {\n                    let nameMap = event.target.attributes;\n                    if (nameMap.addr == undefined) return;\n                    if (event.target.isbreakpoint) {\n                      event.target.isbreakpoint = false;\n                      //delete breakpoint\n                      pipe.deleteBreakpoint(nameMap.addr.value);\n                      breakPoints.delete(nameMap.addr.value);\n                      parent.toast(\n                        \"Delete breakpoint at: 0x\" + nameMap.addr.value\n                      );\n                      event.target.style.fontWeight = \"normal\";\n                    } else {\n                      event.target.isbreakpoint = true;\n                      //add in break point;\n                      pipe.addBreakpoint(nameMap.addr.value);\n                      breakPoints.add(nameMap.addr.value);\n                      parent.toast(\n                        \"Add breakpoint at: 0x\" + nameMap.addr.value\n                      );\n                      event.target.style.fontWeight = \"bold\";\n                    }\n                  }}\n                  onMouseEnter={event => {\n                    //console.log(\"mouse in\");\n                    //console.log(event.clientX);\n                    event.target.style.fontWeight = \"bold\";\n                  }}\n                  onMouseOut={event => {\n                    if (!event.target.isbreakpoint)\n                      event.target.style.fontWeight = \"normal\";\n                  }}\n                >\n                  {line}\n                </Typography>\n              </div>\n            );\n          })}\n          {\n            //}    </List>\n          }{\" \"}\n        </Paper>\n      </div>\n    );\n  }\n}\n\nclass StageRegistersLayout extends React.Component {\n  state = {\n    grow: [true, false, false, false, false, false],\n    stageRegisters: this.props.stageRegisters,\n    stageStuffs: this.props.stageStuffs,\n    onRefresh: false,\n    in: true,\n    anchorEl: null,\n    popText: \"\"\n  };\n\n  render() {\n    const delay = 10;\n    const timeout = 200;\n\n    const { classes } = this.props;\n    const stages = [\"Write-back\", \"Memory\", \"Execute\", \"Decode\", \"Fetch\"];\n    //console.log(\"render\");\n    const stageRegisters = this.props.stageRegisters;\n    const stageStuffs = this.props.stageStuffs;\n    const { anchorEl } = this.state;\n    //this.setState({refresh:this.props.refresh});\n    return (\n      <div style={{ height: \"100%\", width: \"100%\" }}>\n        <Paper style={{ height: \"100%\", overflow: \"auto\" }}>\n          <List className={classes.list}>\n            <ListSubheader className={classes.subHeader}>\n              Stage Registers\n            </ListSubheader>\n\n            <Popover\n              id=\"simple-popper\"\n              open={Boolean(anchorEl)}\n              anchorEl={anchorEl}\n              onClose={() => {\n                this.setState({\n                  anchorEl: null\n                });\n              }}\n              anchorOrigin={{\n                vertical: \"bottom\",\n                horizontal: \"center\"\n              }}\n              transformOrigin={{\n                vertical: \"top\",\n                horizontal: \"center\"\n              }}\n            >\n              <Typography style={{ margin: theme.spacing.unit * 2 }}>\n                {this.state.popText}\n              </Typography>\n            </Popover>\n\n            {stages.map((name, index) => (\n              <React.Fragment>\n                <Grow\n                  in={\n                    index == 0 && !this.state.onRefresh\n                      ? this.props.hide\n                        ? false\n                        : this.props.in\n                      : this.state.grow[index]\n                  }\n                  timeout={timeout}\n                  onEnter={() => {\n                    //console.log(index+\" enter\");\n                    setTimeout(() => {\n                      let newGrow = this.state.grow;\n                      newGrow[index + 1] = true;\n                      this.setState({ grow: newGrow });\n                    }, delay);\n                  }}\n                  onEntered={() => {\n                    //console.log(index + \" entered \");\n                    //console.log(\" onrefresh\"+this.state.onRefresh);\n                    //console.log(\"props in \"+this.props.in);\n                    if (index == 4) {\n                      this.setState({ onRefresh: false });\n                      this.setState({ in: false });\n                    }\n                  }}\n                  onExit={() => {\n                    //console.log(index+\" exit\");\n                    if (index == 0) {\n                      let newGrow = this.state.grow;\n                      newGrow[0] = false;\n                      this.setState({ grow: newGrow });\n                      this.setState({ onRefresh: true });\n                    }\n                    setTimeout(() => {\n                      let newGrow = this.state.grow;\n                      newGrow[index + 1] = false;\n                      this.setState({ grow: newGrow });\n                    }, delay);\n                  }}\n                  onExited={() => {\n                    //console.log(index + \" exited\");\n                    //console.log(\"******set state\");\n                    if (index == 4) {\n                      let newGrow = this.state.grow;\n                      newGrow[0] = true;\n                      this.setState({ grow: newGrow });\n                      this.setState({\n                        stageRegisters: this.props.stageRegisters\n                      });\n                      //this.setState({ in: true });\n                    }\n                  }}\n                >\n                  <ListItem\n                    button\n                    onClick={event => {\n                      this.setState({\n                        popText: this.props.stageStuffs[index].map(\n                          (prop, index) =>\n                            prop[1] == \"\" || prop[1] == undefined\n                              ? \"\"\n                              : \"[\" + prop[0] + \"] \" + prop[1] + \" \"\n                        ),\n                        anchorEl: event.currentTarget\n                      });\n                    }}\n                  >\n                    <Avatar\n                      style={{\n                        backgroundColor:\n                          this.state.stageRegisters[index][0][1] === \"SAOK\" ||\n                          index == 4\n                            ? stageColor[index]\n                            : grey[500]\n                      }}\n                    >\n                      {\" \"}\n                      {name[0]}\n                    </Avatar>\n\n                    <ListItemText\n                      primary={this.state.stageRegisters[index].map(\n                        (prop, index) =>\n                          prop[1] == \"\"\n                            ? \"\"\n                            : \"[\" + prop[0] + \"] \" + prop[1] + \" \"\n                      )}\n                    />\n                  </ListItem>\n                </Grow>\n              </React.Fragment>\n            ))}\n          </List>\n        </Paper>\n      </div>\n    );\n  }\n}\n\nclass RegisterFileLayout extends React.Component {\n  regs = [\n    \"rax\",\n    \"rcx\",\n    \"rdx\",\n    \"rbx\",\n    \"rsp\",\n    \"rbp\",\n    \"rsi\",\n    \"rdi\",\n    \"r8\",\n    \"r9\",\n    \"r10\",\n    \"r11\",\n    \"r12\",\n    \"r13\",\n    \"r14\",\n    \"rnone\"\n  ];\n  render() {\n    const { classes } = this.props;\n    let r = pipe.getRegisterFile();\n    return (\n      <div style={{ width: \"100%\" }}>\n        <Table className={classes.table}>\n          <TableHead>\n            <TableRow className={classes.row}>\n              {this.regs.map(\n                (name, index) =>\n                  index < 8 && (\n                    <TableCell style={{ textAlign: \"center\", flexGrow: 1 }}>\n                      {name}\n                    </TableCell>\n                  )\n              )}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow className={classes.row}>\n              {r.map(\n                (val, index) =>\n                  index < 8 && (\n                    <TableCell style={{ textAlign: \"center\" }}>{val}</TableCell>\n                  )\n              )}\n            </TableRow>\n          </TableBody>\n          <TableHead>\n            <TableRow className={classes.row}>\n              {this.regs.map(\n                (name, index) =>\n                  index >= 8 && (\n                    <TableCell style={{ textAlign: \"center\" }}>\n                      {name}\n                    </TableCell>\n                  )\n              )}\n            </TableRow>\n          </TableHead>\n          <TableBody>\n            <TableRow className={classes.row}>\n              {r.map(\n                (val, index) =>\n                  index >= 8 && (\n                    <TableCell style={{ textAlign: \"center\" }}>{val}</TableCell>\n                  )\n              )}\n            </TableRow>\n          </TableBody>\n        </Table>\n      </div>\n    );\n  }\n}\n\nclass CacheLayout extends React.Component {\n  state = {\n    cache: this.props.cache,\n    open: undefined,\n    expanded: [false]\n  };\n  init(ini) {\n    console.log(\"init\");\n    let a = [];\n    let cache = this.props.cache;\n\n    a.length = cache.length;\n    for (let i = 0; i < cache.length; i++) {\n      a[i] = [];\n      a[i].length = cache[i].set.length;\n\n      for (let j = 0; j < cache[i].set.length; j++) {\n        a[i][j] = [];\n        a[i][j].length = cache[i].set[j].length;\n        for (let k = 0; k < cache[i].set[j].length; k++) {\n          a[i][j][k] = ini;\n        }\n      }\n    }\n    console.log(a);\n    return a;\n  }\n\n  render() {\n    const h = window.innerHeight;\n    const w = window.innerWidth;\n    //const cache = pipe.getCache();\n    const cache = this.props.cache;\n    let open = this.state.open;\n    let t = this;\n\n    return cache.map((cac, index) => {\n      return (\n        <Draggable>\n          <ExpansionPanel\n            expanded={\n              this.state.expanded[index] == undefined\n                ? false\n                : this.state.expanded[index]\n            }\n            style={{\n              position: \"absolute\",\n              top: (h / 3) * 1 + theme.spacing.unit * 3 * index,\n              left: (w / 3) * 1 + theme.spacing.unit * 10 * index\n            }}\n          >\n            <ExpansionPanelSummary\n              expandIcon={\n                <ExpandMoreIcon\n                  onClick={e => {\n                    let exp = this.state.expanded;\n                    if (index >= exp.length) {\n                      exp.length = index;\n                      exp[index] = false;\n                    }\n                    exp[index] = !exp[index];\n                    this.setState({ expanded: exp });\n                    //console.log(\"click more icon\");\n                  }}\n                />\n              }\n            >\n              <Typography>L{index + 1} Cache</Typography>\n            </ExpansionPanelSummary>\n\n            <ExpansionPanelDetails style={{ padding: 0 }}>\n              <List\n                dense\n                style={{ maxHeight: h / 2, overflow: \"auto\", padding: 0 }}\n              >\n                {!cac\n                  ? null\n                  : cac.set.map((set, si) => {\n                      return !set\n                        ? null\n                        : set.map((line, li) => {\n                            if (!line) return null;\n                            if (!line.valid) return null;\n                            let addrBegin =\n                              (line.tag << (cac.s + cac.b)) + (si << cac.b);\n                            let addrEnd =\n                              (line.tag << (cac.s + cac.b)) +\n                              ((si + 1) << cac.b) -\n                              1;\n                            let value = pipe.getValueFromMemory(\n                              addrBegin,\n                              addrEnd - addrBegin + 1\n                            );\n\n                            return (\n                              <Grow\n                                in={\n                                  this.props.in == undefined\n                                    ? true\n                                    : this.props.in[index] == undefined\n                                    ? true\n                                    : this.props.in[index][si] == undefined\n                                    ? true\n                                    : this.props.in[index][si][li]\n                                  //return true;\n                                }\n                              >\n                                <Tooltip\n                                  title={value}\n                                  open={\n                                    this.state.open == undefined\n                                      ? false\n                                      : this.state.open[index] == undefined\n                                      ? false\n                                      : this.state.open[index][si] == undefined\n                                      ? false\n                                      : this.state.open[index][si][li]\n                                  }\n                                  onClose={() => {\n                                    let newOpen = this.state.open;\n                                    if (\n                                      !newOpen ||\n                                      index >= newOpen.length ||\n                                      !newOpen[index] ||\n                                      si >= newOpen[index].length ||\n                                      !newOpen[index][si] ||\n                                      li >= newOpen[index][si].length\n                                    )\n                                      newOpen = this.init(false);\n                                    newOpen[index][si][li] = false;\n                                    this.setState({ open: newOpen });\n                                  }}\n                                >\n                                  <ListItem\n                                    button\n                                    onClick={() => {\n                                      let newOpen = this.state.open;\n                                      if (!newOpen) {\n                                        newOpen = this.init(false);\n                                        //console.log(newOpen);\n                                      }\n                                      newOpen[index][si][li] = !newOpen[index][\n                                        si\n                                      ][li];\n                                      this.setState({ open: newOpen });\n                                    }}\n                                  >\n                                    <Typography noWrap>\n                                      {\"0x\" +\n                                        addrBegin.toString(16) +\n                                        \"~\" +\n                                        \"0x\" +\n                                        addrEnd.toString(16)}\n                                    </Typography>\n                                  </ListItem>\n                                </Tooltip>\n                              </Grow>\n                            );\n                          });\n                    })}\n                ) }\n              </List>\n            </ExpansionPanelDetails>\n          </ExpansionPanel>\n        </Draggable>\n      );\n    });\n  }\n}\n\nclass MenuLayout extends React.Component {\n  state = {\n    settingExpanded: false,\n    openMemory: false,\n    openCache: false,\n    openAbout: false,\n    memory: [],\n    cache: [],\n    speedMenuOpen: false,\n    anchorEl: null,\n    speedIndex: 0\n  };\n  Transition(props) {\n    return <Slide direction=\"up\" {...props} />;\n  }\n\n  render() {\n    const mainLayout = this.props.parent;\n    const { anchorEl } = this.state;\n    return (\n      <div>\n        <List>\n          <ListItem>\n            <ListItemText primary=\"HELLO\" />\n          </ListItem>\n          <ListItem\n            button\n            onClick={() => {\n              this.setState({ settingExpanded: !this.state.settingExpanded });\n            }}\n          >\n            <ListItemIcon>\n              <SettingsIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Setting\" />\n          </ListItem>\n          <Collapse\n            in={this.state.settingExpanded}\n            timeout=\"auto\"\n            unmountOnExit\n          >\n            <List component=\"div\" disablePadding>\n              <ListItem\n                button\n                onClick={event => {\n                  this.setState({ anchorEl: event.currentTarget });\n                }}\n              >\n                <ListItemText inset primary=\"Speed\" />\n              </ListItem>\n            </List>\n            <Menu\n              id=\"speed-menu\"\n              anchorEl={anchorEl}\n              open={Boolean(anchorEl)}\n              onClose={() => {\n                //runTimeout = 1000/ speedOpt[this.state.speedIndex];\n                //console.log(\"runtimeout:\"+runTimeout);\n                this.setState({ anchorEl: null });\n              }}\n            >\n              {speedOpt.map((option, index) => (\n                <MenuItem\n                  key={option}\n                  selected={index === this.state.speedIndex}\n                  onClick={event => {\n                    runTimeout = 1000 / speedOpt[index];\n                    console.log(\"runtimeout:\" + runTimeout);\n                    this.setState({ speedIndex: index, anchorEl: null });\n                  }}\n                >\n                  {speedOpt[index]}\n                </MenuItem>\n              ))}\n            </Menu>\n          </Collapse>\n\n          <ListItem\n            button\n            onClick={() => {\n              //show stack\n              this.setState({\n                openMemory: true,\n                memory: pipe.getMemory()\n              });\n            }}\n          >\n            <ListItemIcon>\n              <ReorderIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"Memory\" />\n          </ListItem>\n          <ListItem\n            button\n            onClick={event => {\n              this.setState({\n                openCache: true,\n                cache: pipe.getCache()\n              });\n            }}\n          >\n            <ListItemIcon>\n              <FilterListIcon\n                style={{\n                  transform: \"rotate(180deg)\"\n                }}\n              />\n            </ListItemIcon>\n            <ListItemText inset primary=\"Cache\" />\n          </ListItem>\n        </List>\n        <Divider />\n        <List>\n          <ListItem\n            button\n            key=\"About\"\n            onClick={() => {\n              this.setState({\n                openAbout: true\n              });\n            }}\n          >\n            <ListItemIcon>\n              <InfoIcon />\n            </ListItemIcon>\n            <ListItemText primary=\"About\" />\n          </ListItem>\n        </List>\n\n        <Dialog\n          open={this.state.openMemory}\n          onClose={() => {\n            this.setState({ openMemory: false });\n          }}\n          scroll=\"paper\"\n          keepMounted\n          TransitionComponent={this.Transition}\n        >\n          <DialogTitle>Memory</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              {this.state.memory.map((pair, index) => {\n                return (\n                  <Typography>{\"0x\" + pair[0] + \": \" + pair[1]}</Typography>\n                );\n              })}\n            </DialogContentText>\n          </DialogContent>\n        </Dialog>\n\n        <Dialog\n          open={this.state.openCache}\n          onClose={() => {\n            this.setState({ openCache: false });\n          }}\n          scroll=\"paper\"\n          keepMounted\n          TransitionComponent={this.Transition}\n        >\n          <DialogTitle>Cache Hierarchy</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              {this.state.cache.map((cache, index) => {\n                return (\n                  <div>\n                    <Button style={{ textTransform: \"none\" }}>\n                      {\"L\" +\n                        (index + 1) +\n                        \": \" +\n                        \"t[\" +\n                        cache.t +\n                        \"] s[\" +\n                        cache.s +\n                        \"] b[\" +\n                        cache.b +\n                        \"]\"}\n                    </Button>\n                    <IconButton\n                      onClick={() => {\n                        pipe.removeCache(index);\n                        let cac = pipe.getCache();\n                        if (cac.length == 0) {\n                          this.setState({ openCache: false });\n                        } else this.setState({ cache: cac });\n                        mainLayout.initCache();\n                        mainLayout.refreshCache();\n                      }}\n                    >\n                      <DeleteIcon />\n                    </IconButton>\n                  </div>\n                );\n              })}\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={event => {\n                let cac = pipe.getCache();\n                if (cac.length > 0)\n                  pipe.addCache(\n                    cac[cac.length - 1].t - 1,\n                    cac[cac.length - 1].s + 1\n                  );\n                else pipe.addCache();\n                this.setState({ cache: pipe.getCache() });\n                mainLayout.initCache();\n                mainLayout.refreshCache();\n              }}\n              color=\"primary\"\n            >\n              Add\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <Dialog\n          open={this.state.openAbout}\n          onClose={() => {\n            this.setState({ openAbout: false });\n          }}\n          scroll=\"paper\"\n          keepMounted\n          TransitionComponent={this.Transition}\n        >\n          <DialogTitle>About</DialogTitle>\n          <DialogContent>\n            <DialogContentText>{aboutText}</DialogContentText>\n          </DialogContent>\n          <DialogActions />\n        </Dialog>\n      </div>\n    );\n  }\n}\n\nclass MainLayout extends React.Component {\n  constructor(props) {\n    super(props);\n    this.handleUpload = this.handleUpload.bind(this);\n    this.state = {\n      colorDeg: 45,\n      colorL: 350,\n      colorR: 25,\n      code: [\"Please upload a .yo file\"],\n      textHeight: \"100%\",\n      cardsHide: false,\n      cardsHalt: false,\n      fabIn: true,\n      onFabTransit: false,\n      fabTooltipOpen: false,\n      run: false,\n      drawerOpen: false,\n      onStageAnimation: false,\n      stageIn: true,\n      refreshStage: false,\n      messageQueue: [],\n      snackbarOpen: false,\n      anchorEl: null,\n      cacheIn: [[[]]],\n      cache: pipe.getCache(),\n      oldCache: pipe.getCache(),\n      stageRegisters: pipe.getStageRegisters(),\n      stageStuffs: pipe.getStageStuffs(),\n      registerFile: pipe.getRegisterFile()\n    };\n    this.textFieldDiv = React.createRef();\n  }\n  toast(msg) {\n    let msgQueue = this.state.messageQueue;\n    msgQueue.push(msg);\n    this.setState({\n      messageQueue: msgQueue,\n      snackbarOpen: !this.state.snackbarOpen\n    });\n  }\n\n  handleUpload(event) {\n    //console.log(event);\n    let fileReader = new FileReader();\n    let str;\n    let t = this;\n    fileReader.onload = function(event) {\n      //console.log(\"fileReader onload: \" + event);\n      //alert(\"onload\");\n      str = event.target.result;\n      pipe.init();\n      pipe.setCode(str);\n      //console.log(\"init get:\");\n      //console.log(pipe.getStageRegisters);\n      //pipe.stepi(1);\n\n      t.setState({ stageRegisters: pipe.getStageRegisters() });\n      t.setState({ stageRegisters: pipe.getRegisterFile() });\n\n      t.setState({ stageRegisters: pipe.getStageRegisters() });\n      t.setState({ registerFile: pipe.getRegisterFile() });\n      t.refreshCache();\n      t.setState({ stageIn: false });\n      setTimeout(() => {\n        t.setState({ stageIn: true });\n      }, 10);\n\n      let codeLines = [];\n      let line = \"\";\n      let i = 0;\n      while (i < str.length) {\n        if (str[i] != \"\\n\") {\n          if (str[i] == \" \") line += \"\\xa0\";\n          else line += str[i];\n        } else {\n          codeLines.push(line);\n          line = \"\";\n        }\n        i++;\n      }\n      t.setState({ code: codeLines });\n      //alert(pipe.Memory);\n    };\n    if (event.target.files.length) fileReader.readAsText(event.target.files[0]);\n  }\n  componentDidMount() {\n    // this.setState({ textHeight: this.textFieldDiv.clientHeight });\n    let t = this;\n    setTimeout(function f() {\n      t.setState({\n        colorL: t.state.colorL + colorDel,\n        colorR: t.state.colorR + colorDel\n      });\n      setTimeout(f, 20);\n    }, 20);\n  }\n\n  initCache() {\n    let newCache = pipe.getCache();\n    this.setState({ cache: newCache });\n  }\n  refreshCache() {\n    let newCache = pipe.getCache();\n    let oldCache = this.state.cache;\n    let newIn = [];\n    newIn.length = newCache.length;\n    for (let i = 0; i < newCache.length; i++) {\n      newIn[i] = [];\n      newIn[i].length = newCache[i].set.length;\n      for (let j = 0; j < newCache[i].set.length; j++) {\n        newIn[i][j] = [];\n        newIn[i][j].length = newCache[i].set[j].length;\n\n        for (let k = 0; k < newCache[i].set[j].length; k++) {\n          if (\n            !oldCache ||\n            i >= oldCache.length ||\n            !oldCache[i].set ||\n            j >= oldCache[i].set.length ||\n            !oldCache[i].set[j] ||\n            k >= oldCache[i].set[j].length ||\n            oldCache[i].set[j][k].tag != newCache[i].set[j][k].tag\n          )\n            newIn[i][j][k] = false;\n          else newIn[i][j][k] = true;\n          //newIn[i][j][k] = true;\n        }\n      }\n    }\n    console.log(\"new In\");\n    console.log(newIn);\n    this.setState({ cacheIn: newIn });\n    setTimeout(() => {\n      this.setState({ cache: newCache, cacheIn: undefined });\n    }, 500);\n  }\n  refreshStageRegisters(flag = 1) {\n    this.setState({ stageRegisters: pipe.getStageRegisters() });\n    this.setState({ registerFile: pipe.getRegisterFile() });\n    this.setState({\n      stageStuffs: pipe.getStageStuffs()\n    });\n    if (flag) {\n      this.setState({ stageIn: false });\n      setTimeout(() => {\n        this.setState({ stageIn: true });\n      }, 100);\n    }\n  }\n\n  /* run til breakpoint */\n  runPipe() {\n    let t = this;\n    let temp = colorDel;\n    colorDel = 10;\n    //t.setState({run:true});\n    setTimeout(function func() {\n      let stat = t.stepPipe(1, 0);\n      let PC = pipe.getPC();\n      if (!t.state.run || stat || breakPoints.has(PC)) {\n        t.toast(\"Stop at: 0x\" + PC);\n        if (t.state.run) {\n          t.setState({\n            fabIn: false\n          });\n        }\n        colorDel = temp;\n        t.refreshStageRegisters();\n        return;\n      }\n\n      setTimeout(func, runTimeout);\n    }, runTimeout);\n  }\n\n  stepPipe(i, flag = 1) {\n    let rtn = pipe.stepi(i);\n    switch (rtn) {\n      case 2:\n        this.toast(\"Address Error!\");\n        return rtn;\n      case 3:\n        this.toast(\"Instruction Invalid!\");\n        return rtn;\n      case 4:\n        this.toast(\"Halt!\");\n        return rtn;\n    }\n    this.refreshStageRegisters(flag);\n    this.refreshCache();\n    return rtn;\n  }\n\n  render() {\n    const { classes } = this.props;\n    const { anchorEl } = this.state;\n\n    return (\n      <div className={classes.root}>\n        <CssBaseline />\n        <MuiThemeProvider theme={theme}>\n          <Drawer\n            open={this.state.drawerOpen}\n            onClose={() => {\n              this.setState({ drawerOpen: false });\n            }}\n          >\n            <MenuLayout parent={this} />\n            <div\n              tabIndex={0}\n              role=\"button\"\n              onClick={() => {\n                this.setState({ drawerOpen: false });\n              }}\n              onKeyDown={() => {\n                this.setState({ drawerOpen: false });\n              }}\n            />\n          </Drawer>\n          <AppBar\n            position=\"fixed\"\n            className={classes.appBar}\n            style={{\n              display: \"flex\",\n              alignContent: \"center\",\n              background:\n                \"linear-gradient(\" +\n                this.state.colorDeg +\n                \"deg, hsl(\" +\n                this.state.colorL +\n                \",50%,60%) 30%, hsl(\" +\n                this.state.colorR +\n                \",50%,60%)  90%)\"\n            }}\n          >\n            <Toolbar style={{ height: \"100%\" }}>\n              <IconButton\n                color=\"inherit\"\n                aria-label=\"Open drawer\"\n                onClick={() => {\n                  this.setState({ drawerOpen: true });\n                }}\n              >\n                <MenuIcon />\n              </IconButton>\n              <Tooltip title=\"Upload\" enterDelay={1000} leaveDelay={200}>\n                <IconButton\n                  color=\"inherit\"\n                  onClick={() => this.fileUpload.click()}\n                >\n                  <AddIcon />\n                </IconButton>\n              </Tooltip>\n              <input\n                type=\"file\"\n                accept=\".yo\"\n                ref={ref => (this.fileUpload = ref)}\n                style={{ visibility: \"hidden\" }}\n                onInput={this.handleUpload}\n              />\n\n              <Typography\n                variant=\"h6\"\n                color=\"inherit\"\n                noWrap\n                style={{ position: \"absolute\", right: 30 }}\n              >\n                {appBarTitle}\n              </Typography>\n            </Toolbar>\n\n            <div\n              style={{\n                position: \"fixed\",\n                height: 0,\n\n                hide: \"true\"\n              }}\n            >\n              <CacheLayout in={this.state.cacheIn} cache={this.state.cache} />\n            </div>\n          </AppBar>\n          {\n            //}toast\n          }\n\n          <Snackbar\n            key={0}\n            anchorOrigin={{\n              vertical: \"bottom\",\n              horizontal: \"left\"\n            }}\n            open={this.state.snackbarOpen}\n            autoHideDuration={1000}\n            onClose={() => {\n              this.setState({\n                snackbarOpen: false\n              });\n            }}\n            onExited={() => {\n              let msg = this.state.messageQueue;\n              msg.shift();\n              if (msg.length > 0) {\n                this.setState({\n                  messageQueue: msg,\n                  snackbarOpen: true\n                });\n              }\n            }}\n            ContentProps={{\n              \"aria-describedby\": \"message-id\"\n            }}\n            message={<span id=\"message-id\">{this.state.messageQueue[0]}</span>}\n          />\n\n          <main className={classes.content}>\n            <div>\n              <StageCards\n                stageRegisters={this.state.stageRegisters}\n                classes={classes}\n                hide={!this.state.run}\n              />\n            </div>\n\n            <div\n              style={{\n                width: \"100%\",\n                height: window.innerHeight - theme.spacing.unit * 20,\n\n                display: \"flex\",\n                alignItems: \"stretch\",\n                marginBottom: theme.spacing.unit * 3\n              }}\n            >\n              <div\n                style={{\n                  //flex: 1,\n                  //flexBasis:10000,\n                  marginRight: theme.spacing.unit * 3,\n                  width: \"60%\"\n                }}\n              >\n                <CodeLayout\n                  classes={classes}\n                  code={this.state.code}\n                  parent={this}\n                />\n              </div>\n\n              <div\n                style={{\n                  //flex:1,\n                  width: \"40%\"\n                }}\n              >\n                <StageRegistersLayout\n                  stageRegisters={this.state.stageRegisters}\n                  stageStuffs={this.state.stageStuffs}\n                  classes={classes}\n                  in={this.state.stageIn}\n                />\n              </div>\n            </div>\n            <div style={{ marginBottom: theme.spacing.unit * 3 }}>\n              <ExpansionPanel defaultExpanded={false} onMouseEnter={e => {}}>\n                <ExpansionPanelSummary expandIcon={<ExpandMoreIcon />}>\n                  <Typography>RegisterFile</Typography>\n                </ExpansionPanelSummary>\n                <ExpansionPanelDetails className={classes.details}>\n                  {\n                    //mention! add width:100% if wrapped by other labels }\n                  }\n                  <RegisterFileLayout classes={classes} />\n                </ExpansionPanelDetails>\n              </ExpansionPanel>\n            </div>\n          </main>\n          <div\n            style={{\n              zIndex: 1,\n              position: \"fixed\",\n              bottom: 0,\n              right: 0\n            }}\n          >\n            <TriTooltip title=\"Double Click to Run\">\n              <Zoom\n                in={this.state.fabIn}\n                onEntered={() => {\n                  this.setState({\n                    onFabTransit: false\n                  });\n                  if (this.state.run) {\n                    this.runPipe();\n                  }\n                }}\n                onExit={() => {\n                  this.setState({\n                    onFabTransit: true\n                  });\n                }}\n                onExited={() => {\n                  this.setState({\n                    fabIn: true,\n                    run: !this.state.run\n                  });\n                }}\n              >\n                <Fab\n                  color=\"secondary\"\n                  style={{ margin: theme.spacing.unit * 3 }}\n                >\n                  {this.state.run ? (\n                    <PauseIcon\n                      onClick={() => {\n                        //this.toast(\"stepi\");\n                        this.setState({\n                          fabIn: false\n                        });\n                        //this.refreshStageRegisters();\n                      }}\n                    />\n                  ) : (\n                    <ChevronRightIcon\n                      onClick={() => {\n                        //this.toast(\"stepi\");\n                        this.stepPipe(1);\n                      }}\n                      onDoubleClick={() => {\n                        if (this.state.onFabTransit) {\n                          return;\n                        }\n                        this.toast(\"Run\");\n                        this.setState({\n                          fabIn: false\n                        });\n                      }}\n                    />\n                  )}\n                </Fab>\n              </Zoom>\n            </TriTooltip>\n          </div>\n        </MuiThemeProvider>\n      </div>\n    );\n  }\n}\nclass TriTooltip extends React.Component {\n  state = {\n    open: false,\n    cnt: 3\n  };\n  render() {\n    const props = this.props;\n    return (\n      <Tooltip\n        title={this.props.title}\n        enterDelay={500}\n        leaveDelay={200}\n        onOpen={() => {\n          if (!this.state.cnt) return;\n          this.setState({ cnt: this.state.cnt - 1 });\n          this.setState({ open: true });\n        }}\n        onClose={() => {\n          this.setState({ open: false });\n        }}\n        open={this.state.open}\n        enterDelay={500}\n        leaveDelay={200}\n      >\n        {props.children}\n      </Tooltip>\n    );\n  }\n}\n\nMainLayout.propTypes = {\n  classes: PropTypes.object.isRequired\n};\n\nexport default withStyles(styles)(MainLayout);\n"]},"metadata":{},"sourceType":"module"}